var ya=Object.defineProperty;var Kt=Object.getOwnPropertySymbols;var ja=Object.prototype.hasOwnProperty,va=Object.prototype.propertyIsEnumerable;var Zt=(s,e,a)=>e in s?ya(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a,$=(s,e)=>{for(var a in e||(e={}))ja.call(e,a)&&Zt(s,a,e[a]);if(Kt)for(var a of Kt(e))va.call(e,a)&&Zt(s,a,e[a]);return s};import{_ as u,o as g,c as l,a as t,t as c,r as m,w as U,v as H,b as _,d as f,e as p,f as q,n as y,g as fa,h as zt,i as w,j as v,F as k,k as C,l as I,m as ba,p as x,q as $a,P as ea,C as Sa,s as wa,u as ka,x as Ca,y as Ua,z as Ma,A as xa,B as Ta,D as Ia,E as Da,V as Aa}from"./vendor.4ecc71fe.js";const Oa=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function a(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=a(r);fetch(r.href,i)}};Oa();const La={props:{guests:{type:Object,required:!0}},data(){return{guestSelected:null}},created(){this.guestSelected=$({},this.guests)},methods:{closeGuestsModal(){this.guestSelected=$({},this.guests),this.$emit("closeGuestsModal")},changeCount(s,e){s==="adults"&&this.guestSelected.adults===0&&e===-1||s==="children"&&this.guestSelected.children===0&&e===-1||(s==="children"&&e===1&&this.guestSelected.adults===0&&(this.guestSelected.adults=1),!(s==="adults"&&this.guestSelected.adults===1&&e===-1&&this.guestSelected.children>0)&&(this.guestSelected[s]+=e,this.$emit("onSelectGuests",$({},this.guestSelected))))},onSelectGuests(){this.$emit("closeGuestsModal")}}},Fa={class:"select-guests-modal"},Ga=t("p",{class:"guests-modal-title"},"Select guests",-1),Pa={class:"guests-type-container"},Na=t("span",{class:"guests-type"},"Adults",-1),Ba={class:"guests-counter"},Ra={class:"guests-number"},Ha={class:"guests-type-container"},qa=t("span",{class:"guests-type"},"Children",-1),Ea={class:"guests-counter"},Va={class:"guests-number"},Ja={class:"guests-btns-container"};function Wa(s,e,a,o,r,i){return g(),l("section",Fa,[Ga,t("div",Pa,[Na,t("div",Ba,[t("span",{class:"material-icons guest-count-icon",onClick:e[0]||(e[0]=n=>i.changeCount("adults",-1))}," remove "),t("span",Ra,c(r.guestSelected.adults),1),t("span",{class:"material-icons guest-count-icon",onClick:e[1]||(e[1]=n=>i.changeCount("adults",1))}," add ")])]),t("div",Ha,[qa,t("div",Ea,[t("span",{class:"material-icons guest-count-icon",onClick:e[2]||(e[2]=n=>i.changeCount("children",-1))}," remove "),t("span",Va,c(r.guestSelected.children),1),t("span",{class:"material-icons guest-count-icon",onClick:e[3]||(e[3]=n=>i.changeCount("children",1))}," add ")])]),t("div",Ja,[t("div",{class:"guest-modal-btn",onClick:e[4]||(e[4]=(...n)=>i.onSelectGuests&&i.onSelectGuests(...n))},"OK")])])}var Ya=u(La,[["render",Wa]]),ta="/assets/search.c73f10dd.svg";const Xa={name:"main-search",props:{savedLocation:{type:String},savedDates:{type:Object},savedGuests:{type:Object}},data(){return{headerObserver:null,stickyNav:!1,isSelectingGuests:!1,location:"",dates:null,guests:{adults:0,children:0},isSearchOpen:!1}},components:{selectGuestsModal:Ya},mounted(){window.addEventListener("click",this.clickCheck)},created(){this.location=this.savedLocation,this.dates=this.savedDates,this.guests=this.savedGuests},methods:{formatedDate(s){if(!this.dates)return"Add dates";const e=new Date(this.dates[s]);return`${e.getDate()<10?"0"+e.getDate():e.getDate()}/${e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1}/${e.getFullYear().toString().substring(2)}`},closeGuestsModal(){this.isSelectingGuests=!1},onSelectGuests(s){this.guests=s},onSearch(){if(!this.location&&!this.dates&&this.guests.adults===0)this.isSearchOpen=!0,this.$refs["location-input"].focus();else{let s="/stay";const e=this.location,a=this.guests.adults+this.guests.children;this.$store.commit({type:"setGuestsFilter",guests:a}),e&&(s+=`?destination=${e}`),this.$store.commit({type:"setCityFilter",city:e}),this.$router.push(`${s}`),this.isSearchOpen=!1}},clickCheck(s){const e=s.target.className,a=s.target.localName;e==="search-btn"||e==="input"||e==="label"||e==="date-picker-container"||e==="guests-input"||e===""||a==="input"||(this.isSearchOpen=!1)}},computed:{getMainSearchText(){return this.$route.query.destination?this.$route.query.destination:"Add dates"},getGuestsNumber(){const s=this.guests.adults+this.guests.children;return s?s===1?"1 guest":`${s} guests`:"Add guests"},toggleSearchBtnClass(){return{"opened-search-icon":this.isSearchOpen,"search-icon":!this.isSearchOpen}}},watch:{dates(){this.$emit("mainSearchClosed",this.location,this.dates)},guests(){this.$emit("mainSearchClosed",this.location,this.dates,this.guests)}},unmounted(){this.$emit("mainSearchClosed",this.location,this.dates,this.guests),window.removeEventListener("click",this.clickCheck)}},Ka={class:"main-search-section"},Za={class:"header-input location-input-top flex flex-column"},za=t("label",{for:"location-input",class:"label location-input"},"Location",-1),Qa=["placeholder"],si=t("span",{class:"search-space"},null,-1),ei={class:"date-picker-container header-input flex"},ti=t("div",{class:"label check-in-label"},"Check in",-1),ai={class:"input add-dates"},ii=t("span",{class:"search-space"},null,-1),ri={class:"header-input date-input check-out-top flex flex-column"},oi=t("div",{class:"label check-out-label"},"Check out",-1),ni={class:"block date-picker"},gi=t("span",{class:"search-space"},null,-1),li={class:"header-input guestsInput flex"},ci={class:"guests-input-container flex flex-column"},di=t("label",{for:"guestsInput",class:"label"},"Guests",-1),pi=t("img",{src:ta,class:"search-btn",alt:"search icon"},null,-1),mi=t("h3",null,"Search",-1),ui=[pi,mi];function _i(s,e,a,o,r,i){const n=m("el-date-picker"),d=m("select-guests-modal");return g(),l("section",Ka,[t("form",{onSubmit:e[5]||(e[5]=q(()=>{},["prevent"])),class:"main-search-container flex align-center btn"},[t("div",Za,[za,U(t("input",{class:"input",ref:"location-input",type:"text","onUpdate:modelValue":e[0]||(e[0]=h=>r.location=h),id:"location-input",name:"location-input",placeholder:i.getMainSearchText,autocomplete:"off",spellcheck:"false"},null,8,Qa),[[H,r.location]])]),si,t("div",ei,[t("div",{onClick:e[1]||(e[1]=h=>s.$refs.focus()),class:"date-input check-in-top flex flex-column"},[ti,t("div",ai,c(i.formatedDate(0)),1)]),ii,t("div",ri,[oi,t("div",{class:"input add-dates",contenteditable:"true",ref:"div"},c(i.formatedDate(1)),513)]),t("div",ni,[_(n,{modelValue:r.dates,"onUpdate:modelValue":e[2]||(e[2]=h=>r.dates=h),type:"daterange","range-separator":"|","start-placeholder":"Add dates","end-placeholder":"Add dates",clearable:!0,"value-format":"x"},null,8,["modelValue"])])]),gi,t("div",li,[t("div",ci,[di,t("div",{class:"input guests-input",onClick:e[3]||(e[3]=h=>r.isSelectingGuests=!r.isSelectingGuests),placeholder:"Add guests"},c(i.getGuestsNumber),1)]),r.isSelectingGuests?(g(),f(d,{key:0,guests:r.guests,onCloseGuestsModal:i.closeGuestsModal,onOnSelectGuests:i.onSelectGuests},null,8,["guests","onCloseGuestsModal","onOnSelectGuests"])):p("",!0),t("button",{onClick:e[4]||(e[4]=q((...h)=>i.onSearch&&i.onSearch(...h),["prevent"])),class:y(["search-icon",i.toggleSearchBtnClass])},ui,2)])],32)])}var hi=u(Xa,[["render",_i]]);const yi={name:"header-user-menu",data(){return{user:null}},methods:{logout(){this.$emit("logout")},signUp(s){this.$emit("openSignUp",s)},goToAboutPage(){this.$router.push("/about")},goToMyTrips(){this.$emit("goToMyTrips")},goToDashBoardPage(){this.$emit("goToDashboard")},goToExplorePage(){this.$emit("goToExplore")}},computed:{isLoggedIn(){return!!this.$store.getters.getLoggedInUser},isHosting(){const s=this.$store.getters.getHostOrders;return s?!!s.length:!1}}},ji={class:"header-user-menu"},vi=t("hr",null,null,-1),fi={key:5},bi=t("p",null,"Help",-1);function $i(s,e,a,o,r,i){return g(),l("section",ji,[i.isLoggedIn?p("",!0):(g(),l("p",{key:0,class:"sign-up-option",onClick:e[0]||(e[0]=n=>i.signUp(!0))}," Sign up ")),i.isLoggedIn?p("",!0):(g(),l("p",{key:1,onClick:e[1]||(e[1]=n=>i.signUp(!1))},"Log in")),i.isLoggedIn?(g(),l("p",{key:2,onClick:e[2]||(e[2]=(...n)=>i.logout&&i.logout(...n))},"Log out")):p("",!0),vi,t("p",{onClick:e[3]||(e[3]=(...n)=>i.goToExplorePage&&i.goToExplorePage(...n)),class:"user-menu-explore"},"Explore"),i.isLoggedIn?(g(),l("p",{key:3,onClick:e[4]||(e[4]=(...n)=>i.goToMyTrips&&i.goToMyTrips(...n))},"My Trips")):p("",!0),i.isLoggedIn?(g(),l("p",{key:4,onClick:e[5]||(e[5]=(...n)=>i.goToDashBoardPage&&i.goToDashBoardPage(...n))},"Dashboard")):p("",!0),i.isHosting?p("",!0):(g(),l("p",fi,"Host your home")),bi,t("p",{onClick:e[6]||(e[6]=(...n)=>i.goToAboutPage&&i.goToAboutPage(...n))},"About")])}var Si=u(yi,[["render",$i]]);const wi={name:"header-user-menu",data(){return{fullname:"",username:"",password:"",isUsernameAlert:!1,isInputAlert:!1,isInvalidAlert:!1}},methods:{toggleNewUser(){this.$emit("toggleNewUser")},async submitSignUp(){const s=this.$store.getters.isNewUser;if(!this.password||!this.username||s&&!this.fullname){this.isInputAlert=!0,this.isUsernameAlert=!1,this.isInvalidAlert=!1;return}const e={username:this.username,password:this.password};if(s){const a={fullname:this.fullname,username:this.username,password:this.password,imgUrl:"https://picsum.photos/200/300"};await this.$store.dispatch({type:"signUp",user:a}),this.cleanData(),this.$emit("closeSignUp")}else try{await this.$store.dispatch({type:"login",user:e}),this.cleanData(),this.$emit("closeSignUp")}catch(a){console.error("Error while trying to log in:",a),this.$router.push("/"),setTimeout(()=>{this.cleanData(),this.isInputAlert=!1,this.isUsernameAlert=!1,this.isInvalidAlert=!0},800)}},closeSignUp(){this.cleanData(),this.$emit("closeSignUp")},cleanData(){this.isInputAlert=!1,this.isUsernameAlert=!1,this.isInvalidAlert=!1,this.username="",this.password=""}},computed:{isNewUser(){return this.$store.getters.isNewUser}}},ki={key:0,class:"sign-up-title"},Ci={key:1,class:"sign-up-title"},Ui=t("h1",{class:"sign-up-welcome"},"Welcome to RestInn",-1),Mi={key:2,class:"input-alert"},xi={key:3,class:"input-alert"},Ti={key:4,class:"input-alert"},Ii={key:5,class:"no-alert"},Di={ref:"inputs",class:"sign-up-inputs-container"};function Ai(s,e,a,o,r,i){return g(),l("section",{class:y(["sign-up-modal",{newUserModal:i.isNewUser}]),onKeyup:e[7]||(e[7]=fa((...n)=>i.submitSignUp&&i.submitSignUp(...n),["enter"]))},[t("span",{class:"material-icons close-sign-up",onClick:e[0]||(e[0]=(...n)=>i.closeSignUp&&i.closeSignUp(...n))}," close "),i.isNewUser?(g(),l("p",ki,"Sign up")):(g(),l("p",Ci,"Log in")),Ui,r.isInputAlert?(g(),l("p",Mi,"All fields are recommended")):p("",!0),r.isUsernameAlert?(g(),l("p",xi," Please enter a valid username address ")):p("",!0),r.isInvalidAlert?(g(),l("p",Ti," Invalid username or password ")):p("",!0),!r.isInputAlert&&!r.isUsernameAlert&&!r.isInvalidAlert?(g(),l("p",Ii," . ")):p("",!0),t("div",Di,[i.isNewUser?U((g(),l("input",{key:0,ref:"fullname",class:"sign-up-input fullname",type:"text","onUpdate:modelValue":e[1]||(e[1]=n=>r.fullname=n),placeholder:"Full name"},null,512)),[[H,r.fullname]]):p("",!0),U(t("input",{ref:"username",class:y(["sign-up-input",{newUserMode:i.isNewUser}]),type:"text","onUpdate:modelValue":e[2]||(e[2]=n=>r.username=n),placeholder:"Username"},null,2),[[H,r.username]]),U(t("input",{class:"sign-up-input",type:"password","onUpdate:modelValue":e[3]||(e[3]=n=>r.password=n),placeholder:"Password"},null,512),[[H,r.password]])],512),i.isNewUser?(g(),l("h3",{key:6,onClick:e[4]||(e[4]=(...n)=>i.toggleNewUser&&i.toggleNewUser(...n))},"I have an account")):(g(),l("h3",{key:7,onClick:e[5]||(e[5]=(...n)=>i.toggleNewUser&&i.toggleNewUser(...n))},"New user")),t("div",{class:"sign-up-continue",onClick:e[6]||(e[6]=(...n)=>i.submitSignUp&&i.submitSignUp(...n))},"Continue")],34)}var aa=u(wi,[["render",Ai]]),Oi="/assets/menu_black_24dp.c4cfbab0.svg",Li="/assets/user-avatar.16ee6c53.svg";const Fi={name:"app-header",props:{headerStatus:{type:String,default:"top"}},data(){return{isShowingHamburger:!1,isSignUp:!1,scrollLoc:0,scrollStatus:"up",isFullSearch:!0,showMainSearch:!0,headerClass:"",isSearch:!0,layout:"main-layout-homepage"}},created(){document.addEventListener("scroll",this.updateScroll)},methods:{goToMyTrips(){this.isShowingHamburger=!1,this.$router.push("/mytrips")},goToDashboard(){this.isShowingHamburger=!1,this.$router.push("/dashboard")},goToExplore(){this.isShowingHamburger=!1,this.$router.push("/stay")},updateScroll(){window.scrollY<=20?this.scrollStatus="up":this.scrollStatus="down",this.setHeaderClass()},logout(){this.$store.dispatch({type:"logout"}),this.isShowingHamburger=!1,this.$router.push("/")},openSignUp(s){this.$store.commit({type:"openSignUpModal",isNew:s}),this.isShowingHamburger=!1},mainSearchClosed(s,e,a){this.$store.commit({type:"setLocation",location:s}),this.$store.commit({type:"setDates",dates:e}),this.$store.commit({type:"setGuests",guests:a})},toggleShowMainSearch(){this.showMainSearch=!this.showMainSearch},goHome(){this.$router.push("/")},setHeaderClass(){this.$route.path==="/"?(this.layout="main-layout-homepage",this.isSearch=!0,this.scrollStatus==="up"?(this.showMainSearch=!0,this.headerClass="full-search-home"):(this.showMainSearch=!1,this.headerClass="small-search")):this.$route.params.stayId?(this.layout="main-layout",this.isSearch=!0,this.showMainSearch=!1,this.headerClass="small-search"):this.$route.path==="/stay"?(this.layout="main-layout-homepage",this.isSearch=!0,this.showMainSearch=!1,this.headerClass="small-search"):this.$route.path==="/dashboard"?(this.layout="main-layout-homepage",this.isSearch=!1,this.headerClass="on-dashboard",this.showMainSearch=!1):(this.layout="main-layout-homepage",this.isSearch=!1,this.headerClass="small-search")}},computed:{getImageUrl(){const s=this.$store.getters.getLoggedInUser;return(s==null?void 0:s.username)==="111"?(console.log("111 is looged in!"),new URL("/assets/liran2.5b1bb8a5.jpg",self.location)):"https://thispersondoesnotexist.com/image"},isLoggedIn(){return!!this.$store.getters.getLoggedInUser},homepageClass(){let s="";return this.scrollLoc>20&&(s+="scrolled "),this.$route.path==="/"&&(s+="homepage"),s},getSearchText(){return this.$route.query.destination?this.$route.query.destination:"Start your search"},getDates(){return this.$store.getters.getDates},getGuests(){return this.$store.getters.getGuests},getLocation(){return this.$route.query.destination?this.$route.query.destination:""}},watch:{$route(){this.updateScroll()}},components:{mainSearch:hi,headerUserMenu:Si,signUp:aa}},Gi={class:"main-header-section"},Pi={class:"logo-nav-container flex"},Ni=t("i",{class:"fa-brands fa-airbnb"},null,-1),Bi=t("h1",{class:"logo-txt"},"RestInn",-1),Ri=[Ni,Bi],Hi=t("div",{class:"search-icon-small"},[t("img",{src:ta,alt:"search Icon"})],-1),qi={class:"main-header-nav flex align-center"},Ei=v("Explore"),Vi=t("a",{class:"be-host-nav"},"Become a host",-1),Ji=t("img",{class:"hamburger-img",src:Oi,alt:"menu-icon"},null,-1),Wi={key:0,class:"hamburger-avatar",src:Li,alt:"user avatar"},Yi=["src"],Xi={class:"main-search-bar flex justify-center align-center"};function Ki(s,e,a,o,r,i){const n=m("router-link"),d=m("header-user-menu"),h=m("main-search");return g(),l("section",Gi,[t("header",{class:y(["main-header-container flex flex-column align-center",{[r.headerClass]:!0,[r.layout]:!0}])},[t("div",Pi,[t("div",{class:"logo flex align-center",onClick:e[0]||(e[0]=(...j)=>i.goHome&&i.goHome(...j))},Ri),U(t("div",{onClick:e[1]||(e[1]=(...j)=>i.toggleShowMainSearch&&i.toggleShowMainSearch(...j)),class:"mini-search inline-flex justify-center align-center space-between"},[t("div",null,c(i.getSearchText),1),Hi],512),[[zt,!r.showMainSearch&&r.isSearch]]),t("nav",qi,[_(n,{to:"/stay"},{default:w(()=>[Ei]),_:1}),Vi,t("div",{class:"hamburger-user-menu btn flex space-between",onClick:e[2]||(e[2]=j=>r.isShowingHamburger=!0)},[Ji,i.isLoggedIn?(g(),l("img",{key:1,class:"hamburger-avatar user-avater-image",src:i.getImageUrl,alt:"user avatar"},null,8,Yi)):(g(),l("img",Wi))]),_(d,{class:y({showHamburger:r.isShowingHamburger}),onGoToDashboard:i.goToDashboard,onGoToMyTrips:i.goToMyTrips,onOpenSignUp:i.openSignUp,onLogout:i.logout,onGoToExplore:i.goToExplore},null,8,["class","onGoToDashboard","onGoToMyTrips","onOpenSignUp","onLogout","onGoToExplore"])]),r.isShowingHamburger?(g(),l("div",{key:0,class:"outsideUserMenu",onClick:e[3]||(e[3]=j=>r.isShowingHamburger=!1)})):p("",!0)]),U(t("div",Xi,[_(h,{onMainSearchClosed:i.mainSearchClosed,savedLocation:i.getLocation,savedDates:i.getDates,savedGuests:i.getGuests},null,8,["onMainSearchClosed","savedLocation","savedDates","savedGuests"])],512),[[zt,r.showMainSearch&&r.isSearch]])],2)])}var Zi=u(Fi,[["render",Ki]]);const zi={name:"app-footer"},Qi={class:"footer flex justify-center aline-center"},sr=t("div",{class:"rights"},[t("p",null,"\xA9 2022 RestInn")],-1),er=[sr];function tr(s,e,a,o,r,i){return g(),l("section",Qi,er)}var Qt=u(zi,[["render",tr]]);const ar={name:"app",components:{appHeader:Zi,appFooter:Qt,AppFooter:Qt,signUp:aa},data(){return{headerStatus:"top",scrollY:0}},async created(){const s={price:[1,4e3],type:[],city:"",amenities:[],guests:0};this.$store.dispatch({type:"getUserFromSession"}),this.$store.getters.getLoggedInUser,await this.$store.dispatch({type:"loadStays",filterBy:s})},computed:{isSignUp(){const s=this.$store.getters.isSignUpModal;return s&&(this.$store.getters.isNewUser||this.$refs.signup.$refs.username.focus()),s}},methods:{toggleNewUser(){this.$store.getters.isNewUser?(this.$refs.signup.$refs.fullname.blur(),this.$store.commit({type:"toggleNewUser"}),this.$refs.signup.$refs.username.focus()):(this.$refs.signup.$refs.username.blur(),this.$store.commit({type:"toggleNewUser"}),setTimeout(()=>{this.$refs.signup.$refs.fullname.focus()},10))},closeSignUp(){this.$store.commit({type:"closeSignUpModal"}),this.$router.push("/")}}},ir={class:"app-container"},rr={class:"main-app-container flex flex-column app-container"};function or(s,e,a,o,r,i){const n=m("sign-up"),d=m("app-header"),h=m("router-view"),j=m("app-footer");return g(),l("section",ir,[_(n,{class:y({showSignUp:i.isSignUp}),onCloseSignUp:i.closeSignUp,onToggleNewUser:i.toggleNewUser,ref:"signup"},null,8,["class","onCloseSignUp","onToggleNewUser"]),i.isSignUp?(g(),l("div",{key:0,class:"outsideUserMenu",onClick:e[0]||(e[0]=(...Jt)=>i.closeSignUp&&i.closeSignUp(...Jt))})):p("",!0),t("div",rr,[_(d),_(h,{class:"main-layout-height"}),_(j)])])}var nr=u(ar,[["render",or]]),E="/assets/001.56009581.jpeg",V="/assets/002.aba6c90a.jpeg",J="/assets/003.bf107555.jpeg",W="/assets/004.039dd32e.jpeg",Y="/assets/005.c309e5f6.jpeg",X="/assets/006.257c0112.jpeg",K="/assets/007.42af7aac.jpeg",Z="/assets/008.8f6d2ead.jpeg",z="/assets/009.fdc070ea.jpeg",Q="/assets/010.4fde52d4.jpeg",ss="/assets/011.b763f7c0.jpeg",es="/assets/012.3e4eac6a.jpeg",ts="/assets/013.0a610e0c.jpeg",as="/assets/014.8293a76a.jpeg",is="/assets/015.741f77ae.jpeg",rs="/assets/016.788b9ce3.jpeg",os="/assets/017.c386887d.jpeg",ns="/assets/018.94a5ebb5.jpeg",gs="/assets/019.8e96c025.jpeg",ls="/assets/020.c365da97.jpeg",cs="/assets/021.75d3ef8f.jpeg",ds="/assets/022.ca8c152d.jpeg",ps="/assets/023.91d92ad5.jpeg",ms="/assets/024.1b11a4c3.jpeg",us="/assets/025.85878dc3.jpeg",_s="/assets/026.2441e7a7.jpeg",hs="/assets/027.67531186.jpeg",ys="/assets/028.e3b6c229.jpeg",js="/assets/029.61f958f9.jpeg",vs="/assets/030.eccf344d.jpeg",fs="/assets/031.e8e70263.jpeg",bs="/assets/032.26553dbf.jpeg",$s="/assets/033.827159be.jpeg",Ss="/assets/034.e211fe64.jpeg",ws="/assets/035.a354b153.jpeg",ks="/assets/036.4c31a8ee.jpeg",Cs="/assets/037.3a21df06.jpeg",Us="/assets/038.b9f57513.jpeg",Ms="/assets/039.d9834aac.jpeg",xs="/assets/040.f17f240d.jpeg",Ts="/assets/041.17aefa50.jpeg",Is="/assets/042.1316ceec.jpeg",Ds="/assets/043.abf0b02a.jpeg",As="/assets/044.f314352d.jpeg",Os="/assets/045.f7eba795.jpeg",Ls="/assets/046.22584889.jpeg",Fs="/assets/047.06d66353.jpeg",Gs="/assets/048.72f9ff3b.jpeg",Ps="/assets/049.03c73890.jpeg",Ns="/assets/050.a7e3a529.jpeg",Bs="/assets/051.8f7ade7f.jpeg",Rs="/assets/052.6b836ec7.jpeg",Hs="/assets/053.28d6cf2e.jpeg",qs="/assets/054.e770010e.jpeg",Es="/assets/055.dd3648e0.jpeg",Vs="/assets/056.75d33de2.jpeg",Js="/assets/057.05d01841.jpeg",Ws="/assets/058.dd93f7d9.jpeg",Ys="/assets/059.7132f238.jpeg",Xs="/assets/060.6cbc3759.jpeg",Ks="/assets/061.5d90b098.jpeg",Zs="/assets/062.3da3d121.jpeg",zs="/assets/063.15db22a3.jpeg",Qs="/assets/064.7a790972.jpeg",se="/assets/065.f2153245.jpeg",ee="/assets/066.8ebb4e14.jpeg",te="/assets/067.4afb1c56.jpeg",ae="/assets/068.b61f37e3.jpeg",ie="/assets/069.65ad9632.jpeg",re="/assets/070.822f9f43.jpeg",oe="/assets/071.ec43d03f.jpeg",ne="/assets/072.5ba20ef5.jpeg",ge="/assets/073.41404185.jpeg",le="/assets/074.37848ba0.jpeg",ce="/assets/075.e518f478.jpeg",de="/assets/076.82301c95.jpeg",pe="/assets/077.06eacf7f.jpeg",me="/assets/078.22e2c94d.jpeg",ue="/assets/079.52cbb3f7.jpeg",_e="/assets/080.44213bbf.jpeg",he="/assets/081.1e480430.jpeg",ye="/assets/082.4107e8dc.jpeg",je="/assets/083.88f36eef.jpeg",ve="/assets/084.d6cb4ebb.jpeg",fe="/assets/085.43eb74d7.jpeg",be="/assets/086.76b0f28c.jpeg",$e="/assets/087.f20ac33f.jpeg",Se="/assets/088.e63dc5b0.jpeg",we="/assets/089.b3938fed.jpeg",ke="/assets/090.a288cec8.jpeg",Ce="/assets/091.bfe8c696.jpeg",Ue="/assets/092.a8dccdca.jpeg",Me="/assets/093.94e94eef.jpeg",xe="/assets/094.c6c2978a.jpeg",Te="/assets/095.9d5fd11e.jpeg",Ie="/assets/096.e758c6c6.jpeg",De="/assets/097.2a2d2114.jpeg",Ae="/assets/098.cd04c448.jpeg",Oe="/assets/099.efe7d930.jpeg",Le="/assets/100.88d126bd.jpeg",Fe="/assets/101.2111e16d.jpeg",Ge="/assets/102.892fdbaa.jpeg",Pe="/assets/103.3adf4193.jpeg",Ne="/assets/104.3c0251cc.jpeg",Be="/assets/105.df4c5253.jpeg",Re="/assets/106.8ab22027.jpeg",He="/assets/107.0a79e202.jpeg",qe="/assets/108.2f48ba34.jpeg",Ee="/assets/109.0716c9e6.jpeg",Ve="/assets/110.e06f1955.jpeg",Je="/assets/111.d12c9b1f.jpeg",We="/assets/112.d7035de7.jpeg",Ye="/assets/113.4f0e4b81.jpeg",Xe="/assets/114.580202aa.jpeg",Ke="/assets/115.a156f0a3.jpeg",Ze="/assets/116.19cb7a53.jpeg",ze="/assets/117.bc48baa3.jpeg",Qe="/assets/118.fd0d4056.jpeg",st="/assets/119.5bf7fa0f.jpeg",et="/assets/120.054b2482.jpeg",tt="/assets/121.d365d6fa.jpeg",at="/assets/122.09277c65.jpeg",it="/assets/123.a1689260.jpeg",rt="/assets/124.16e98d1a.jpeg",ot="/assets/125.7551a255.jpeg",nt="/assets/126.cf133469.jpeg",gt="/assets/127.7da97c41.jpeg",lt="/assets/128.a1d9aef5.jpeg",ct="/assets/129.7b322acd.jpeg",dt="/assets/130.331b5ecb.jpeg",pt="/assets/131.39b1b425.jpeg",mt="/assets/132.f54aad0e.jpeg",ut="/assets/133.33964f83.jpeg",_t="/assets/134.2bf21739.jpeg",ht="/assets/135.67cf5f1c.jpeg",yt="/assets/136.28cc4430.jpeg",jt="/assets/137.e0e00252.jpeg",vt="/assets/138.07811788.jpeg",ft="/assets/139.617fcc6c.jpeg",bt="/assets/140.7da3b280.jpeg",$t="/assets/141.84d5af48.jpeg",St="/assets/142.a72e34b6.jpeg",wt="/assets/143.e672b28f.jpeg",kt="/assets/144.1e5c762e.jpeg",Ct="/assets/145.45c0988b.jpeg",Ut="/assets/146.44ab1efc.jpeg",Mt="/assets/147.2f7f2484.jpeg",xt="/assets/148.f7af6f32.jpeg",Tt="/assets/149.f7009809.jpeg",It="/assets/150.e4278011.jpeg",Dt="/assets/151.34184565.jpeg",At="/assets/152.2227af41.jpeg",Ot="/assets/153.89baf4c6.jpeg",Lt="/assets/apartment.fce16713.jpg",O="/assets/Barcelona.3ab4f5ce.jpg",L="/assets/cabin.ec34f670.jpg",Ft="/assets/cabin2.cc6a43f7.jpg",Gt="/assets/condominium.e3b1df7c.jpg",Pt="/assets/homepage3.a967e08d.jpg",F="/assets/Hongkong.d6d3fe60.jpg",G="/assets/Istanbul.6e7791b6.jpg",Nt="/assets/lidor.c37f88b3.jpg",Bt="/assets/loft.b77149f6.jpg",Rt="/assets/London.94748fea.jpg",P="/assets/Maui.c68c1a4e.jpg",Ht="/assets/Rome.30211508.jpg",N="/assets/Villa.19dda960.jpg",gr="/assets/apartment.fce16713.jpg",lr="/assets/loft.b77149f6.jpg",B="/assets/loading.3a1c7134.gif";const cr={name:"home-page",data(){return{}},components:{},created(){},methods:{getImgUrl(s){return new URL({"../assets/images/001.jpeg":E,"../assets/images/002.jpeg":V,"../assets/images/003.jpeg":J,"../assets/images/004.jpeg":W,"../assets/images/005.jpeg":Y,"../assets/images/006.jpeg":X,"../assets/images/007.jpeg":K,"../assets/images/008.jpeg":Z,"../assets/images/009.jpeg":z,"../assets/images/010.jpeg":Q,"../assets/images/011.jpeg":ss,"../assets/images/012.jpeg":es,"../assets/images/013.jpeg":ts,"../assets/images/014.jpeg":as,"../assets/images/015.jpeg":is,"../assets/images/016.jpeg":rs,"../assets/images/017.jpeg":os,"../assets/images/018.jpeg":ns,"../assets/images/019.jpeg":gs,"../assets/images/020.jpeg":ls,"../assets/images/021.jpeg":cs,"../assets/images/022.jpeg":ds,"../assets/images/023.jpeg":ps,"../assets/images/024.jpeg":ms,"../assets/images/025.jpeg":us,"../assets/images/026.jpeg":_s,"../assets/images/027.jpeg":hs,"../assets/images/028.jpeg":ys,"../assets/images/029.jpeg":js,"../assets/images/030.jpeg":vs,"../assets/images/031.jpeg":fs,"../assets/images/032.jpeg":bs,"../assets/images/033.jpeg":$s,"../assets/images/034.jpeg":Ss,"../assets/images/035.jpeg":ws,"../assets/images/036.jpeg":ks,"../assets/images/037.jpeg":Cs,"../assets/images/038.jpeg":Us,"../assets/images/039.jpeg":Ms,"../assets/images/040.jpeg":xs,"../assets/images/041.jpeg":Ts,"../assets/images/042.jpeg":Is,"../assets/images/043.jpeg":Ds,"../assets/images/044.jpeg":As,"../assets/images/045.jpeg":Os,"../assets/images/046.jpeg":Ls,"../assets/images/047.jpeg":Fs,"../assets/images/048.jpeg":Gs,"../assets/images/049.jpeg":Ps,"../assets/images/050.jpeg":Ns,"../assets/images/051.jpeg":Bs,"../assets/images/052.jpeg":Rs,"../assets/images/053.jpeg":Hs,"../assets/images/054.jpeg":qs,"../assets/images/055.jpeg":Es,"../assets/images/056.jpeg":Vs,"../assets/images/057.jpeg":Js,"../assets/images/058.jpeg":Ws,"../assets/images/059.jpeg":Ys,"../assets/images/060.jpeg":Xs,"../assets/images/061.jpeg":Ks,"../assets/images/062.jpeg":Zs,"../assets/images/063.jpeg":zs,"../assets/images/064.jpeg":Qs,"../assets/images/065.jpeg":se,"../assets/images/066.jpeg":ee,"../assets/images/067.jpeg":te,"../assets/images/068.jpeg":ae,"../assets/images/069.jpeg":ie,"../assets/images/070.jpeg":re,"../assets/images/071.jpeg":oe,"../assets/images/072.jpeg":ne,"../assets/images/073.jpeg":ge,"../assets/images/074.jpeg":le,"../assets/images/075.jpeg":ce,"../assets/images/076.jpeg":de,"../assets/images/077.jpeg":pe,"../assets/images/078.jpeg":me,"../assets/images/079.jpeg":ue,"../assets/images/080.jpeg":_e,"../assets/images/081.jpeg":he,"../assets/images/082.jpeg":ye,"../assets/images/083.jpeg":je,"../assets/images/084.jpeg":ve,"../assets/images/085.jpeg":fe,"../assets/images/086.jpeg":be,"../assets/images/087.jpeg":$e,"../assets/images/088.jpeg":Se,"../assets/images/089.jpeg":we,"../assets/images/090.jpeg":ke,"../assets/images/091.jpeg":Ce,"../assets/images/092.jpeg":Ue,"../assets/images/093.jpeg":Me,"../assets/images/094.jpeg":xe,"../assets/images/095.jpeg":Te,"../assets/images/096.jpeg":Ie,"../assets/images/097.jpeg":De,"../assets/images/098.jpeg":Ae,"../assets/images/099.jpeg":Oe,"../assets/images/100.jpeg":Le,"../assets/images/101.jpeg":Fe,"../assets/images/102.jpeg":Ge,"../assets/images/103.jpeg":Pe,"../assets/images/104.jpeg":Ne,"../assets/images/105.jpeg":Be,"../assets/images/106.jpeg":Re,"../assets/images/107.jpeg":He,"../assets/images/108.jpeg":qe,"../assets/images/109.jpeg":Ee,"../assets/images/110.jpeg":Ve,"../assets/images/111.jpeg":Je,"../assets/images/112.jpeg":We,"../assets/images/113.jpeg":Ye,"../assets/images/114.jpeg":Xe,"../assets/images/115.jpeg":Ke,"../assets/images/116.jpeg":Ze,"../assets/images/117.jpeg":ze,"../assets/images/118.jpeg":Qe,"../assets/images/119.jpeg":st,"../assets/images/120.jpeg":et,"../assets/images/121.jpeg":tt,"../assets/images/122.jpeg":at,"../assets/images/123.jpeg":it,"../assets/images/124.jpeg":rt,"../assets/images/125.jpeg":ot,"../assets/images/126.jpeg":nt,"../assets/images/127.jpeg":gt,"../assets/images/128.jpeg":lt,"../assets/images/129.jpeg":ct,"../assets/images/130.jpeg":dt,"../assets/images/131.jpeg":pt,"../assets/images/132.jpeg":mt,"../assets/images/133.jpeg":ut,"../assets/images/134.jpeg":_t,"../assets/images/135.jpeg":ht,"../assets/images/136.jpeg":yt,"../assets/images/137.jpeg":jt,"../assets/images/138.jpeg":vt,"../assets/images/139.jpeg":ft,"../assets/images/140.jpeg":bt,"../assets/images/141.jpeg":$t,"../assets/images/142.jpeg":St,"../assets/images/143.jpeg":wt,"../assets/images/144.jpeg":kt,"../assets/images/145.jpeg":Ct,"../assets/images/146.jpeg":Ut,"../assets/images/147.jpeg":Mt,"../assets/images/148.jpeg":xt,"../assets/images/149.jpeg":Tt,"../assets/images/150.jpeg":It,"../assets/images/151.jpeg":Dt,"../assets/images/152.jpeg":At,"../assets/images/153.jpeg":Ot,"../assets/images/apartment.jpg":Lt,"../assets/images/Barcelona.jpg":O,"../assets/images/cabin.jpg":L,"../assets/images/cabin2.jpg":Ft,"../assets/images/condominium.jpg":Gt,"../assets/images/homepage3.jpg":Pt,"../assets/images/Hongkong.jpg":F,"../assets/images/Istanbul.jpg":G,"../assets/images/lidor.jpg":Nt,"../assets/images/loft.jpg":Bt,"../assets/images/London.jpg":Rt,"../assets/images/Maui.jpg":P,"../assets/images/Rome.jpg":Ht,"../assets/images/Villa.jpg":N}[`../assets/images/${s}`],self.location)},onCloseModal(){let s=document.getElementById("id01");window.onclick=function(e){e.target==s&&(s.style.display="none")}},getStayRate(s){if(!!s)return(s.reviewScores.rating/20).toFixed(2)},getReviewCount(s){return s.reviews.length+" reviews"}},computed:{isLoading(){return this.$store.getters.isLoading},topRatedStays(){return this.$store.getters.getTopRatedStays},stays(){return this.$store.getters.getStays}},unmounted(){}},dr={key:0,class:"home-page-container"},pr=t("div",{class:"main-hero-img"},[t("div",{class:"tag-line-container"},[t("h1",{class:"tag tag-line1"},"Choose your Inn."),t("h1",{class:"tag tag-line2"},"We'll do the rest.")])],-1),mr={class:"main-layout-homepage"},ur=I('<h1 class="destinations-header">Popular destinations</h1><div class="destinations-container"><a href="#/stay?destination=Barcelona"><img src="'+O+'" alt="Barcelona"><h3>Barcelona</h3></a><a href="#/stay?destination=Hong%20Kong"><img src="'+F+'" alt="Hongkong"><h3>Hong Kong</h3></a><a href="#/stay?destination=Maui"><img src="'+P+'" alt="Maui"><h3>Maui</h3></a><a href="#/stay?destination=Istanbul"><img src="'+G+'" alt="Istanbul"><h3>Istanbul</h3></a></div><h1 class="destinations-header">Select by type</h1><div class="destinations-container"><a href="#/stay?type=Cabin"><img src="'+L+'" alt="Cabin"><h3>Cabin</h3></a><a href="#/stay?type=Apartment"><img src="'+gr+'" alt="Apartment"><h3>Apartment</h3></a><a href="#/stay?type=Loft"><img src="'+lr+'" alt="Loft"><h3>Loft</h3></a><a href="#/stay?type=Villa"><img src="'+N+'" alt="Villa"><h3>Villa</h3></a></div><h1 class="destinations-header">Top rated stays</h1>',5),_r={class:"loading-img-container"},hr={key:0,class:"loading-img",src:B,alt:"Loading.."},yr={key:0,class:"destinations-container"},jr=["href"],vr=["src"],fr={class:"card-preview-line"},br=t("span",{class:"material-icons-outlined star"},"star",-1),$r={class:"card-rate"},Sr={class:"reviews-count"};function wr(s,e,a,o,r,i){return i.stays?(g(),l("section",dr,[pr,t("div",mr,[ur,t("div",_r,[i.isLoading?(g(),l("img",hr)):p("",!0)]),i.topRatedStays&&!i.isLoading?(g(),l("div",yr,[(g(!0),l(k,null,C(i.topRatedStays,n=>(g(),l("a",{href:"/#/stay/"+n._id,key:n._id},[t("img",{src:i.getImgUrl(n.imgUrls[0]),alt:"StayImage"},null,8,vr),t("p",fr,[br,t("span",$r,c(i.getStayRate(n)),1),t("span",Sr,"("+c(i.getReviewCount(n))+")",1)]),t("h4",null,c(n.name),1)],8,jr))),128))])):p("",!0)])])):p("",!0)}var kr=u(cr,[["render",wr]]);const Cr={},Ur={class:"about-page main-layout-height flex direction-column"},Mr={class:"lidor-container"},xr=t("i",{class:"fa-brands fa-airbnb logo-pink-i"},null,-1),Tr=t("h1",{class:"logo-restiin"},"RestInn",-1),Ir=[xr,Tr],Dr=t("div",{class:"tag-line-about"},null,-1);function Ar(s,e,a,o,r,i){return g(),l("section",Ur,[t("div",Mr,[t("div",{class:"logo-pink flex align-center",onClick:e[0]||(e[0]=(...n)=>s.goHome&&s.goHome(...n))},Ir),Dr])])}var Or=u(Cr,[["render",Ar]]);const Lr={name:"trip-preview",emits:["updateStatus"],props:{trip:{type:Object,required:!0}},data(){return{hostName:""}},async created(){const s=await this.$store.dispatch({type:"getUserById",userId:this.trip.hostId});this.hostName=s.fullname},methods:{goToStay(){this.$router.push(`/stay/${this.trip.stay._id}`)},getFormatedPrice(s){var e=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0});return e.format(s)},updateStatus(s){const e=this.trip._id;this.$emit("updateStatus",{status:s,tripId:e})},timeConversion(s){let e=new Date(s).getDate();e=e<10?"0"+e:e;let a=new Date(s).getMonth()+1;a=a<10?"0"+a:a;let o=new Date(s).getFullYear().toString().substring(2)+"";return`${e}/${a}/${o}`}},computed:{isUnancelable(){const s=this.trip.startDate,e=Date.now(),a=1e3*60*60*72;return s-e<a||this.trip.status==="canceled"||this.trip.status==="rejected"},formattedText(){return this.trip.stay.name.length>15?this.trip.stay.name.slice(0,15)+"...":this.trip.stay.name}}},Fr={class:"dashboard-order-cont"},Gr={class:"date"},Pr={key:0,class:"host"},Nr=t("span",{class:"mobile-title"},"Stay: ",-1),Br={class:"detail trip-dates"},Rr=t("span",{class:"mobile-title"},"Dates: ",-1),Hr={class:"nights"},qr={class:"detail guests"},Er=t("span",{class:"mobile-title"},"Guests: ",-1),Vr={class:"price"},Jr={class:"detail total"},Wr=t("span",{class:"mobile-title"},"Total trip: ",-1),Yr=t("span",{class:"mobile-title"},"Status: ",-1),Xr={class:"detail trip-actions actions-container"},Kr=["disabled"];function Zr(s,e,a,o,r,i){return g(),l("section",Fr,[t("div",Gr,c(i.timeConversion(a.trip.createdAt)),1),r.hostName?(g(),l("div",Pr,c(r.hostName),1)):p("",!0),t("div",{onClick:e[0]||(e[0]=(...n)=>i.goToStay&&i.goToStay(...n)),class:"stay stay-link detail"},[Nr,v(" "+c(a.trip.stay.name),1)]),t("div",Br,[Rr,v(" "+c(i.timeConversion(a.trip.startDate))+" - "+c(i.timeConversion(a.trip.endDate)),1)]),t("div",Hr,c(Math.round(a.trip.totalPrice/a.trip.stay.price)),1),t("div",qr,[Er,v(" "+c(a.trip.guests.adults+a.trip.guests.children),1)]),t("div",Vr,c(i.getFormatedPrice(a.trip.stay.price)),1),t("div",Jr,[Wr,v(" "+c(i.getFormatedPrice(a.trip.totalPrice)),1)]),t("div",{class:y(["detail status",a.trip.status])},[Yr,v(" "+c(a.trip.status),1)],2),t("div",Xr,[t("button",{disabled:i.isUnancelable,onClick:e[1]||(e[1]=n=>i.updateStatus("canceled"))}," Cancel ",8,Kr)])])}var zr=u(Lr,[["render",Zr]]);const Qr={name:"trip-list",emits:["updateStatus"],props:{trips:{type:Array,required:!0}},methods:{updateStatus(s){this.$emit("updateStatus",s)}},components:{tripPreview:zr}},so={key:0,class:"main-layout-homepage"},eo=I('<div class="dashboard-order-cont titles"><div class="dashboard-title date">Date</div><div class="dashboard-title host">Host</div><div class="dashboard-title stay">Stay</div><div class="dashboard-title trip-dates">Dates</div><div class="dashboard-title nights">Nights</div><div class="dashboard-title guests">Guests</div><div class="dashboard-title price">Price / night</div><div class="dashboard-title total">Total</div><div class="dashboard-title status">Status</div><div class="dashboard-title trip-actions">Actions</div></div>',1);function to(s,e,a,o,r,i){const n=m("trip-preview");return a.trips?(g(),l("section",so,[eo,(g(!0),l(k,null,C(a.trips.slice().reverse(),d=>(g(),f(n,{key:d._id,trip:d,onUpdateStatus:i.updateStatus},null,8,["trip","onUpdateStatus"]))),128))])):p("",!0)}var ao=u(Qr,[["render",to]]),io="/assets/danger.8d5536e9.png",ro="/assets/homepage-small.f3cb9a90.jpeg",oo="/assets/homepage5.4632f9ac.jpeg",no="/assets/host.6ad5359b.png",go="/assets/restInn-bcg.e42b9278.png",lo="/assets/restinn-logo-with-slogan.006331ea.jpeg",ia="/assets/success.0520b794.png",co="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAllBMVEVmb3pncHtIWGVnb3pJWWZjbXhIWGZncHpfanVSYGxNXGlZZXFYZHBOXWpLWmdkbnlga3ZPXmpibHdKWmZKWmdMW2hLW2hTYW1VYm5ia3dlbnlOXWlIWWVLW2dNXGhha3ZkbXhQXmtXZHBbZnJRX2xcZ3NbZ3NOXGlcaHNdaHNeaHRjbHdganZha3ddaHRPXWplb3pIWWY/qDS5AAABa0lEQVR4XtXVx66cQBCG0fqrEzlOznNzDu//crYGqcUdcFOyvPG35kigaqrpf8sBjuQRyFRRVBmCFDRZvde/29dZI0NZwawvMReZRCxZ9+LlJFCrTvh4pcICzzt91e4ZYVPzNeE6CFykR4pcgOCGh4JvECLxGIlDhHI7JDYPiU2iR0o2f0H+7Yup8c9XAYJ0jKQIELWeDclsrUgwGPlYCJEeFIUJYXj4QROV2x+GtyVN5Y6LnuHF0dFkqA7e8KECCYJJbCdsYkCi8MAd4QeQMFN0pDAk7bToyOIkAwr+pHEKqEkA1aRn7TunjUIIwJnbuxn358Kzu1vj/qRQ3sd+HfdVEd+XGAXZ3D8/UPNsiBA9sg7Ej9GVwVPLOhi3Tz8MXrSgl55Rr3M7Lez8VXmCJWtBvIQXb1rYG3o/ryheIbhWQ6tWvbdS0r6rC8EHSwl/wF9dsvyF5mI5iR1d+rRSYj878ZV/S8l3/kX0C5XaHY3ryl0IAAAAAElFTkSuQmCC";const po={props:{message:{type:Object,required:!0}},data(){return{}},methods:{goToPage(){this.message.from==="host"?this.$router.push("/my-trips"):this.$router.push("/dashboard")}},computed:{getImageClass(){const s=this.$store.getters.getOrderStatus;return console.log("status status status status"),s==="approved"?"success":"danger"},getIconUrl(){const s=this.$store.getters.getOrderStatus;let e;return s==="approved"?e="success.png":e="danger.png",new URL({"../assets/system-imgs/danger.png":io,"../assets/system-imgs/homepage-small.jpeg":ro,"../assets/system-imgs/homepage5.jpeg":oo,"../assets/system-imgs/host.png":no,"../assets/system-imgs/loading.gif":B,"../assets/system-imgs/restInn-bcg.png":go,"../assets/system-imgs/restinn-logo-with-slogan.jpeg":lo,"../assets/system-imgs/success.png":ia,"../assets/system-imgs/user_pic-50x50.png":co}[`../assets/system-imgs/${e}`],self.location)}}},mo={class:"user-msg"},uo=["src"];function _o(s,e,a,o,r,i){return g(),l("section",mo,[t("h1",{onClick:e[0]||(e[0]=(...n)=>i.goToPage&&i.goToPage(...n)),class:"flex align-center"},[t("img",{src:i.getIconUrl,class:y(i.getImageClass),alt:"icon"},null,10,uo),t("h1",null,c(a.message.text),1)])])}var ra=u(po,[["render",_o]]);const ho={name:"my-trips",data(){return{isShowingMessage:!1,message:{},loggedInUser:{}}},async created(){this.loggedInUser=this.$store.getters.getLoggedInUser,socketService.emit("enter my-trips",this.loggedInUser._id),socketService.on("status updated",this.statusUpdated);const s={userId:this.loggedInUser._id};try{await this.$store.dispatch({type:"loadOrders",filterBy:s}),console.log("Got orders!")}catch(e){console.log("Error while loading trips: ",e)}},computed:{isLoading(){return this.$store.getters.isLoading},getTrips(){if(console.log("Getting orders from store"),!!this.$store.getters.getOrders)return JSON.parse(JSON.stringify(this.$store.getters.getOrders))}},methods:{showMessage(s){this.message=s,this.isShowingMessage=!0,setTimeout(()=>{this.isShowingMessage=!1},4500)},updateStatus({status:s,tripId:e}){const o=this.getTrips.find(i=>i._id===e),r=$({},o);r.status=s,this.$store.dispatch({type:"updateOrder",order:r})},async statusUpdated(s){var a;this.loggedInUser=this.$store.getters.getLoggedInUser;const e={userId:(a=this.loggedInUser)==null?void 0:a._id};try{await this.$store.dispatch({type:"loadOrdersWithSocket",filterBy:e});const o={text:`Your order has been ${s.status}`,from:"host"};this.$store.commit({type:"setOrderStatus",status:s.status}),this.showMessage(o)}catch(o){console.log("Error while loading orders: ",o)}}},components:{tripList:ao,userMessage:ra}},yo={key:0,class:"dashboard"},jo=t("h1",{class:"main-layout-homepage title"},"My Trips",-1),vo={class:"loading-img-container"},fo={key:0,class:"loading-img",src:B,alt:"Loading.."};function bo(s,e,a,o,r,i){const n=m("user-message"),d=m("trip-list");return r.loggedInUser?(g(),l("section",yo,[_(n,{class:y({showUserMessage:r.isShowingMessage}),message:r.message},null,8,["class","message"]),jo,t("div",vo,[i.isLoading?(g(),l("img",fo)):p("",!0)]),i.isLoading?p("",!0):(g(),f(d,{key:0,trips:i.getTrips,onUpdateStatus:i.updateStatus},null,8,["trips","onUpdateStatus"]))])):p("",!0)}var $o=u(ho,[["render",bo]]);const So={},wo={class:"magic-btn-container"},ko={class:"content"},Co={class:"action-btn"},Uo={class:"magic-button-avail-span"};function Mo(s,e,a,o,r,i){return g(),l("div",wo,[(g(),l(k,null,C(10,n=>t("div",{class:"cell",key:n})),64)),t("div",ko,[t("button",Co,[t("span",Uo,[ba(s.$slots,"default")])])])])}var Wt=u(So,[["render",Mo]]),qt="/assets/star-rating.d999979e.svg";const xo={name:"footer-hero-modal",components:{magicButton:Wt},props:{stay:{type:Object,required:!0}},computed:{fixedScore(){return(this.stay.reviewScores.rating/20).toFixed(2)}}},To={class:"footer-hero-modal"},Io={class:"footer-hero-modal-container"},Do={class:"footer-hero-modal-price-rating"},Ao={class:"footer-hero-modal-price"},Oo=t("span",null,"\xA0 / night",-1),Lo={class:"footer-hero-modal-rating"},Fo=t("img",{src:qt},null,-1),Go=v("Check availability ");function Po(s,e,a,o,r,i){const n=m("magic-button");return g(),l("section",To,[t("div",Io,[t("div",Do,[t("div",Ao,[t("span",null,c(s.$filters.currencyUSD(a.stay.price)),1),Oo]),t("div",Lo,[Fo,t("span",null,c(i.fixedScore),1)])])]),_(n,{class:"footer-check-availability-container"},{default:w(()=>[Go]),_:1})])}var No=u(xo,[["render",Po]]);const Bo={name:"images-container",props:{stayImgs:{type:Array,required:!0}},methods:{getImgUrl(s){return new URL({"../../assets/images/001.jpeg":E,"../../assets/images/002.jpeg":V,"../../assets/images/003.jpeg":J,"../../assets/images/004.jpeg":W,"../../assets/images/005.jpeg":Y,"../../assets/images/006.jpeg":X,"../../assets/images/007.jpeg":K,"../../assets/images/008.jpeg":Z,"../../assets/images/009.jpeg":z,"../../assets/images/010.jpeg":Q,"../../assets/images/011.jpeg":ss,"../../assets/images/012.jpeg":es,"../../assets/images/013.jpeg":ts,"../../assets/images/014.jpeg":as,"../../assets/images/015.jpeg":is,"../../assets/images/016.jpeg":rs,"../../assets/images/017.jpeg":os,"../../assets/images/018.jpeg":ns,"../../assets/images/019.jpeg":gs,"../../assets/images/020.jpeg":ls,"../../assets/images/021.jpeg":cs,"../../assets/images/022.jpeg":ds,"../../assets/images/023.jpeg":ps,"../../assets/images/024.jpeg":ms,"../../assets/images/025.jpeg":us,"../../assets/images/026.jpeg":_s,"../../assets/images/027.jpeg":hs,"../../assets/images/028.jpeg":ys,"../../assets/images/029.jpeg":js,"../../assets/images/030.jpeg":vs,"../../assets/images/031.jpeg":fs,"../../assets/images/032.jpeg":bs,"../../assets/images/033.jpeg":$s,"../../assets/images/034.jpeg":Ss,"../../assets/images/035.jpeg":ws,"../../assets/images/036.jpeg":ks,"../../assets/images/037.jpeg":Cs,"../../assets/images/038.jpeg":Us,"../../assets/images/039.jpeg":Ms,"../../assets/images/040.jpeg":xs,"../../assets/images/041.jpeg":Ts,"../../assets/images/042.jpeg":Is,"../../assets/images/043.jpeg":Ds,"../../assets/images/044.jpeg":As,"../../assets/images/045.jpeg":Os,"../../assets/images/046.jpeg":Ls,"../../assets/images/047.jpeg":Fs,"../../assets/images/048.jpeg":Gs,"../../assets/images/049.jpeg":Ps,"../../assets/images/050.jpeg":Ns,"../../assets/images/051.jpeg":Bs,"../../assets/images/052.jpeg":Rs,"../../assets/images/053.jpeg":Hs,"../../assets/images/054.jpeg":qs,"../../assets/images/055.jpeg":Es,"../../assets/images/056.jpeg":Vs,"../../assets/images/057.jpeg":Js,"../../assets/images/058.jpeg":Ws,"../../assets/images/059.jpeg":Ys,"../../assets/images/060.jpeg":Xs,"../../assets/images/061.jpeg":Ks,"../../assets/images/062.jpeg":Zs,"../../assets/images/063.jpeg":zs,"../../assets/images/064.jpeg":Qs,"../../assets/images/065.jpeg":se,"../../assets/images/066.jpeg":ee,"../../assets/images/067.jpeg":te,"../../assets/images/068.jpeg":ae,"../../assets/images/069.jpeg":ie,"../../assets/images/070.jpeg":re,"../../assets/images/071.jpeg":oe,"../../assets/images/072.jpeg":ne,"../../assets/images/073.jpeg":ge,"../../assets/images/074.jpeg":le,"../../assets/images/075.jpeg":ce,"../../assets/images/076.jpeg":de,"../../assets/images/077.jpeg":pe,"../../assets/images/078.jpeg":me,"../../assets/images/079.jpeg":ue,"../../assets/images/080.jpeg":_e,"../../assets/images/081.jpeg":he,"../../assets/images/082.jpeg":ye,"../../assets/images/083.jpeg":je,"../../assets/images/084.jpeg":ve,"../../assets/images/085.jpeg":fe,"../../assets/images/086.jpeg":be,"../../assets/images/087.jpeg":$e,"../../assets/images/088.jpeg":Se,"../../assets/images/089.jpeg":we,"../../assets/images/090.jpeg":ke,"../../assets/images/091.jpeg":Ce,"../../assets/images/092.jpeg":Ue,"../../assets/images/093.jpeg":Me,"../../assets/images/094.jpeg":xe,"../../assets/images/095.jpeg":Te,"../../assets/images/096.jpeg":Ie,"../../assets/images/097.jpeg":De,"../../assets/images/098.jpeg":Ae,"../../assets/images/099.jpeg":Oe,"../../assets/images/100.jpeg":Le,"../../assets/images/101.jpeg":Fe,"../../assets/images/102.jpeg":Ge,"../../assets/images/103.jpeg":Pe,"../../assets/images/104.jpeg":Ne,"../../assets/images/105.jpeg":Be,"../../assets/images/106.jpeg":Re,"../../assets/images/107.jpeg":He,"../../assets/images/108.jpeg":qe,"../../assets/images/109.jpeg":Ee,"../../assets/images/110.jpeg":Ve,"../../assets/images/111.jpeg":Je,"../../assets/images/112.jpeg":We,"../../assets/images/113.jpeg":Ye,"../../assets/images/114.jpeg":Xe,"../../assets/images/115.jpeg":Ke,"../../assets/images/116.jpeg":Ze,"../../assets/images/117.jpeg":ze,"../../assets/images/118.jpeg":Qe,"../../assets/images/119.jpeg":st,"../../assets/images/120.jpeg":et,"../../assets/images/121.jpeg":tt,"../../assets/images/122.jpeg":at,"../../assets/images/123.jpeg":it,"../../assets/images/124.jpeg":rt,"../../assets/images/125.jpeg":ot,"../../assets/images/126.jpeg":nt,"../../assets/images/127.jpeg":gt,"../../assets/images/128.jpeg":lt,"../../assets/images/129.jpeg":ct,"../../assets/images/130.jpeg":dt,"../../assets/images/131.jpeg":pt,"../../assets/images/132.jpeg":mt,"../../assets/images/133.jpeg":ut,"../../assets/images/134.jpeg":_t,"../../assets/images/135.jpeg":ht,"../../assets/images/136.jpeg":yt,"../../assets/images/137.jpeg":jt,"../../assets/images/138.jpeg":vt,"../../assets/images/139.jpeg":ft,"../../assets/images/140.jpeg":bt,"../../assets/images/141.jpeg":$t,"../../assets/images/142.jpeg":St,"../../assets/images/143.jpeg":wt,"../../assets/images/144.jpeg":kt,"../../assets/images/145.jpeg":Ct,"../../assets/images/146.jpeg":Ut,"../../assets/images/147.jpeg":Mt,"../../assets/images/148.jpeg":xt,"../../assets/images/149.jpeg":Tt,"../../assets/images/150.jpeg":It,"../../assets/images/151.jpeg":Dt,"../../assets/images/152.jpeg":At,"../../assets/images/153.jpeg":Ot,"../../assets/images/apartment.jpg":Lt,"../../assets/images/Barcelona.jpg":O,"../../assets/images/cabin.jpg":L,"../../assets/images/cabin2.jpg":Ft,"../../assets/images/condominium.jpg":Gt,"../../assets/images/homepage3.jpg":Pt,"../../assets/images/Hongkong.jpg":F,"../../assets/images/Istanbul.jpg":G,"../../assets/images/lidor.jpg":Nt,"../../assets/images/loft.jpg":Bt,"../../assets/images/London.jpg":Rt,"../../assets/images/Maui.jpg":P,"../../assets/images/Rome.jpg":Ht,"../../assets/images/Villa.jpg":N}[`../../assets/images/${s}`],self.location)}}},Ro={key:0,class:"imgs-container-grid"},Ho=["src"],qo=["src"],Eo=["src"],Vo=["src"],Jo=["src"];function Wo(s,e,a,o,r,i){return a.stayImgs?(g(),l("section",Ro,[t("img",{class:"grid-item1",src:i.getImgUrl(a.stayImgs[0])},null,8,Ho),t("img",{class:"grid-item2",src:i.getImgUrl(a.stayImgs[1])},null,8,qo),t("img",{class:"grid-item3",src:i.getImgUrl(a.stayImgs[2])},null,8,Eo),t("img",{class:"grid-item4",src:i.getImgUrl(a.stayImgs[3])},null,8,Vo),t("img",{class:"grid-item5",src:i.getImgUrl(a.stayImgs[4])},null,8,Jo)])):p("",!0)}var Yo=u(Bo,[["render",Wo]]),Xo="/assets/share.3422753b.svg",Ko="/assets/like.74851f54.svg";const Zo={name:"secondary-header",props:{stay:{type:Object,required:!0}},methods:{goToReviews(){this.$emit("goToReviews")},goToMap(){this.$emit("goToMap")}}},zo={class:"secondary-header"},Qo={class:"stay-name"},sn={class:"below-stay-name"},en={class:"rating-reviews-location"},tn=t("img",{class:"star-rating-svg",src:qt},null,-1),an=t("span",null,"\xB7",-1),rn=t("span",{class:"dot-above-pictures"},"\xB7",-1),on=I('<div class="share-save"><div class="share"><img class="share-svg" src="'+Xo+'"><span>Share</span></div><div class="save-like"><img class="like-svg" src="'+Ko+'"><span>Save</span></div></div>',1);function nn(s,e,a,o,r,i){return g(),l("section",zo,[t("div",Qo,[t("h1",null,c(a.stay.name),1)]),t("div",sn,[t("div",en,[tn,t("span",null,c(a.stay.reviewScores.rating/20),1),an,t("span",{onClick:e[0]||(e[0]=(...n)=>i.goToReviews&&i.goToReviews(...n))},c(a.stay.reviews.length)+" reviews",1),rn,t("span",{class:"location-above-pictures",onClick:e[1]||(e[1]=(...n)=>i.goToMap&&i.goToMap(...n))},c(a.stay.address.city)+", "+c(a.stay.address.country),1)]),on])])}var gn=u(Zo,[["render",nn]]),ln="/assets/great-comm.5b85fba5.svg",cn="/assets/great-location.bacce6cb.svg",dn="/assets/self-checkin.0d413013.svg",oa="/assets/wifi.5d57e009.svg";const pn={name:"selected-popular-amenities",props:{stay:{type:Object,required:!0}}},mn={class:"selected-popular-amenities"},un={class:"popular-amenities"},_n=t("div",{class:"popular-amenities-svg"},[t("img",{src:ln})],-1),hn={class:"popular-amenities-text"},yn=t("div",{class:"popular-amenities-title"},"Great communication",-1),jn={class:"popular-amenities-description"},vn=I('<div class="popular-amenities"><div class="popular-amenities-svg"><img src="'+cn+'"></div><div class="popular-amenities-text"><div class="popular-amenities-title">Great location</div><div class="popular-amenities-description">100% of recent guests gave the location a 5-star rating</div></div></div><div class="popular-amenities"><div class="popular-amenities-svg"><img src="'+dn+'"></div><div class="popular-amenities-text"><div class="popular-amenities-title">Self check-in</div><div class="popular-amenities-description">Check yourself in with the lockbox</div></div></div><div class="popular-amenities"><div class="popular-amenities-svg"><img src="'+oa+'"></div><div class="popular-amenities-text"><div class="popular-amenities-title">Wifi</div><div class="popular-amenities-description">Guests often search for this popular amenity</div></div></div>',3);function fn(s,e,a,o,r,i){return g(),l("section",mn,[t("div",un,[_n,t("div",hn,[yn,t("div",jn,"100% of recent guests rated "+c(a.stay.host.fullname)+" 5-star in communication",1)])]),vn])}var bn=u(pn,[["render",fn]]),$n="/assets/air-conditioning.5849794e.svg",Sn="/assets/courtyard-view.5b7299e6.svg",wn="/assets/dedicated-workspace.a5b62cbf.svg",kn="/assets/elevator.e84742a7.svg",Cn="/assets/free-parking.2a0276f3.svg",Un="/assets/kitchen.3f0e0ba9.svg",Mn="/assets/long-term.54e294a1.svg",xn="/assets/pets-allowed.f17cb476.svg",Tn="/assets/refrigerator.9c0f9c49.svg";const In={name:"amenities-list"},Dn={class:"main-amenities-section"},An=I('<div class="amenities-list-title"><h1>What this place offers</h1></div><section class="amenities-list"><div class="amenity-container"><div class="amenity-item"><img src="'+$n+'"><span>Air-conditioning</span></div><div class="amenity-item"><img src="'+Sn+'"><span>Courtyard view</span></div><div class="amenity-item"><img src="'+wn+'"><span>Dedicated workspace</span></div><div class="amenity-item"><img src="'+kn+'"><span>Elevator</span></div><div class="amenity-item"><img src="'+Cn+'"><span>Free parking</span></div><div class="amenity-item"><img src="'+Un+'"><span>Kitchen</span></div><div class="amenity-item"><img src="'+Mn+'"><span>Long-term stay allowed</span></div><div class="amenity-item"><img src="'+xn+'"><span>Pets allowed</span></div><div class="amenity-item"><img src="'+Tn+'"><span>Refrigerator</span></div><div class="amenity-item"><img src="'+oa+'"><span>Wifi</span></div></div></section>',2),On=[An];function Ln(s,e,a,o,r,i){return g(),l("section",Dn,On)}var Fn=u(In,[["render",Ln]]),Gn="/assets/image1.a7c66d5d.jpg",Pn="/assets/image10.f3eb493d.jpg",Nn="/assets/image11.8bae3fe3.jpg",Bn="/assets/image12.d6524f8b.jpg",Rn="/assets/image13.e1ccf539.jpg",Hn="/assets/image14.d8f2b320.jpg",qn="/assets/image15.79929dc1.jpg",En="/assets/image2.6cf88ec8.jpg",Vn="/assets/image3.a71ec5fa.jpg",Jn="/assets/image4.a7fae379.jpg",Wn="/assets/image5.409d98e5.jpg",Yn="/assets/image6.e7f6e7ac.jpg",Xn="/assets/image7.f64f5ff1.jpg",Kn="/assets/image8.ec686805.jpg",Zn="/assets/image9.ccabc461.jpg",zn="/assets/lidor.c37f88b3.jpg",Qn="/assets/liran.73808387.jpg",sg="/assets/tal.0be301d6.jpg",eg="/assets/tom.3766c07f.jpg",na="/assets/show-more.d0d96e91.svg";const tg={name:"review-preview",props:{review:{type:Object,required:!0},idx:{type:Number,required:!0}},data(){return{isLongTxt:!1,guestsImages:["tal.jpg","tom.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg"]}},methods:{},computed:{getImageUrl(){return new URL({"../../assets/user-images/image1.jpg":Gn,"../../assets/user-images/image10.jpg":Pn,"../../assets/user-images/image11.jpg":Nn,"../../assets/user-images/image12.jpg":Bn,"../../assets/user-images/image13.jpg":Rn,"../../assets/user-images/image14.jpg":Hn,"../../assets/user-images/image15.jpg":qn,"../../assets/user-images/image2.jpg":En,"../../assets/user-images/image3.jpg":Vn,"../../assets/user-images/image4.jpg":Jn,"../../assets/user-images/image5.jpg":Wn,"../../assets/user-images/image6.jpg":Yn,"../../assets/user-images/image7.jpg":Xn,"../../assets/user-images/image8.jpg":Kn,"../../assets/user-images/image9.jpg":Zn,"../../assets/user-images/lidor.jpg":zn,"../../assets/user-images/liran.jpg":Qn,"../../assets/user-images/tal.jpg":sg,"../../assets/user-images/tom.jpg":eg}[`../../assets/user-images/${this.guestsImages[this.idx]}`],self.location)},formattedDate(){let s=["January","February","March","April","May","June","July","August","September","October","November","December"],e=new Date(this.review.at).getFullYear();return`${s[new Date(this.review.at).getMonth()]} ${e}`},formattedText(){return this.review.txt.length>200?(this.isLongTxt=!0,this.review.txt.slice(0,200)+"..."):this.review.txt}},created(){}},ag={class:"review-preview",id:"review-section"},ig={class:"review-guest-name-date"},rg=["src"],og={class:"name-and-date"},ng={class:"review-text"},gg={key:0,class:"review-show-more"},lg=t("span",null,"Show more",-1),cg=t("img",{src:na},null,-1),dg=[lg,cg];function pg(s,e,a,o,r,i){return g(),l("section",ag,[t("div",ig,[t("img",{src:i.getImageUrl,alt:"User picture",onerror:"this.onerror=null; this.src='https://thispersondoesnotexist.com/image'"},null,8,rg),t("div",og,[t("span",null,c(a.review.by.fullname),1),t("span",null,c(i.formattedDate),1)])]),t("div",ng,c(i.formattedText),1),r.isLongTxt?(g(),l("div",gg,dg)):p("",!0)])}var mg=u(tg,[["render",pg]]);const ug={name:"review-list",props:{reviews:{type:Array,required:!0}},data(){return{}},components:{reviewPreview:mg},computed:{}},_g={key:0,class:"review-list"},hg={class:"reviews-list-ul"};function yg(s,e,a,o,r,i){const n=m("review-preview");return a.reviews?(g(),l("section",_g,[t("ul",hg,[(g(!0),l(k,null,C(a.reviews,(d,h)=>(g(),l("li",{key:d._id},[_(n,{idx:h,review:d},null,8,["idx","review"])]))),128))])])):p("",!0)}var jg=u(ug,[["render",yg]]);const vg={props:{reviewScores:{type:Object,required:!0}}},fg={key:0,class:"score-scales"},bg={class:"scores-mini-container"},$g={class:"reviews-scores"},Sg=t("span",null,"Cleaniness",-1),wg={class:"bar-and-score"},kg={class:"scale-threshold"},Cg={class:"score-number"},Ug={class:"reviews-scores"},Mg=t("span",null,"Communication",-1),xg={class:"bar-and-score"},Tg={class:"scale-threshold"},Ig={class:"score-number"},Dg={class:"reviews-scores"},Ag=t("span",null,"Check-in",-1),Og={class:"bar-and-score"},Lg={class:"scale-threshold"},Fg={class:"score-number"},Gg={class:"scores-mini-container"},Pg={class:"reviews-scores"},Ng=t("span",null,"Accuracy",-1),Bg={class:"bar-and-score"},Rg={class:"scale-threshold"},Hg={class:"score-number"},qg={class:"reviews-scores"},Eg=t("span",null,"Location",-1),Vg={class:"bar-and-score"},Jg={class:"scale-threshold"},Wg={class:"score-number"},Yg={class:"reviews-scores"},Xg=t("span",null,"Value",-1),Kg={class:"bar-and-score"},Zg={class:"scale-threshold"},zg={class:"score-number"};function Qg(s,e,a,o,r,i){return a.reviewScores?(g(),l("section",fg,[t("div",bg,[t("div",$g,[Sg,t("div",wg,[t("div",kg,[t("div",{style:x(`width:${a.reviewScores.cleanliness*9}px;`)},null,4)]),t("div",Cg,c((a.reviewScores.cleanliness/2).toFixed(1)),1)])]),t("div",Ug,[Mg,t("div",xg,[t("div",Tg,[t("div",{style:x(`width:${a.reviewScores.communication*9}px;`)},null,4)]),t("div",Ig,c((a.reviewScores.communication/2).toFixed(1)),1)])]),t("div",Dg,[Ag,t("div",Og,[t("div",Lg,[t("div",{style:x(`width:${a.reviewScores.checkin*9}px;`)},null,4)]),t("div",Fg,c((a.reviewScores.checkin/2).toFixed(1)),1)])])]),t("div",Gg,[t("div",Pg,[Ng,t("div",Bg,[t("div",Rg,[t("div",{style:x(`width:${a.reviewScores.accuracy*9}px;`)},null,4)]),t("div",Hg,c((a.reviewScores.accuracy/2).toFixed(1)),1)])]),t("div",qg,[Eg,t("div",Vg,[t("div",Jg,[t("div",{style:x(`width:${a.reviewScores.location*9}px;`)},null,4)]),t("div",Wg,c((a.reviewScores.location/2).toFixed(1)),1)])]),t("div",Yg,[Xg,t("div",Kg,[t("div",Zg,[t("div",{style:x(`width:${a.reviewScores.value*9}px;`)},null,4)]),t("div",zg,c((a.reviewScores.value/2).toFixed(1)),1)])])])])):p("",!0)}var sl=u(vg,[["render",Qg]]);const el={name:"reviews-section",props:{stay:{type:Object,required:!0}},components:{reviewList:jg,scoreScales:sl},data(){return{}},computed:{getReviewsForDisplay(){return this.stay.reviews.length>6?this.stay.reviews.slice(0,6):this.stay.reviews.slice()}}},tl={key:0,class:"reviews-section",ref:"reviews-section"},al={class:"reviews-and-rating"},il=t("img",{src:qt},null,-1);function rl(s,e,a,o,r,i){const n=m("score-scales"),d=m("review-list");return a.stay?(g(),l("section",tl,[t("section",al,[t("div",null,[il,t("span",null,c(a.stay.reviewScores.rating/20)+" \xB7 "+c(a.stay.reviews.length)+" reviews",1)]),_(n,{reviewScores:a.stay.reviewScores},null,8,["reviewScores"])]),_(d,{reviews:i.getReviewsForDisplay},null,8,["reviews"])],512)):p("",!0)}var ol=u(el,[["render",rl]]);const nl={props:{guests:{type:Object,required:!0},capacity:{type:Number,required:!0}},name:"header-user-menu",data(){return{guestSelected:null,newModalClass:"guests-modal-in-stay-details",capacityAlert:!1,adultAlert:!1}},created(){this.guests.adults+this.guests.children>this.capacity?(this.capacityAlert=!0,setTimeout(()=>{this.capacityAlert=!1},3500),this.guestSelected={adults:this.capacity,children:0},this.$emit("onSelectGuests",$({},this.guestSelected))):this.guestSelected=$({},this.guests)},methods:{closeGuestsModal(){this.guestSelected=$({},this.guests),this.$emit("closeGuestsModal")},changeCount(s,e){const a=this.guestSelected.adults,o=this.guestSelected.children;if(s==="adults"&&a===1&&e===-1){this.capacityAlert=!1,this.adultAlert=!0,setTimeout(()=>{this.adultAlert=!1},2500);return}if(!(s==="children"&&o===0&&e===-1)){if(a+o===this.capacity&&e===1){this.adultAlert=!1,this.capacityAlert=!0,setTimeout(()=>{this.capacityAlert=!1},2500);return}this.guestSelected[s]+=e,this.$emit("onSelectGuests",$({},this.guestSelected))}},onSelectGuests(){this.$emit("closeGuestsModal")}}},gl={class:"details-select-guests-modal"},ll=t("p",{class:"details-guests-modal-title"},"Select guests",-1),cl={key:0,class:"no-alert"},dl={key:1,class:"input-alert"},pl={key:2,class:"input-alert"},ml={class:"details-guests-type-container"},ul=t("span",{class:"details-guests-type"},"Adults",-1),_l={class:"details-guests-counter"},hl={class:"details-guests-number"},yl={class:"details-guests-type-container"},jl=t("span",{class:"details-guests-type"},"Children",-1),vl={class:"details-guests-counter"},fl={class:"details-guests-number"},bl={class:"details-guests-btns-container"};function $l(s,e,a,o,r,i){return g(),l("section",gl,[ll,!r.capacityAlert&&!r.adultAlert?(g(),l("p",cl,"hey")):p("",!0),r.capacityAlert?(g(),l("p",dl," Please select up to "+c(a.capacity)+" guests ",1)):p("",!0),r.adultAlert?(g(),l("p",pl,"Please select at least 1 adult")):p("",!0),t("div",ml,[ul,t("div",_l,[t("span",{class:"material-icons details-guest-count-icon",onClick:e[0]||(e[0]=n=>i.changeCount("adults",-1))}," remove "),t("span",hl,c(r.guestSelected.adults),1),t("span",{class:"material-icons details-guest-count-icon",onClick:e[1]||(e[1]=n=>i.changeCount("adults",1))}," add ")])]),t("div",yl,[jl,t("div",vl,[t("span",{class:"material-icons details-guest-count-icon",onClick:e[2]||(e[2]=n=>i.changeCount("children",-1))}," remove "),t("span",fl,c(r.guestSelected.children),1),t("span",{class:"material-icons details-guest-count-icon",onClick:e[3]||(e[3]=n=>i.changeCount("children",1))}," add ")])]),t("div",bl,[t("div",{class:"guest-modal-btn",onClick:e[4]||(e[4]=(...n)=>i.onSelectGuests&&i.onSelectGuests(...n))},"Close")])])}var Sl=u(nl,[["render",$l]]);const wl={name:"hero-modal",props:{stay:{type:Object,required:!0},guestsFromStore:{type:Object,required:!0}},data(){return{dates:null,isSelectingGuests:!1,isSelectingDates:!1,total:""}},components:{detailsSelectGuestsModal:Sl,magicButton:Wt},created(){this.dates=this.getDates;const s=this.guestsFromStore;s.adults+s.children||this.onSelectGuests({adults:1,children:0})},methods:{onCheckAvailability(){this.$emit("onCheckAvailability")},formatedDate(s){if(!this.dates)return"Add dates";const e=new Date(this.dates[s]);return`${e.getDate()<10?"0"+e.getDate():e.getDate()}/${e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1}/${e.getFullYear().toString().substring(2)}`},onSelectGuests(s){this.$store.commit({type:"setGuests",guests:s})},closeGuestsModal(){this.isSelectingGuests=!1}},computed:{getCheckDetails(){const s=this.dates,e=this.stay.price,a=Math.round((s[1]-s[0])/(24*60*60*1e3)),o=e*a;return this.total=`$${o}`,this.$store.commit({type:"setTotalPrice",totalPrice:o}),`$${e} x ${a} nights`},isDatesSet(){return!!this.dates},getGuestsForDisplay(){const{adults:s}=this.guestsFromStore,{children:e}=this.guestsFromStore;return e+s?e?e===1?s===1?"1 adult, 1 child":`${s} adults, 1 child`:s===1?`1 adult, ${e} children`:`${s} adults, ${e} children`:s===1?"1 adult":`${s} adults`:"Add guests"},getLocation(){return this.$store.getters.getLocation},getDates(){return this.$store.getters.getDates},fixedScore(){return(this.stay.reviewScores.rating/20).toFixed(2)}},watch:{dates(){this.$store.commit({type:"setDates",dates:this.dates})}}},kl={class:"hero-modal-wrapper"},Cl={class:"hero-modal-header"},Ul={class:"hero-modal-price"},Ml=t("span",null,"\xA0 / night",-1),xl={class:"hero-modal-rating-reviews"},Tl=t("span",null,[t("img",{src:qt})],-1),Il={class:"hero-modal-selection"},Dl={class:"hero-modal-check-container"},Al=t("div",null,"CHECK-IN",-1),Ol=t("div",null,"CHECK-OUT",-1),Ll={class:"block"},Fl=t("span",{class:"demonstration"},"Default",-1),Gl=t("label",{for:"hero-modal-guest-picker"},"GUESTS",-1),Pl=v("Check availability "),Nl={key:0,class:"summary-details-container"},Bl=t("p",{class:"no-charge"},"You won't be charged yet",-1),Rl={class:"total-price-details"},Hl={class:"total-price-item"},ql=t("div",{class:"total-price-details"},[t("span",{class:"total-price-item"},"Service fee"),t("span",null,"$0")],-1),El={class:"total-price-details total"},Vl=t("span",{class:"total-price-item"},"Total",-1);function Jl(s,e,a,o,r,i){const n=m("details-select-guests-modal"),d=m("el-date-picker"),h=m("magic-button");return g(),l("section",{class:y(["hero-modal",{heroWithDates:!i.isDatesSet}])},[t("section",kl,[r.isSelectingGuests?(g(),l("div",{key:0,class:"outsideDetailsGuests",onClick:e[0]||(e[0]=j=>r.isSelectingGuests=!1)})):p("",!0),t("section",{class:y(["hero-modal-container",{showSummary:!i.isDatesSet}])},[r.isSelectingGuests?(g(),f(n,{key:0,guests:a.guestsFromStore,capacity:a.stay.capacity,onCloseGuestsModal:i.closeGuestsModal,onOnSelectGuests:i.onSelectGuests},null,8,["guests","capacity","onCloseGuestsModal","onOnSelectGuests"])):p("",!0),t("section",Cl,[t("div",Ul,[t("span",null,c(s.$filters.currencyUSD(a.stay.price)),1),Ml]),t("div",xl,[Tl,t("span",null,c(i.fixedScore)+" \xB7",1),t("span",null,c(a.stay.reviews.length)+" reviews",1)])]),t("section",Il,[t("div",Dl,[t("div",{class:"hero-modal-check-in",onClick:e[1]||(e[1]=j=>r.isSelectingDates=!r.isSelectingDates)},[Al,t("div",null,c(i.formatedDate(0)),1)]),t("div",{class:"hero-modal-check-out",onClick:e[2]||(e[2]=j=>r.isSelectingDates=!r.isSelectingDates)},[Ol,t("div",null,c(i.formatedDate(1)),1)]),t("div",Ll,[Fl,_(d,{ref:"modal-date-picker",modelValue:r.dates,"onUpdate:modelValue":e[3]||(e[3]=j=>r.dates=j),type:"daterange","start-placeholder":"CHECK-IN","end-placeholder":"CHECKOUT",class:"date-picker","value-format":"x"},null,8,["modelValue"])])]),t("div",{class:"hero-modal-guests",onClick:e[4]||(e[4]=j=>r.isSelectingGuests=!0)},[Gl,t("div",null,c(i.getGuestsForDisplay),1)]),_(h,{onClick:i.onCheckAvailability,class:"check-availability-container"},{default:w(()=>[Pl]),_:1},8,["onClick"]),i.isDatesSet?(g(),l("div",Nl,[Bl,t("div",Rl,[t("span",Hl,c(i.getCheckDetails),1),t("span",null,c(r.total),1)]),ql,t("div",El,[Vl,t("span",null,c(r.total),1)])])):p("",!0)])],2)])],2)}var Wl=u(wl,[["render",Jl]]);const Yl={props:{address:{type:Object,required:!0}},name:"App",data(){return{center:{lat:32.091996,lng:34.959813}}},created(){this.center.lat=this.address.location.lan,this.center.lng=this.address.location.lat}},Xl={class:"map-address"};function Kl(s,e,a,o,r,i){const n=m("GMapMarker"),d=m("GMapMap");return g(),l("section",null,[t("h1",Xl,c(a.address.street),1),r.center?(g(),f(d,{key:0,center:r.center,zoom:15,"map-type-id":"terrain"},{default:w(()=>[_(n,{position:r.center},null,8,["position"])]),_:1},8,["center"])):p("",!0)])}var Zl=u(Yl,[["render",Kl]]);const zl={name:"order-alert-modal",props:{alertModalMessage:{type:String,reqired:!0}},data(){return{}},methods:{closeModal(){this.$emit("closeModal")}},closeSignUp(){},cleanData(){}},Ql={class:"order-alert-modal"},sc=t("p",{class:"sign-up-title"},"Please note",-1),ec={class:"sign-up-welcome"};function tc(s,e,a,o,r,i){return g(),l("section",Ql,[sc,t("h1",ec,c(a.alertModalMessage),1),t("div",{class:"sign-up-continue",onClick:e[0]||(e[0]=(...n)=>i.closeModal&&i.closeModal(...n))},"Close")])}var ac=u(zl,[["render",tc]]);const ic={name:"order-alert-modal",props:{alertModalMessage:{type:String,reqired:!0}},data(){return{}},methods:{login(){this.$emit("login")},async demo(){const s={username:"guest",password:"Leo"};await this.$store.dispatch({type:"login",user:s}),this.$emit("demo")},closeModal(){this.$emit("closeModal")}},closeSignUp(){},cleanData(){}},rc={class:"login-alert-modal"},oc=t("p",{class:"sign-up-title"},"Please note",-1),nc=t("h1",{class:"sign-up-welcome"},"Log in to proceed",-1),gc={class:"modal-btns-container"};function lc(s,e,a,o,r,i){return g(),l("section",rc,[t("span",{class:"material-icons close-sign-up",onClick:e[0]||(e[0]=(...n)=>i.closeModal&&i.closeModal(...n))}," close "),oc,nc,t("div",gc,[t("div",{class:"sign-up-continue",onClick:e[1]||(e[1]=(...n)=>i.login&&i.login(...n))},"Log in"),t("div",{class:"sign-up-continue",onClick:e[2]||(e[2]=(...n)=>i.demo&&i.demo(...n))},"Guest user")])])}var cc=u(ic,[["render",lc]]);const dc={name:"order-confirmation-modal",components:{magicButton:Wt},props:{stay:{type:Object,reqired:!0},dates:{type:Array,reqired:!0},guests:{type:Object,reqired:!0},user:{type:Object,reqired:!0}},data(){return{isConfirmed:!1}},methods:{async confirm(){this.isConfirmed=!0;const s=this.getTimeStampDate(0),e=this.getTimeStampDate(1),a=this.getTotalPrice,o={startDate:s,endDate:e,guests:this.guests,status:"pending",totalPrice:a,hostId:this.stay.host._id,stay:{name:this.stay.name,price:this.stay.price,_id:this.stay._id},buyer:{_id:this.user._id,fullname:this.user.fullname}};this.$emit("addOrder",o)},getTimeStampDate(s){return JSON.parse(JSON.stringify(this.dates))[s]},getFormatedDate(s){const e=JSON.parse(JSON.stringify(this.dates)),a=new Date(e[s]);return`${a.getDate()<10?"0"+a.getDate():a.getDate()}/${a.getMonth()<9?"0"+(a.getMonth()+1):a.getMonth()+1}/${a.getFullYear().toString().substring(2)}`},goToMyTrips(){this.isConfirmed=!1,this.$emit("closeModal"),this.$emit("goToMyTrips")},closeModal(){this.isConfirmed=!1,this.$emit("closeModal")},closeModalAndClean(){this.$store.commit({type:"clearOrderingDetails"}),this.isConfirmed=!1,this.$emit("closeModal"),this.$router.push("/")}},computed:{getCheckDetails(){const s=this.dates,e=this.stay.price,a=Math.round((s[1]-s[0])/(24*60*60*1e3)),o=e*a;return this.total=`$${o}`,this.$store.commit({type:"setTotalPrice",totalPrice:o}),`$${e} x ${a} nights`},getImageUrl(){return new URL({"../../assets/images/001.jpeg":E,"../../assets/images/002.jpeg":V,"../../assets/images/003.jpeg":J,"../../assets/images/004.jpeg":W,"../../assets/images/005.jpeg":Y,"../../assets/images/006.jpeg":X,"../../assets/images/007.jpeg":K,"../../assets/images/008.jpeg":Z,"../../assets/images/009.jpeg":z,"../../assets/images/010.jpeg":Q,"../../assets/images/011.jpeg":ss,"../../assets/images/012.jpeg":es,"../../assets/images/013.jpeg":ts,"../../assets/images/014.jpeg":as,"../../assets/images/015.jpeg":is,"../../assets/images/016.jpeg":rs,"../../assets/images/017.jpeg":os,"../../assets/images/018.jpeg":ns,"../../assets/images/019.jpeg":gs,"../../assets/images/020.jpeg":ls,"../../assets/images/021.jpeg":cs,"../../assets/images/022.jpeg":ds,"../../assets/images/023.jpeg":ps,"../../assets/images/024.jpeg":ms,"../../assets/images/025.jpeg":us,"../../assets/images/026.jpeg":_s,"../../assets/images/027.jpeg":hs,"../../assets/images/028.jpeg":ys,"../../assets/images/029.jpeg":js,"../../assets/images/030.jpeg":vs,"../../assets/images/031.jpeg":fs,"../../assets/images/032.jpeg":bs,"../../assets/images/033.jpeg":$s,"../../assets/images/034.jpeg":Ss,"../../assets/images/035.jpeg":ws,"../../assets/images/036.jpeg":ks,"../../assets/images/037.jpeg":Cs,"../../assets/images/038.jpeg":Us,"../../assets/images/039.jpeg":Ms,"../../assets/images/040.jpeg":xs,"../../assets/images/041.jpeg":Ts,"../../assets/images/042.jpeg":Is,"../../assets/images/043.jpeg":Ds,"../../assets/images/044.jpeg":As,"../../assets/images/045.jpeg":Os,"../../assets/images/046.jpeg":Ls,"../../assets/images/047.jpeg":Fs,"../../assets/images/048.jpeg":Gs,"../../assets/images/049.jpeg":Ps,"../../assets/images/050.jpeg":Ns,"../../assets/images/051.jpeg":Bs,"../../assets/images/052.jpeg":Rs,"../../assets/images/053.jpeg":Hs,"../../assets/images/054.jpeg":qs,"../../assets/images/055.jpeg":Es,"../../assets/images/056.jpeg":Vs,"../../assets/images/057.jpeg":Js,"../../assets/images/058.jpeg":Ws,"../../assets/images/059.jpeg":Ys,"../../assets/images/060.jpeg":Xs,"../../assets/images/061.jpeg":Ks,"../../assets/images/062.jpeg":Zs,"../../assets/images/063.jpeg":zs,"../../assets/images/064.jpeg":Qs,"../../assets/images/065.jpeg":se,"../../assets/images/066.jpeg":ee,"../../assets/images/067.jpeg":te,"../../assets/images/068.jpeg":ae,"../../assets/images/069.jpeg":ie,"../../assets/images/070.jpeg":re,"../../assets/images/071.jpeg":oe,"../../assets/images/072.jpeg":ne,"../../assets/images/073.jpeg":ge,"../../assets/images/074.jpeg":le,"../../assets/images/075.jpeg":ce,"../../assets/images/076.jpeg":de,"../../assets/images/077.jpeg":pe,"../../assets/images/078.jpeg":me,"../../assets/images/079.jpeg":ue,"../../assets/images/080.jpeg":_e,"../../assets/images/081.jpeg":he,"../../assets/images/082.jpeg":ye,"../../assets/images/083.jpeg":je,"../../assets/images/084.jpeg":ve,"../../assets/images/085.jpeg":fe,"../../assets/images/086.jpeg":be,"../../assets/images/087.jpeg":$e,"../../assets/images/088.jpeg":Se,"../../assets/images/089.jpeg":we,"../../assets/images/090.jpeg":ke,"../../assets/images/091.jpeg":Ce,"../../assets/images/092.jpeg":Ue,"../../assets/images/093.jpeg":Me,"../../assets/images/094.jpeg":xe,"../../assets/images/095.jpeg":Te,"../../assets/images/096.jpeg":Ie,"../../assets/images/097.jpeg":De,"../../assets/images/098.jpeg":Ae,"../../assets/images/099.jpeg":Oe,"../../assets/images/100.jpeg":Le,"../../assets/images/101.jpeg":Fe,"../../assets/images/102.jpeg":Ge,"../../assets/images/103.jpeg":Pe,"../../assets/images/104.jpeg":Ne,"../../assets/images/105.jpeg":Be,"../../assets/images/106.jpeg":Re,"../../assets/images/107.jpeg":He,"../../assets/images/108.jpeg":qe,"../../assets/images/109.jpeg":Ee,"../../assets/images/110.jpeg":Ve,"../../assets/images/111.jpeg":Je,"../../assets/images/112.jpeg":We,"../../assets/images/113.jpeg":Ye,"../../assets/images/114.jpeg":Xe,"../../assets/images/115.jpeg":Ke,"../../assets/images/116.jpeg":Ze,"../../assets/images/117.jpeg":ze,"../../assets/images/118.jpeg":Qe,"../../assets/images/119.jpeg":st,"../../assets/images/120.jpeg":et,"../../assets/images/121.jpeg":tt,"../../assets/images/122.jpeg":at,"../../assets/images/123.jpeg":it,"../../assets/images/124.jpeg":rt,"../../assets/images/125.jpeg":ot,"../../assets/images/126.jpeg":nt,"../../assets/images/127.jpeg":gt,"../../assets/images/128.jpeg":lt,"../../assets/images/129.jpeg":ct,"../../assets/images/130.jpeg":dt,"../../assets/images/131.jpeg":pt,"../../assets/images/132.jpeg":mt,"../../assets/images/133.jpeg":ut,"../../assets/images/134.jpeg":_t,"../../assets/images/135.jpeg":ht,"../../assets/images/136.jpeg":yt,"../../assets/images/137.jpeg":jt,"../../assets/images/138.jpeg":vt,"../../assets/images/139.jpeg":ft,"../../assets/images/140.jpeg":bt,"../../assets/images/141.jpeg":$t,"../../assets/images/142.jpeg":St,"../../assets/images/143.jpeg":wt,"../../assets/images/144.jpeg":kt,"../../assets/images/145.jpeg":Ct,"../../assets/images/146.jpeg":Ut,"../../assets/images/147.jpeg":Mt,"../../assets/images/148.jpeg":xt,"../../assets/images/149.jpeg":Tt,"../../assets/images/150.jpeg":It,"../../assets/images/151.jpeg":Dt,"../../assets/images/152.jpeg":At,"../../assets/images/153.jpeg":Ot,"../../assets/images/apartment.jpg":Lt,"../../assets/images/Barcelona.jpg":O,"../../assets/images/cabin.jpg":L,"../../assets/images/cabin2.jpg":Ft,"../../assets/images/condominium.jpg":Gt,"../../assets/images/homepage3.jpg":Pt,"../../assets/images/Hongkong.jpg":F,"../../assets/images/Istanbul.jpg":G,"../../assets/images/lidor.jpg":Nt,"../../assets/images/loft.jpg":Bt,"../../assets/images/London.jpg":Rt,"../../assets/images/Maui.jpg":P,"../../assets/images/Rome.jpg":Ht,"../../assets/images/Villa.jpg":N}[`../../assets/images/${this.stay.imgUrls[0]}`],self.location)},displayConfirmation(){return!!(this.stay&&this.dates&&this.user)},getTotalPrice(){return this.$store.getters.getTotalPrice},getUserFirstName(){return this.user.fullname.split(" ")[0]},getGuestsForDisplay(){const{adults:s}=this.guests,{children:e}=this.guests;return e+s?e?e===1?s===1?"1 adult, 1 child":`${s} adults, 1 child`:s===1?`1 adult, ${e} children`:`${s} adults, ${e} children`:s===1?"1 adult":`${s} adults`:"Add guests"},getLocation(){return this.$store.getters.getLocation},getDates(){return this.$store.getters.getDates}}},pc={key:0,class:"order-confirmation-modal"},mc={class:"confirmation-details"},uc={key:0,class:"confirm-title-container"},_c=t("p",{class:"confirm-title"},"One last step",-1),hc={class:"confirm-text"},yc=t("h1",{class:"confirm-text"}," In order to complete your reservation, please confirm your trip details. ",-1),jc={key:1,class:"confirm-title-container"},vc=t("div",{class:"confirm-secondary-title flex align-center"},[t("img",{class:"success-sign confirm-title",src:ia,alt:"success sign"}),t("h1",{class:"confirm-title"},"Reserved successfully")],-1),fc={class:"confirm-text follow-your-trip"},bc=v(" You can follow the order status in "),$c=v(" page "),Sc={class:"reservation-details-container"},wc={class:"trip-details-container flex flex-column"},kc=t("h1",{class:"reservation-details-title"},"Reservation details",-1),Cc=t("span",{class:"mini-trip-title"},"Trip dates:",-1),Uc={class:"mini-trip-detail"},Mc=t("span",{class:"mini-trip-title"},"Guests:",-1),xc={class:"mini-trip-detail"},Tc={class:"price-details-container flex flex-column"},Ic=t("h1",{class:"mini-trip-title"},"Price Details",-1),Dc={class:"price-per-night flex space-between"},Ac={class:"mini-trip-detail"},Oc={class:"mini-trip-detail"},Lc=t("div",{class:"service flex space-between"},[t("h1",{class:"mini-trip-detail"},"Service fee"),t("h1",{class:"mini-trip-detail"},"$0")],-1),Fc={class:"total-price flex space-between"},Gc=t("h1",{class:"mini-trip-detail"},"Total",-1),Pc={class:"mini-trip-detail"},Nc={class:"order-stay-details flex flex-column"},Bc=["src"],Rc={class:"stay-detail"},Hc={class:"stay-detail"},qc={class:"modal-btns-container"},Ec=v("Confirm ");function Vc(s,e,a,o,r,i){const n=m("magic-button");return i.displayConfirmation?(g(),l("section",pc,[t("div",mc,[r.isConfirmed?p("",!0):(g(),l("div",uc,[_c,t("h1",hc,"Dear "+c(i.getUserFirstName)+",",1),yc])),r.isConfirmed?(g(),l("div",jc,[t("div",null,[vc,t("h1",fc,[bc,t("span",{onClick:e[0]||(e[0]=(...d)=>i.goToMyTrips&&i.goToMyTrips(...d))},"My trips"),$c])])])):p("",!0),t("div",Sc,[t("div",wc,[kc,Cc,t("h1",Uc,c(i.getFormatedDate(0))+" - "+c(i.getFormatedDate(1)),1),Mc,t("h1",xc,c(i.getGuestsForDisplay),1),t("div",Tc,[Ic,t("div",Dc,[t("h1",Ac,c(i.getCheckDetails),1),t("h1",Oc,"$"+c(i.getTotalPrice),1)]),Lc,t("div",Fc,[Gc,t("h1",Pc,"$"+c(i.getTotalPrice),1)])])]),t("div",Nc,[t("img",{class:"order-stay-image",src:i.getImageUrl,alt:"host"},null,8,Bc),t("h1",Rc,c(a.stay.name),1),t("h1",Hc,c(a.stay.address.street),1)])]),t("div",qc,[r.isConfirmed?p("",!0):(g(),f(n,{key:0,class:"sign-up-continue confirm",onClick:i.confirm},{default:w(()=>[Ec]),_:1},8,["onClick"])),r.isConfirmed?p("",!0):(g(),l("div",{key:1,class:"sign-up-continue go-back",onClick:e[1]||(e[1]=(...d)=>i.closeModal&&i.closeModal(...d))}," Back ")),r.isConfirmed?(g(),l("div",{key:2,class:"sign-up-continue go-back",onClick:e[2]||(e[2]=(...d)=>i.closeModalAndClean&&i.closeModalAndClean(...d))}," Close ")):p("",!0)])])])):p("",!0)}var Jc=u(dc,[["render",Vc]]);const Wc="",T=Yc();window.socketService=T;T.setup();function Yc(){var s=null;return{async setup(){s=$a(Wc)},on(a,o){s.on(a,o),console.log(a)},off(a,o=null){!s||(o?s.off(a,o):s.removeAllListeners(a))},emit(a,o){s.emit(a,o)},terminate(){s=null}}}var Xc="/assets/back-home.29252606.svg",Kc="/assets/liran2.5b1bb8a5.jpg";const Zc={name:"stay-details",components:{imagesContainer:Yo,SecondaryHeader:gn,SelectedPopularAmenities:bn,AmenitiesList:Fn,reviewsSection:ol,mapSection:Zl,heroModal:Wl,footerHeroModal:No,orderAlertModal:ac,loginAlertModal:cc,orderConfirmationModal:Jc},data(){return{isMobile:!1,stay:null,isOrderAlert:!1,isLoginAlert:!1,alertModalMessage:"",currOrder:null,isOrdering:!1,isConfirm:!1}},async created(){const s=this.$route.params.stayId;this.stay=await this.$store.dispatch({type:"getStayById",stayId:s})},methods:{addOrder(s){T.emit("new order",s),this.$store.dispatch({type:"addOrder",order:s})},loginToProceed(){this.isLoginAlert=!1,this.$store.commit({type:"openSignUpModal"})},demoToProceed(){this.isLoginAlert=!1,this.isOrdering=!0},closeLoginModal(){this.isLoginAlert=!1},closeAlertModal(){this.isOrderAlert=!1},goToMyTrips(){this.isOrdering=!1,this.$router.push("/mytrips")},closeConfirmationModal(){this.isOrdering=!1},openAlertModal(s){this.alertModalMessage=s,this.isOrderAlert=!1},onCheckAvailability(){this.isOrdering=!0;const s=this.getDates,e=this.getGuests;if(!s){this.$refs["hero-modal"].$refs["modal-date-picker"].focus(),this.isOrdering=!1;return}if(e.adults+e.children>this.stay.capacity){this.alertModalMessage=`Select up to ${this.stay.capacity} to proceed`,this.isOrdering=!1,this.isOrderAlert=!0;return}if(s[0]===s[1]){this.alertModalMessage="Reservation must be for at least one night",this.isOrdering=!1,this.isOrderAlert=!0;return}if(!this.$store.getters.getLoggedInUser){this.isLoginAlert=!0;return}},goToReviews(){let e=this.$refs["reviews-section"].$el.offsetTop;window.scrollTo({top:e-10,left:0,behavior:"smooth"})},goToMap(){let e=this.$refs["map-section"].$el.offsetTop;window.scrollTo({top:e-10,left:0,behavior:"smooth"})}},computed:{getDates(){return this.$store.getters.getDates},getGuests(){return this.$store.getters.getGuests},isLoggedIn(){return!!this.$store.getters.getLoggedInUser},getLoggedInUser(){return this.$store.getters.getLoggedInUser}},unmounted(){this.isOrdering=!1}},zc={key:0,class:"stay-details-main-layout main-layout"},Qc={class:"stay-details-page"},sd={key:1,class:"stay-details"},ed={class:"mobile-secondary-header"},td={class:"back-home"},ad=t("img",{src:Xc},null,-1),id=v("Back"),rd={class:"secondary-header-and-images-container"},od={class:"hero-modal-and-general-info"},nd={class:"general-info"},gd={class:"type-host-and-stay-properties"},ld={class:"type-host-and-stay-properties-text"},cd={class:"stay-type-host-name"},dd={class:"stay-properties"},pd=t("img",{src:Kc,alt:"Host picture",onerror:"this.onerror=null; this.src='https://thispersondoesnotexist.com/image'"},null,-1),md={class:"section-stay-summary"},ud={class:"stay-summary"},_d=t("div",{class:"summary-show-more"},[t("span",null,"Show more"),t("img",{src:na})],-1),hd={key:2,class:"order-alert-overlay"};function yd(s,e,a,o,r,i){const n=m("footer-hero-modal"),d=m("router-link"),h=m("secondary-header"),j=m("images-container"),Jt=m("selected-popular-amenities"),ca=m("amenities-list"),da=m("hero-modal"),pa=m("reviews-section"),ma=m("map-section"),ua=m("order-alert-modal"),_a=m("login-alert-modal"),ha=m("order-confirmation-modal");return r.stay?(g(),l("section",zc,[t("section",Qc,[r.stay?(g(),f(n,{key:0,stay:r.stay},null,8,["stay"])):p("",!0),r.stay?(g(),l("section",sd,[t("section",ed,[t("div",td,[ad,_(d,{to:"/stay"},{default:w(()=>[id]),_:1})])]),t("section",rd,[_(h,{onGoToReviews:i.goToReviews,onGoToMap:i.goToMap,stay:r.stay},null,8,["onGoToReviews","onGoToMap","stay"]),_(j,{stayImgs:r.stay.imgUrls},null,8,["stayImgs"])]),t("section",od,[t("section",nd,[t("section",gd,[t("section",ld,[t("h2",cd,c(r.stay.propertyType)+" hosted by "+c(r.stay.host.fullname),1),t("ul",dd,[t("li",null,c(r.stay.capacity)+" guests",1),t("li",null,c(r.stay.bedrooms)+" bedroom",1),t("li",null,c(r.stay.beds)+" bed",1),t("li",null,c(r.stay.bathrooms)+" baths",1)])]),pd]),_(Jt,{stay:r.stay},null,8,["stay"]),t("section",md,[t("p",ud,c(r.stay.summary),1),_d]),_(ca)]),_(da,{ref:"hero-modal",stay:r.stay,guestsFromStore:i.getGuests,onOnCheckAvailability:i.onCheckAvailability},null,8,["stay","guestsFromStore","onOnCheckAvailability"])]),_(pa,{stay:r.stay,ref:"reviews-section"},null,8,["stay"]),_(ma,{address:r.stay.address,ref:"map-section"},null,8,["address"]),r.isOrderAlert?(g(),f(ua,{key:0,onCloseModal:i.closeAlertModal,alertModalMessage:r.alertModalMessage},null,8,["onCloseModal","alertModalMessage"])):p("",!0),r.isLoginAlert?(g(),f(_a,{key:1,onCloseModal:i.closeLoginModal,onLogin:i.loginToProceed,onDemo:i.demoToProceed},null,8,["onCloseModal","onLogin","onDemo"])):p("",!0),_(ha,{class:y({showConfirm:r.isOrdering&&i.isLoggedIn}),stay:r.stay,dates:i.getDates,guests:i.getGuests,user:i.getLoggedInUser,onCloseModal:i.closeConfirmationModal,onGoToMyTrips:i.goToMyTrips,onAddOrder:i.addOrder},null,8,["class","stay","dates","guests","user","onCloseModal","onGoToMyTrips","onAddOrder"]),r.isOrderAlert||r.isLoginAlert||r.isOrdering&&i.isLoggedIn?(g(),l("div",hd)):p("",!0)])):p("",!0)])])):p("",!0)}var jd=u(Zc,[["render",yd]]);const vd={name:"order-preview",emits:["updateStatus"],props:{order:{type:Object,required:!0}},methods:{goToStay(){this.$router.push(`/stay/${this.trip.stay._id}`)},getFormatedPrice(s){var e=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0});return e.format(s)},updateStatus(s){this.$emit("updateStatus",{status:s,orderId:this.order._id})},timeConversion(s){let e=new Date(s).getDate();e=e<10?"0"+e:e;let a=new Date(s).getMonth()+1;a=a<10?"0"+a:a;let o=new Date(s).getFullYear().toString().substring(2)+"";return`${e}/${a}/${o}`}},computed:{isUndisable(){this.order.startDate;const s=Date.now(),e=1e3*60*60*24;returnstartDate-s<e||this.order.status},isUnrejectable(){const s=this.order.startDate,e=Date.now(),a=1e3*60*60*24;return s-e<a||this.order.status==="rejected"||this.order.status==="canceled"},isUnapprovable(){const s=this.order.startDate,e=Date.now(),a=1e3*60*60*24;return s-e<a||this.order.status==="approved"||this.order.status==="canceled"},formattedText(){return this.order.stay.name.length>15?this.order.stay.name.slice(0,15)+"...":this.order.stay.name}}},fd={class:"dashboard-order-cont"},bd={class:"date"},$d={class:"booker"},Sd=t("span",{class:"mobile-title"},"Stay: ",-1),wd={class:"detail trip-dates"},kd=t("span",{class:"mobile-title"},"Dates: ",-1),Cd={class:"nights"},Ud={class:"detail guests"},Md=t("span",{class:"mobile-title"},"Guests: ",-1),xd={class:"price"},Td={class:"detail total"},Id=t("span",{class:"mobile-title"},"Total order: ",-1),Dd=t("span",{class:"mobile-title"},"Status: ",-1),Ad={class:"detail actions actions-container"},Od=["disabled"],Ld=["disabled"];function Fd(s,e,a,o,r,i){return g(),l("section",fd,[t("div",bd,c(i.timeConversion(a.order.createdAt)),1),t("div",$d,c(a.order.buyer.fullname),1),t("div",{onClick:e[0]||(e[0]=(...n)=>i.goToStay&&i.goToStay(...n)),class:"detail stay"},[Sd,v(" "+c(a.order.stay.name),1)]),t("div",wd,[kd,v(" "+c(i.timeConversion(a.order.startDate))+" - "+c(i.timeConversion(a.order.endDate)),1)]),t("div",Cd,c(Math.round(a.order.totalPrice/a.order.stay.price)),1),t("div",Ud,[Md,v(" "+c(a.order.guests.adults+a.order.guests.children),1)]),t("div",xd,c(i.getFormatedPrice(a.order.stay.price)),1),t("div",Td,[Id,v(" "+c(i.getFormatedPrice(a.order.totalPrice)),1)]),t("div",{class:y(["detail status",a.order.status])},[Dd,v(c(a.order.status),1)],2),t("div",Ad,[t("button",{disabled:i.isUnapprovable,class:"reject-btn",onClick:e[1]||(e[1]=n=>i.updateStatus("approved"))}," Approve ",8,Od),t("button",{disabled:i.isUnrejectable,class:"approve-btn",onClick:e[2]||(e[2]=n=>i.updateStatus("rejected"))}," Reject ",8,Ld)])])}var Gd=u(vd,[["render",Fd]]);const Pd={name:"order-list",emits:["updateStatus"],props:{orders:{type:Array,required:!0}},methods:{updateStatus(s){this.$emit("updateStatus",s)}},components:{orderPreview:Gd}},Nd={key:0,class:"main-layout-homepage"},Bd=I('<div class="dashboard-order-cont titles"><div class="dashboard-title date">Date</div><div class="dashboard-title booker">Booker</div><div class="dashboard-title stay">Stay</div><div class="dashboard-title trip-dates">Dates</div><div class="dashboard-title nights">Nights</div><div class="dashboard-title guests">Guests</div><div class="dashboard-title price">Price / night</div><div class="dashboard-title total">Total</div><div class="dashboard-title status">Status</div><div class="dashboard-title actions">Actions</div></div>',1);function Rd(s,e,a,o,r,i){const n=m("order-preview");return a.orders?(g(),l("section",Nd,[Bd,(g(!0),l(k,null,C(a.orders.slice().reverse(),d=>(g(),f(n,{key:d._id,order:d,onUpdateStatus:i.updateStatus},null,8,["order","onUpdateStatus"]))),128))])):p("",!0)}var Hd=u(Pd,[["render",Rd]]);ea.title=!1;Sa.register(...wa);const qd={name:"Home",props:{data:{type:Object,requires:!0}},components:{PieChart:ea},data(){return{}},computed:{myStyles(){return{position:"relative",color:"blue"}}}},Ed={style:{"{responsive":"true"}};function Vd(s,e,a,o,r,i){const n=m("PieChart");return g(),l("div",Ed,[_(n,{styles:i.myStyles,class:"nights-pie",chartData:a.data},null,8,["styles","chartData"])])}var Jd=u(qd,[["render",Vd]]);const Wd={props:{orders:{type:Array,required:!0}},data(){return{options:{chart:{id:"vuechart-example",height:"400px"},fill:{colors:["#ff385c","#d90865","#d90865"]},plotOptions:{bar:{columnWidth:"70%",distributed:!1,columnColors:["black"]}},xaxis:{categories:["Jan","Feb","March","April"],labels:{style:{colors:["#222222"],fontSize:"13px"}}}},series:null}},created(){const s=[{name:"revenue",data:[0,0,0,0]}];this.orders.filter(a=>a.status==="approved").forEach(a=>{const o=new Date(a.createdAt).getMonth();o<4&&(s[0].data[o]+=a.totalPrice)}),this.series=s}};function Yd(s,e,a,o,r,i){const n=m("apexchart");return r.series?(g(),f(n,{key:0,width:"330",height:"170",type:"bar",options:r.options,series:r.series},null,8,["options","series"])):p("",!0)}var Xd=u(Wd,[["render",Yd]]);const Kd={name:"order-list",emits:["updateStatus"],props:{orders:{type:Array,required:!0}},data(){return{testData:null,totalRevenue:0}},created(){const s=this.orders.filter(r=>r.status==="approved"),e=s.reduce((r,i)=>r+i.totalPrice,0);this.totalRevenue=e;let a={labels:["1-3 nights","4-6 nights","+7 nights"],datasets:[{data:[],backgroundColor:["#b40000","#0000db","#338300"]}]},o=s.filter(r=>r.totalPrice/r.stay.price<=3).length;a.datasets[0].data.push(o),o=s.filter(r=>{const i=r.totalPrice/r.stay.price;return i>=4&&i<=6}).length,a.datasets[0].data.push(o),o=s.filter(r=>r.totalPrice/r.stay.price>=7).length,a.datasets[0].data.push(o),this.testData=a},computed:{pendingCount(){return this.orders.filter(e=>e.status==="pending").length},totalPriceAverage(){const s=this.orders.filter(a=>a.status==="approved"),e=this.totalRevenue;return this.getFormatedPrice(e/s.length)},cancelations(){const s=this.orders;return(s.filter(a=>a.status==="canceled").length/s.length*100).toFixed(1)+"%"},formattedRevenue(){return this.getFormatedPrice(this.totalRevenue)},thisYearRenevue(){const s=this.orders.filter(o=>o.status==="approved"),e=new Date().getFullYear(),a=s.filter(o=>new Date(o.createdAt).getFullYear()===e).reduce((o,r)=>o+r.totalPrice,0);return this.getFormatedPrice(a)},thisMonthRenevue(){const s=this.orders.filter(o=>o.status==="approved"),e=new Date().getMonth()+1,a=s.filter(o=>new Date(o.createdAt).getMonth()+1===e).reduce((o,r)=>o+r.totalPrice,0);return this.getFormatedPrice(a)}},methods:{getFormatedPrice(s){var e=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0});return e.format(s)}},components:{awesomeChart:Jd,barChart:Xd}},Zd={key:0,class:"dashboard-stats main-layout-homepage"},zd={class:"cards-container"},Qd={class:"bar-container"},sp=t("h1",null,"Revenue per month",-1),ep={class:"stats-card revenue"},tp=t("h1",null,"Total revenue",-1),ap={class:"details"},ip={class:"rev-stat"},rp=t("span",{class:"stat-head"},"This month",-1),op={class:"rev-stat"},np=t("span",{class:"stat-head"},"This year",-1),gp={class:"rev-stat"},lp=t("span",{class:"stat-head"},"Total income",-1),cp={class:"cards-container"},dp={class:"stats-card management"},pp=t("h1",null,"Orders management",-1),mp={class:"details"},up={class:"rev-stat"},_p=t("span",{class:"stat-head"},"Cancelations",-1),hp={class:"canceled-stat"},yp={class:"rev-stat"},jp=t("span",{class:"stat-head"},"Average order revenue",-1),vp={class:"total-stat"},fp={class:"rev-stat"},bp=t("span",{class:"stat-head"},"Pending now",-1),$p={class:"pending-stat"},Sp={class:"pie-container"},wp=t("h1",null,"Orders segmentation by nights",-1);function kp(s,e,a,o,r,i){const n=m("bar-chart"),d=m("awesome-chart");return a.orders?(g(),l("section",Zd,[t("div",zd,[t("div",Qd,[sp,_(n,{orders:a.orders},null,8,["orders"])]),t("div",ep,[tp,t("div",ap,[t("div",ip,[rp,t("span",null,c(i.thisMonthRenevue),1)]),t("div",op,[np,t("span",null,c(i.thisYearRenevue),1)]),t("div",gp,[lp,t("span",null,c(i.formattedRevenue),1)])])])]),t("div",cp,[t("div",dp,[pp,t("div",mp,[t("div",up,[_p,t("span",hp,c(i.cancelations),1)]),t("div",yp,[jp,t("span",vp,c(i.totalPriceAverage),1)]),t("div",fp,[bp,t("span",$p,c(i.pendingCount)+" orders",1)])])]),t("div",Sp,[wp,r.testData?(g(),f(d,{key:0,data:r.testData},null,8,["data"])):p("",!0)])])])):p("",!0)}var Cp=u(Kd,[["render",kp]]);const Up={name:"dashboard",data(){return{isShowingMessage:!1,message:{},loggedInUser:{}}},async created(){this.loggedInUser=this.$store.getters.getLoggedInUser,T.emit("enter dashboard",this.loggedInUser._id),T.on("added order",this.addedNewOrder);const s={hostId:this.loggedInUser._id};try{await this.$store.dispatch({type:"loadOrders",filterBy:s})}catch(e){console.log("Error while loading orders: ",e)}},computed:{isLoading(){return this.$store.getters.isLoading},getOrders(){return this.$store.getters.getOrders}},methods:{showMessage(s){this.message=s,this.isShowingMessage=!0,setTimeout(()=>{this.isShowingMessage=!1},4500)},async updateStatus({status:s,orderId:e}){const a=this.getOrders.find(r=>r._id===e),o=JSON.parse(JSON.stringify(a));o.status=s,this.$store.dispatch({type:"updateOrder",order:o}),T.emit("update status",o)},async addedNewOrder(){this.loggedInUser=this.$store.getters.getLoggedInUser;const s={hostId:this.loggedInUser._id};try{await this.$store.dispatch({type:"loadOrdersWithSocket",filterBy:s})}catch(a){console.log("Error while loading orders: ",a)}const e={text:"You have a new order",from:"user"};this.$store.commit({type:"setOrderStatus",status:"approved"}),this.showMessage(e)}},components:{orderList:Hd,dashboardStats:Cp,userMessage:ra}},Mp={class:"dashboard main-layout-height"},xp=t("h1",{class:"main-layout-homepage title"},"My Dashboard",-1),Tp={class:"loading-img-container"},Ip={key:0,class:"loading-img",src:B,alt:"Loading.."};function Dp(s,e,a,o,r,i){const n=m("user-message"),d=m("dashboard-stats"),h=m("order-list");return g(),l("section",Mp,[_(n,{class:y({showUserMessage:r.isShowingMessage}),message:r.message},null,8,["class","message"]),xp,t("div",Tp,[i.isLoading?(g(),l("img",Ip)):p("",!0)]),i.isLoading?p("",!0):(g(),f(d,{key:0,orders:i.getOrders},null,8,["orders"])),i.isLoading?p("",!0):(g(),f(h,{key:1,orders:i.getOrders,onUpdateStatus:i.updateStatus},null,8,["orders","onUpdateStatus"]))])}var Ap=u(Up,[["render",Dp]]),Op="/assets/empty-like.6b08c87c.svg",Lp="/assets/full-like.2b81a368.svg";const Fp={props:{stay:{type:Object,required:!0}},data(){return{isLiked:!1}},methods:{likeCliked(){this.isLiked=!this.isLiked},stayClicked(){this.$router.push(`/stay/${this.stay._id}`)},getStayRate(s){return(s.reviewScores.rating/20).toFixed(2)},getReviewCount(s){return s.reviews.length+" reviews"},getImgUrl(s){return new URL({"../assets/images/001.jpeg":E,"../assets/images/002.jpeg":V,"../assets/images/003.jpeg":J,"../assets/images/004.jpeg":W,"../assets/images/005.jpeg":Y,"../assets/images/006.jpeg":X,"../assets/images/007.jpeg":K,"../assets/images/008.jpeg":Z,"../assets/images/009.jpeg":z,"../assets/images/010.jpeg":Q,"../assets/images/011.jpeg":ss,"../assets/images/012.jpeg":es,"../assets/images/013.jpeg":ts,"../assets/images/014.jpeg":as,"../assets/images/015.jpeg":is,"../assets/images/016.jpeg":rs,"../assets/images/017.jpeg":os,"../assets/images/018.jpeg":ns,"../assets/images/019.jpeg":gs,"../assets/images/020.jpeg":ls,"../assets/images/021.jpeg":cs,"../assets/images/022.jpeg":ds,"../assets/images/023.jpeg":ps,"../assets/images/024.jpeg":ms,"../assets/images/025.jpeg":us,"../assets/images/026.jpeg":_s,"../assets/images/027.jpeg":hs,"../assets/images/028.jpeg":ys,"../assets/images/029.jpeg":js,"../assets/images/030.jpeg":vs,"../assets/images/031.jpeg":fs,"../assets/images/032.jpeg":bs,"../assets/images/033.jpeg":$s,"../assets/images/034.jpeg":Ss,"../assets/images/035.jpeg":ws,"../assets/images/036.jpeg":ks,"../assets/images/037.jpeg":Cs,"../assets/images/038.jpeg":Us,"../assets/images/039.jpeg":Ms,"../assets/images/040.jpeg":xs,"../assets/images/041.jpeg":Ts,"../assets/images/042.jpeg":Is,"../assets/images/043.jpeg":Ds,"../assets/images/044.jpeg":As,"../assets/images/045.jpeg":Os,"../assets/images/046.jpeg":Ls,"../assets/images/047.jpeg":Fs,"../assets/images/048.jpeg":Gs,"../assets/images/049.jpeg":Ps,"../assets/images/050.jpeg":Ns,"../assets/images/051.jpeg":Bs,"../assets/images/052.jpeg":Rs,"../assets/images/053.jpeg":Hs,"../assets/images/054.jpeg":qs,"../assets/images/055.jpeg":Es,"../assets/images/056.jpeg":Vs,"../assets/images/057.jpeg":Js,"../assets/images/058.jpeg":Ws,"../assets/images/059.jpeg":Ys,"../assets/images/060.jpeg":Xs,"../assets/images/061.jpeg":Ks,"../assets/images/062.jpeg":Zs,"../assets/images/063.jpeg":zs,"../assets/images/064.jpeg":Qs,"../assets/images/065.jpeg":se,"../assets/images/066.jpeg":ee,"../assets/images/067.jpeg":te,"../assets/images/068.jpeg":ae,"../assets/images/069.jpeg":ie,"../assets/images/070.jpeg":re,"../assets/images/071.jpeg":oe,"../assets/images/072.jpeg":ne,"../assets/images/073.jpeg":ge,"../assets/images/074.jpeg":le,"../assets/images/075.jpeg":ce,"../assets/images/076.jpeg":de,"../assets/images/077.jpeg":pe,"../assets/images/078.jpeg":me,"../assets/images/079.jpeg":ue,"../assets/images/080.jpeg":_e,"../assets/images/081.jpeg":he,"../assets/images/082.jpeg":ye,"../assets/images/083.jpeg":je,"../assets/images/084.jpeg":ve,"../assets/images/085.jpeg":fe,"../assets/images/086.jpeg":be,"../assets/images/087.jpeg":$e,"../assets/images/088.jpeg":Se,"../assets/images/089.jpeg":we,"../assets/images/090.jpeg":ke,"../assets/images/091.jpeg":Ce,"../assets/images/092.jpeg":Ue,"../assets/images/093.jpeg":Me,"../assets/images/094.jpeg":xe,"../assets/images/095.jpeg":Te,"../assets/images/096.jpeg":Ie,"../assets/images/097.jpeg":De,"../assets/images/098.jpeg":Ae,"../assets/images/099.jpeg":Oe,"../assets/images/100.jpeg":Le,"../assets/images/101.jpeg":Fe,"../assets/images/102.jpeg":Ge,"../assets/images/103.jpeg":Pe,"../assets/images/104.jpeg":Ne,"../assets/images/105.jpeg":Be,"../assets/images/106.jpeg":Re,"../assets/images/107.jpeg":He,"../assets/images/108.jpeg":qe,"../assets/images/109.jpeg":Ee,"../assets/images/110.jpeg":Ve,"../assets/images/111.jpeg":Je,"../assets/images/112.jpeg":We,"../assets/images/113.jpeg":Ye,"../assets/images/114.jpeg":Xe,"../assets/images/115.jpeg":Ke,"../assets/images/116.jpeg":Ze,"../assets/images/117.jpeg":ze,"../assets/images/118.jpeg":Qe,"../assets/images/119.jpeg":st,"../assets/images/120.jpeg":et,"../assets/images/121.jpeg":tt,"../assets/images/122.jpeg":at,"../assets/images/123.jpeg":it,"../assets/images/124.jpeg":rt,"../assets/images/125.jpeg":ot,"../assets/images/126.jpeg":nt,"../assets/images/127.jpeg":gt,"../assets/images/128.jpeg":lt,"../assets/images/129.jpeg":ct,"../assets/images/130.jpeg":dt,"../assets/images/131.jpeg":pt,"../assets/images/132.jpeg":mt,"../assets/images/133.jpeg":ut,"../assets/images/134.jpeg":_t,"../assets/images/135.jpeg":ht,"../assets/images/136.jpeg":yt,"../assets/images/137.jpeg":jt,"../assets/images/138.jpeg":vt,"../assets/images/139.jpeg":ft,"../assets/images/140.jpeg":bt,"../assets/images/141.jpeg":$t,"../assets/images/142.jpeg":St,"../assets/images/143.jpeg":wt,"../assets/images/144.jpeg":kt,"../assets/images/145.jpeg":Ct,"../assets/images/146.jpeg":Ut,"../assets/images/147.jpeg":Mt,"../assets/images/148.jpeg":xt,"../assets/images/149.jpeg":Tt,"../assets/images/150.jpeg":It,"../assets/images/151.jpeg":Dt,"../assets/images/152.jpeg":At,"../assets/images/153.jpeg":Ot,"../assets/images/apartment.jpg":Lt,"../assets/images/Barcelona.jpg":O,"../assets/images/cabin.jpg":L,"../assets/images/cabin2.jpg":Ft,"../assets/images/condominium.jpg":Gt,"../assets/images/homepage3.jpg":Pt,"../assets/images/Hongkong.jpg":F,"../assets/images/Istanbul.jpg":G,"../assets/images/lidor.jpg":Nt,"../assets/images/loft.jpg":Bt,"../assets/images/London.jpg":Rt,"../assets/images/Maui.jpg":P,"../assets/images/Rome.jpg":Ht,"../assets/images/Villa.jpg":N}[`../assets/images/${s}`],self.location)}},computed:{}},Gp={class:"carousele"},Pp={class:"block"},Np=["src"],Bp=t("div",{class:"like"},null,-1),Rp={class:"card-preview-line"},Hp=t("span",{class:"material-icons-outlined star"},"star",-1),qp={class:"card-rate"},Ep={class:"reviews-count"},Vp={class:"card-preview-line"},Jp=t("span",{class:"preview-dot"},"\xB7",-1),Wp={class:"card-preview-price"},Yp=t("span",null," / night",-1);function Xp(s,e,a,o,r,i){const n=m("el-carousel-item"),d=m("el-carousel");return a.stay?(g(),l("li",{key:0,class:"card",onClick:e[2]||(e[2]=(...h)=>i.stayClicked&&i.stayClicked(...h))},[t("div",null,[t("div",Gp,[t("div",Pp,[_(d,{autoplay:!1},{default:w(()=>[(g(!0),l(k,null,C(a.stay.imgUrls,h=>(g(),f(n,{key:h},{default:w(()=>[r.isLiked?p("",!0):(g(),l("img",{key:0,class:"like-img",src:Op,alt:"like",onClick:e[0]||(e[0]=q((...j)=>i.likeCliked&&i.likeCliked(...j),["stop"]))})),r.isLiked?(g(),l("img",{key:1,class:"like-img",src:Lp,alt:"like",onClick:e[1]||(e[1]=q((...j)=>i.likeCliked&&i.likeCliked(...j),["stop"]))})):p("",!0),t("img",{class:"card-img",src:i.getImgUrl(h)},null,8,Np)]),_:2},1024))),128))]),_:1})])]),Bp]),t("p",Rp,[Hp,t("span",qp,c(i.getStayRate(a.stay)),1),t("span",Ep,"("+c(i.getReviewCount(a.stay))+")",1)]),t("p",Vp,[t("span",null,c(a.stay.propertyType),1),Jp,t("span",null,c(a.stay.address.city),1)]),t("p",null,c(a.stay.name),1),t("p",null,[t("span",Wp,c(s.$filters.currencyUSD(a.stay.price)),1),Yp])])):p("",!0)}var Kp=u(Fp,[["render",Xp]]);const Zp={props:{stays:{type:Array,required:!0},city:{type:String,required:!0}},data(){return{}},components:{stayPreview:Kp},computed:{isLoading(){return this.$store.getters.isLoading},getStaysPreviewTitle(){if(this.city){let e=this.city.split("").map((a,o)=>o?a.toLowerCase():a.toUpperCase()).join("");return`${this.stays.length} stays in ${e}`}return`${this.stays.length} stays`}},methods:{}},zp={key:0,class:"stay-list-container"},Qp={class:"loading-img-container"},sm={key:0,class:"loading-img",src:B,alt:"Loading.."},em={key:0,class:"stays-count"},tm={key:1,class:"card-cont"},am={key:2,class:"no-results"};function im(s,e,a,o,r,i){const n=m("stay-preview");return a.stays?(g(),l("section",zp,[t("div",Qp,[i.isLoading?(g(),l("img",sm)):p("",!0)]),a.stays.length&&!i.isLoading?(g(),l("p",em,c(i.getStaysPreviewTitle),1)):p("",!0),a.stays.length&&!i.isLoading?(g(),l("ul",tm,[(g(!0),l(k,null,C(a.stays,d=>(g(),f(n,{key:d._id,stay:d},null,8,["stay"]))),128))])):p("",!0),!a.stays.length&&!i.isLoading?(g(),l("h1",am,"No results")):p("",!0)])):p("",!0)}var rm=u(Zp,[["render",im]]);const om={props:{stays:{type:Array,required:!0},filterByCity:{type:String},filerByType:{type:Array}},data(){return{typeFromParams:{Apartment:!1,Loft:!1,Villa:!1,Cabin:!1},isPriceFiltering:!1,isTypeFiltering:!1,isTypeFromHomepage:!1,min:1,max:1800,isAmenityInFilter:{"Pets allowed":!1,Wifi:!1,"Smoking allowed":!1,"Air conditioning":!1,"Cable TV":!1},isTypeSelected:!1,isPriceSelected:!1,filterBy:{price:[],type:[],city:"",amenities:[],guests:null},options:[{title:"Apartment",description:"Have an entire place to yourself"},{title:"Loft",description:"Enjoy a space with elevated area"},{title:"Villa",description:"Have an impressive house to rest in"},{title:"Cabin",description:"Enjoy an adventure in a remote location"}]}},created(){const s=this.$store.getters.getFilterFromStore;this.filterBy=s,this.filterByCity&&(this.filterBy.city=this.filterByCity),this.filerByType&&(this.filterBy.type=this.filerByType,this.typeFromParams[this.filterBy.type[0]]=!0),this.setFilter()},components:{},methods:{toggleType(s){if(!this.isTypeFromHomepage){if(!this.filterBy.type.includes(s))this.filterBy.type.push(s);else{const e=this.filterBy.type.findIndex(a=>a===s);this.filterBy.type.splice(e,1)}this.isTypeSelected=!!this.filterBy.type.length,this.setTypeFilter()}},togglePriceModal(){this.isPriceFiltering=!this.isPriceFiltering,this.isPriceFiltering&&(this.isTypeFiltering=!1)},toggleTypeModal(){this.isTypeFiltering=!this.isTypeFiltering,this.isTypeFiltering&&(this.isPriceFiltering=!1)},setTypeFilter(){this.min=1,this.max=1800,this.setFilter()},setFilter(){const s=JSON.parse(JSON.stringify(this.filterBy));this.$emit("setFilter",s)},toggleAmenity(s){if(this.filterBy.amenities.includes(s)){const e=this.filterBy.amenities.findIndex(a=>a===s);this.filterBy.amenities.splice(e,1)}else this.filterBy.amenities.push(s);this.isAmenityInFilter[s]=!this.isAmenityInFilter[s],this.setFilter()}},computed:{priceSelected(){return this.filterBy.price[0]>1||this.filterBy.price[1]<1800},getPriceModalText(){return`$${this.filterBy.price[0]} - $${this.filterBy.price[1]}`},getTypeMenuTitle(){return this.filterBy.type.length?(this.isTypeSelected=!0,`${this.filterBy.type}`):(this.isTypeSelected=!1,"Type of place")}}},nm={class:"explore-filter"},gm={class:"price-and-type-filters-cont"},lm=t("span",{class:"type-span"},"Price",-1),cm={key:0,class:"material-icons-outlined"},dm={key:1,class:"material-icons"},pm={key:0,class:"modal price-modal"},mm=t("span",{class:"type-span"},"Type of place",-1),um={key:0,class:"material-icons-outlined"},_m={key:1,class:"material-icons"},hm={class:"modal-container"},ym={class:"line-container"},jm=["onUpdate:modelValue","onInput"],vm=t("span",{class:"checkmark"},null,-1),fm={class:"line-text flex flex-column"},bm={class:"type-modal-type-title"},$m={class:"type-modal-description"},Sm={class:"amenities-container"},wm={class:"amenity-mini-container"},km={class:"amenity-mini-container"};function Cm(s,e,a,o,r,i){const n=m("el-slider");return g(),l("div",nm,[t("div",gm,[t("div",{class:y(["explore-filter-item select-type-cont select-price flex align-center",{typeSelected:i.priceSelected}])},[t("span",{onClick:e[0]||(e[0]=(...d)=>i.togglePriceModal&&i.togglePriceModal(...d)),class:"flex align-center"},[lm,r.isPriceFiltering?p("",!0):(g(),l("span",cm," arrow_drop_down ")),r.isPriceFiltering?(g(),l("span",dm," arrow_drop_up ")):p("",!0)]),r.isPriceFiltering?(g(),l("div",pm,[t("span",null,c(i.getPriceModalText),1),_(n,{class:"price-range",modelValue:r.filterBy.price,"onUpdate:modelValue":e[1]||(e[1]=d=>r.filterBy.price=d),onInput:i.setFilter,min:r.min,max:r.max,"show-input":!0,range:""},null,8,["modelValue","onInput","min","max"])])):p("",!0)],2),t("div",{class:y(["explore-filter-item select-type-cont",{typeSelected:r.isTypeSelected}])},[t("span",{class:"flex align-center",onClick:e[2]||(e[2]=(...d)=>i.toggleTypeModal&&i.toggleTypeModal(...d))},[mm,r.isTypeFiltering?p("",!0):(g(),l("span",um," arrow_drop_down ")),r.isTypeFiltering?(g(),l("span",_m," arrow_drop_up ")):p("",!0)]),t("div",{class:y([{showTypeFilter:r.isTypeFiltering},"modal type-modal"])},[t("div",hm,[(g(!0),l(k,null,C(r.options,d=>(g(),l("div",{key:d,class:"type-modal-line"},[t("label",ym,[U(t("input",{"onUpdate:modelValue":h=>r.typeFromParams[d.title]=h,type:"checkbox",onInput:h=>i.toggleType(d.title)},null,40,jm),[[ka,r.typeFromParams[d.title]]]),vm,t("div",fm,[t("span",bm,c(d.title),1),t("span",$m,c(d.description),1)])])]))),128))]),t("div",{class:"type-modal-btn btn-close",onClick:e[3]||(e[3]=(...d)=>i.toggleTypeModal&&i.toggleTypeModal(...d))}," Close ")],2)],2)]),t("div",Sm,[t("div",wm,[t("span",{class:y(["amenity wifi",{amenitySelected:r.isAmenityInFilter.Wifi}]),title:"free WiFi connection",onClick:e[4]||(e[4]=d=>i.toggleAmenity("Wifi"))}," WiFi ",2),t("span",{class:y(["amenity",{amenitySelected:r.isAmenityInFilter["Pets allowed"]}]),title:"Pets alowed",onClick:e[5]||(e[5]=d=>i.toggleAmenity("Pets allowed"))}," Pets allowed ",2),t("span",{class:y(["amenity",{amenitySelected:r.isAmenityInFilter["Air conditioning"]}]),title:"Air conditioner",onClick:e[6]||(e[6]=d=>i.toggleAmenity("Air conditioning"))}," A/C ",2)]),t("div",km,[t("span",{class:y(["amenity smoking",{amenitySelected:r.isAmenityInFilter["Smoking allowed"]}]),title:"Smoking allowed",onClick:e[7]||(e[7]=d=>i.toggleAmenity("Smoking allowed"))}," Smoking allowed ",2),t("span",{class:y(["amenity",{amenitySelected:r.isAmenityInFilter["Cable TV"]}]),title:"Cable TV",onClick:e[8]||(e[8]=d=>i.toggleAmenity("Cable TV"))}," Cable TV ",2)])])])}var Um=u(om,[["render",Cm]]);const Mm={name:"stay-app",data(){return{filterBy:{price:[1,4e3],type:[],city:"",amenities:[],guests:0}}},created(){const s=this.$store.getters.getGuestsNumber;if(this.filterBy.guests=s,this.$route.query.destination){let a=this.$route.query.destination.split("?")[0];this.filterBy.city=a||""}const e=this.$route.query.type;e&&this.filterBy.type.push(e),this.setFilter(this.filterBy)},computed:{getCityFilter(){return this.$store.getters.getCityFilter},getTypeFilter(){return this.$store.getters.getTypeFilter},staysForDisplay(){return this.$store.getters.getStays}},methods:{setFilter(s){this.$store.commit({type:"setFilter",filterBy:s}),this.$store.dispatch({type:"loadStays",filterBy:s})}},components:{stayList:rm,exploreFilter:Um}},xm={key:0,class:"main-layout-height app-page stay-app-layout"};function Tm(s,e,a,o,r,i){const n=m("explore-filter"),d=m("stay-list");return i.staysForDisplay?(g(),l("section",xm,[_(n,{stays:i.staysForDisplay,filerByType:i.getTypeFilter,filterByCity:i.getCityFilter,onSetFilter:i.setFilter},null,8,["stays","filerByType","filterByCity","onSetFilter"]),_(d,{stays:i.staysForDisplay,city:i.getCityFilter},null,8,["stays","city"])])):p("",!0)}var Im=u(Mm,[["render",Tm]]);const ga=Ca({history:Ua(),scrollBehavior(s,e,a){return{top:0}},routes:[{name:"home-page",path:"/",component:kr},{name:"about-page",path:"/about",component:Or},{name:"stay-app",path:"/stay",component:Im},{name:"stay-details",path:"/stay/:stayId",component:jd},{name:"dashboard",path:"/dashboard",component:Ap},{name:"my-trips",path:"/mytrips",component:$o}]}),Dm={query:D,get:Am,post:Om,put:Fm,remove:Gm,postMany:Lm};function D(s){var e=JSON.parse(localStorage.getItem(s))||[];return Promise.resolve(e)}function Am(s,e){return D(s).then(a=>a.find(o=>o._id===e))}function Om(s,e){return e._id=Pm(),D(s).then(a=>(a.push(e),Et(s,a),e))}function Lm(s,e){return D(s).then(a=>(a.push(...e),Et(s,a),a))}function Fm(s,e){return D(s).then(a=>{const o=a.findIndex(r=>r._id===e._id);return a.splice(o,1,e),Et(s,a),e})}function Gm(s,e){return D(s).then(a=>{const o=a.findIndex(r=>r._id===e);a.splice(o,1),Et(s,a)})}function Et(s,e){localStorage.setItem(s,JSON.stringify(e))}function Pm(s=8){for(var e="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<s;o++)e+=a.charAt(Math.floor(Math.random()*a.length));return e}const Nm="/api/";var Bm=Ma.create({withCredentials:!0});const b={get(s,e){return R(s,"GET",e)},post(s,e){return R(s,"POST",e)},put(s,e){return R(s,"PUT",e)},delete(s,e){return R(s,"DELETE",e)}};async function R(s,e="GET",a=null){try{return(await Bm({url:`${Nm}${s}`,method:e,data:a,params:e==="GET"?a:null})).data}catch(o){throw console.log(`Had Issues ${e}ing to the backend, endpoint: ${s}, with data:`,a),console.dir(o),o.response&&o.response.status===401&&(window.location.assign("/#/login"),ga.push("/login")),o}}const sa={query:Rm,getById:Hm,save:Em,remove:qm};async function Rm(s=null){return await b.get("stay",s)}async function Hm(s){return await b.get(`stay/${s}`)}async function qm(s){return await b.delete(`stay/${s}`)}async function Em(s){return toy._id?await b.put(`stay/${s._id}`,s):await b.post("stay",s)}var Vm={state:{stays:[],filterBy:{price:[],type:[],city:"",amenities:[],guests:0}},getters:{getFilterFromStore(s){return JSON.parse(JSON.stringify(s.filterBy))},getStays(s){return JSON.parse(JSON.stringify(s.stays))},getGuestsNumber(s){return s.filterBy.guests},getCityFilter(s){return s.filterBy.city},getTypeFilter(s){return s.filterBy.type},getTopRatedStays(s){if(!s.stays.length)return;let e=JSON.parse(JSON.stringify(s.stays));return e=e.filter(a=>!!a.reviewScores.rating),e.splice(4),e},getStaysForDisplay(s){let e=JSON.parse(JSON.stringify(s.stays));if(!!e.length)return e}},mutations:{setGuestsFilter(s,{guests:e}){s.filterBy.guests=e},setCityFilter(s,{city:e}){s.filterBy.city=e},setFilter(s,{filterBy:e}){s.filterBy=e},setStays(s,{stays:e}){s.stays=e}},actions:{async getStayById(s,{stayId:e}){try{return await sa.getById(e)}catch{}},async loadStays({commit:s,state:e},{filterBy:a}){s({type:"setIsLoading",isLoading:!0});try{const o=await sa.query(a);s({type:"setStays",stays:o})}catch(o){console.log("Error while loading stays: ",o)}finally{s({type:"setIsLoading",isLoading:!1})}},filter({commit:s,dispatch:e},{filterBy:a}){s({type:"setFilter",filterBy:a}),e({type:"loadStays"})}}};const Jm="user_db",Yt="loggedinUser",S={login:Wm,logout:Qm,signup:zm,getLoggedinUser:la,getUsers:Zm,getById:Xm,update:Km,saveUser:Ym};window.userService=S;async function Wm(s){try{const e=await b.post("auth/login",s);if(e)return Xt(e)}catch{console.log("Error while trying to login")}}async function Ym(s){return await b.post("user",s)}async function Xm(s){return await b.get(`user/${s}`)}async function Km(s){return s=await b.put(`user/${s._id}`,s),la()._id===s._id&&Xt(s),s}async function Zm(){let s=await Dm.query(Jm);return(!s||!s.length)&&(s=await _createUsers()),s}async function zm(s){const e=await b.post("auth/signup",s);return Xt(e)}async function Qm(){sessionStorage.removeItem(Yt)}function Xt(s){return sessionStorage.setItem(Yt,JSON.stringify(s)),s}function la(){return JSON.parse(sessionStorage.getItem(Yt)||"null")}var su={state:{users:null,loggedInUser:null,isSignUpModal:!1,isNewUser:!1},getters:{isNewUser(s){return s.isNewUser},getUsers(s){return JSON.parse(JSON.stringify(s.users))},isSignUpModal(s){return s.isSignUpModal},getLoggedInUser(s){return s.loggedInUser}},mutations:{openSignUpModal(s,{isNew:e}){s.isNewUser=e,s.isSignUpModal=!0},toggleNewUser(s){s.isNewUser=!s.isNewUser},setIsNewUser(s,{isNew:e}){s.isNewUser=e||!1},closeSignUpModal(s){s.isSignUpModal=!1},setLoggedinUser(s,{loggedInUser:e}){s.loggedInUser=e},setUsers(s,{users:e}){s.users=e},saveUser(s,{user:e}){const a=s.users.findIndex(o=>o._id===e._id);a!==-1?s.users.splice(a,1,e):s.users.unshift(e)}},actions:{async login({commit:s,dispatch:e},{user:a}){try{const o=await S.login(a);s({type:"setLoggedinUser",loggedInUser:o});const r={hostId:o._id};s({type:"resetIsHostLoaded"}),await e({type:"loadOrders",filterBy:r})}catch(o){throw console.log("Error while trying to log in",o),console.log(o),new Error("Somethig went wrong. Try again")}},async signUp({commit:s,dispatch:e},{user:a}){try{const o=await S.signup(a);s({type:"setLoggedinUser",loggedInUser:o}),s({type:"resetIsHostLoaded"})}catch(o){console.log("Can't sign up:",o)}},async logout({commit:s,dispatch:e}){await S.logout(),s({type:"setLoggedinUser",loggedInUser:null}),s({type:"setOrders",orders:null}),s({type:"resetIsHostLoaded"})},async getUserById(s,{userId:e}){return await S.getById(e)},async loadUsers({commit:s,state:e}){const a=await S.getUsers();s({type:"setUsers",users:a})},async saveUser({commit:s,dispatch:e},{user:a}){await S.saveUser(a),s({type:"saveUser",user:a}),e({type:"loadUsers"})},getUserFromSession({commit:s}){console.log("store getUserFromSession 1");const e=S.getLoggedinUser();s({type:"setLoggedinUser",loggedInUser:e})}}};const Vt="order",A={query:eu,addOrder:au,removeOrder:ru,updateOrder:iu,getById:tu};async function eu(s={}){return await b.get(Vt,s)}async function tu(s){return await b.get(`order/${s}`)}async function au(s){return await b.post(Vt,s)}async function iu(s){return await b.put(`${Vt}/${s._id}`,s)}async function ru(s){return await b.delete(`${Vt}/${s}`,s)}var ou={state:{location:"",dates:null,guests:{adults:0,children:0},orders:[],hostOrders:[],isHostOrdersLoaded:!1,total:0},getters:{getHostOrders(s){return s.hostOrders},getOrders(s){return s.orders},getTotalPrice(s){return s.total},getLocation(s){return s.location},getDates(s){return s.dates},getGuests(s){return $({},s.guests)}},mutations:{clearOrdersFromStore(s){s.orders=[],console.log("orders cleared: ",s.orders)},setTotalPrice(s,{totalPrice:e}){s.total=e},setLocation(s,{location:e}){s.location=e},setDates(s,{dates:e}){s.dates=e},setGuests(s,{guests:e}){s.guests=e},resetIsHostLoaded(s){s.isHostOrdersLoaded=!1},setHostOrders(s,{orders:e}){s.isHostOrdersLoaded||(s.isHostOrdersLoaded=!0,s.hostOrders=e)},setOrders(s,{orders:e}){s.orders=e},addOrder(s,{order:e}){s.orders.push(e)},updateOrder(s,{order:e}){const a=s.orders.findIndex(o=>o._id===e._id);s.orders.splice(a,1,e)},removeOrder(s,{orderId:e}){const a=s.orders.findIndex(o=>o._id===e);s.orders.splice(a,1)},clearOrderingDetails(s){s.location="",s.dates=null,s.guests={adults:0,children:0},s.total=0}},actions:{async loadOrders({commit:s},{filterBy:e}){s({type:"setIsLoading",isLoading:!0});try{const a=await A.query(e);s({type:"setOrders",orders:a}),s({type:"setHostOrders",orders:a})}catch(a){console.log("err :>> ",a)}finally{s({type:"setIsLoading",isLoading:!1})}},async loadOrdersWithSocket({commit:s},{filterBy:e}){try{const a=await A.query(e);return s({type:"setOrders",orders:a}),a}catch(a){console.log("err :>> ",a)}},async addOrder({commit:s},{order:e}){try{const a=await A.addOrder(e);s({type:"addOrder",order:a})}catch(a){console.log("err :>> ",a)}},async updateOrder({commit:s},{order:e}){try{const a=await A.updateOrder(e);s({type:"updateOrder",order:a})}catch(a){console.log("err :>> ",a)}},async removeOrder({commit:s},{orderId:e}){try{await A.removeOrder(e),s({type:"removeOrder",orderId:e})}catch(a){console.log("err :>> ",a)}}}};const nu=xa({strict:!0,state:{isLoading:!1,orderStatus:""},getters:{getOrderStatus(s){return s.orderStatus},isLoading(s){return s.isLoading}},mutations:{setOrderStatus(s,{status:e}){s.orderStatus=e},setIsLoading(s,{isLoading:e}){s.isLoading=e}},actions:{},modules:{stayStore:Vm,userStore:su,orderStore:ou}});const M=Ta(nr);M.config.globalProperties.$filters={currencyUSD(s){return"$"+s},getDateForDisplay(s){const e=new Date,a=new Date(s),o=e.getDay(),r=a.getDay(),i=e-a,n=a.getHours(),d=a.getMinutes();return i<1e3*60?`${(i/1e3).toFixed(0)} seconds ago `:i<1e3*60*60?`${(i/(1e3*60)).toFixed(0)} minutes ago `:i<1e3*60*60*24&&o===r?`Today, ${n<10?"0"+n:n}:${d<10?"0"+d:d} `:i<1e3*60*60*24*2&&(Math.abs(o-r)===1||Math.abs(o-r)===6)?`Yesterday, ${n<10?"0"+n:n}:${d<10?"0"+d:d} `:`${a.getDate()<10?"0"+a.getDate():a.getDate()}/${a.getMonth()<9?"0"+(a.getMonth()+1):a.getMonth()+1},  ${n<10?"0"+n:n}:${d<10?"0"+d:d} `}};M.use(ga);M.use(nu);M.use(Ia);M.use(Da,{load:{key:"AIzaSyAcZWoRl-gITKbAK7tl0NjQ8nJkMb5tF40"}});M.use(Aa);M.mount("#app");
