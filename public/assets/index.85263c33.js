var ma=Object.defineProperty;var Kt=Object.getOwnPropertySymbols;var ha=Object.prototype.hasOwnProperty,ya=Object.prototype.propertyIsEnumerable;var zt=(e,s,a)=>s in e?ma(e,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[s]=a,b=(e,s)=>{for(var a in s||(s={}))ha.call(s,a)&&zt(e,a,s[a]);if(Kt)for(var a of Kt(s))ya.call(s,a)&&zt(e,a,s[a]);return e};import{_,o as l,c,a as t,t as g,r as u,w as x,v as Y,b as h,d as v,e as p,f as F,n as y,g as va,h as Qt,i as I,j as L,F as $,k as w,l as T,m as C,p as fa,P as ea,C as ja,q as ba,s as Sa,u as $a,x as wa,y as ka,z as Ca,A as Ma,B as xa,D as Ta,V as Ua}from"./vendor.29e2c682.js";const Da=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function a(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=a(r);fetch(r.href,i)}};Da();const Ia={props:{guests:{type:Object,required:!0}},data(){return{guestSelected:null}},created(){this.guestSelected=b({},this.guests)},methods:{closeGuestsModal(){this.guestSelected=b({},this.guests),this.$emit("closeGuestsModal")},changeCount(e,s){e==="adults"&&this.guestSelected.adults===0&&s===-1||e==="children"&&this.guestSelected.children===0&&s===-1||(e==="children"&&s===1&&this.guestSelected.adults===0&&(this.guestSelected.adults=1),!(e==="adults"&&this.guestSelected.adults===1&&s===-1&&this.guestSelected.children>0)&&(this.guestSelected[e]+=s,this.$emit("onSelectGuests",b({},this.guestSelected))))},onSelectGuests(){this.$emit("closeGuestsModal")}}},Oa={class:"select-guests-modal"},Fa=t("p",{class:"guests-modal-title"},"Select guests",-1),La={class:"guests-type-container"},Aa=t("span",{class:"guests-type"},"Adults",-1),Pa={class:"guests-counter"},Ga={class:"guests-number"},Ba={class:"guests-type-container"},Na=t("span",{class:"guests-type"},"Children",-1),qa={class:"guests-counter"},Ra={class:"guests-number"},Ha={class:"guests-btns-container"};function Ea(e,s,a,o,r,i){return l(),c("section",Oa,[Fa,t("div",La,[Aa,t("div",Pa,[t("span",{class:"material-icons guest-count-icon",onClick:s[0]||(s[0]=n=>i.changeCount("adults",-1))}," remove "),t("span",Ga,g(r.guestSelected.adults),1),t("span",{class:"material-icons guest-count-icon",onClick:s[1]||(s[1]=n=>i.changeCount("adults",1))}," add ")])]),t("div",Ba,[Na,t("div",qa,[t("span",{class:"material-icons guest-count-icon",onClick:s[2]||(s[2]=n=>i.changeCount("children",-1))}," remove "),t("span",Ra,g(r.guestSelected.children),1),t("span",{class:"material-icons guest-count-icon",onClick:s[3]||(s[3]=n=>i.changeCount("children",1))}," add ")])]),t("div",Ha,[t("div",{class:"guest-modal-btn",onClick:s[4]||(s[4]=(...n)=>i.onSelectGuests&&i.onSelectGuests(...n))},"OK")])])}var Va=_(Ia,[["render",Ea]]),sa="/assets/search.c73f10dd.svg";const Ja={name:"main-search",props:{savedLocation:{type:String},savedDates:{type:Object},savedGuests:{type:Object}},data(){return{headerObserver:null,stickyNav:!1,isSelectingGuests:!1,location:"",dates:null,guests:{adults:0,children:0},isSearchOpen:!1}},components:{selectGuestsModal:Va},mounted(){window.addEventListener("click",this.clickCheck)},created(){this.location=this.savedLocation,this.dates=this.savedDates,this.guests=this.savedGuests},methods:{formatedDate(e){if(!this.dates)return"Add dates";const s=new Date(this.dates[e]);return`${s.getDate()<10?"0"+s.getDate():s.getDate()}/${s.getMonth()<9?"0"+(s.getMonth()+1):s.getMonth()+1}/${s.getFullYear().toString().substring(2)}`},closeGuestsModal(){this.isSelectingGuests=!1},onSelectGuests(e){this.guests=e},onSearch(){if(!this.location&&!this.dates&&this.guests.adults===0)this.isSearchOpen=!0,this.$refs["location-input"].focus();else{let e="/stay";const s=this.location,a=this.guests.adults+this.guests.children;this.$store.commit({type:"setGuestsFilter",guests:a}),s&&(e+=`?destination=${s}`),this.$store.commit({type:"setCityFilter",city:s}),this.$router.push(`${e}`),this.isSearchOpen=!1}},clickCheck(e){const s=e.target.className,a=e.target.localName;s==="search-btn"||s==="input"||s==="label"||s==="date-picker-container"||s==="guests-input"||s===""||a==="input"||(this.isSearchOpen=!1)}},computed:{getMainSearchText(){return this.$route.query.destination?this.$route.query.destination:"Where are you going?"},getGuestsNumber(){const e=this.guests.adults+this.guests.children;return e?e===1?"1 guest":`${e} guests`:"Add guests"},toggleSearchBtnClass(){return{"opened-search-icon":this.isSearchOpen,"search-icon":!this.isSearchOpen}}},watch:{dates(){this.$emit("mainSearchClosed",this.location,this.dates)},guests(){this.$emit("mainSearchClosed",this.location,this.dates,this.guests)}},unmounted(){this.$emit("mainSearchClosed",this.location,this.dates,this.guests),window.removeEventListener("click",this.clickCheck)}},Ya={class:"main-search-section"},Wa={class:"header-input location-input-top flex flex-column"},Ka=t("label",{for:"location-input",class:"label location-input"},"Location",-1),za=["placeholder"],Qa=t("span",{class:"search-space"},null,-1),Za={class:"date-picker-container header-input flex"},Xa=t("div",{class:"label check-in-label"},"Check in",-1),ei={class:"input add-dates"},si=t("span",{class:"search-space"},null,-1),ti={class:"header-input date-input check-out-top flex flex-column"},ai=t("div",{class:"label check-out-label"},"Check out",-1),ii={class:"block date-picker"},ri=t("span",{class:"search-space"},null,-1),oi={class:"header-input guestsInput flex"},ni={class:"guests-input-container flex flex-column"},li=t("label",{for:"guestsInput",class:"label"},"Guests",-1),gi=t("img",{src:sa,class:"search-btn",alt:"search icon"},null,-1),ci=t("h3",null,"Search",-1),di=[gi,ci];function pi(e,s,a,o,r,i){const n=u("el-date-picker"),d=u("select-guests-modal");return l(),c("section",Ya,[t("form",{onSubmit:s[5]||(s[5]=F(()=>{},["prevent"])),class:"main-search-container flex align-center btn"},[t("div",Wa,[Ka,x(t("input",{class:"input",ref:"location-input",type:"text","onUpdate:modelValue":s[0]||(s[0]=m=>r.location=m),id:"location-input",name:"location-input",placeholder:i.getMainSearchText,autocomplete:"off",spellcheck:"false"},null,8,za),[[Y,r.location]])]),Qa,t("div",Za,[t("div",{onClick:s[1]||(s[1]=m=>e.$refs.focus()),class:"date-input check-in-top flex flex-column"},[Xa,t("div",ei,g(i.formatedDate(0)),1)]),si,t("div",ti,[ai,t("div",{class:"input add-dates",contenteditable:"true",ref:"div"},g(i.formatedDate(1)),513)]),t("div",ii,[h(n,{modelValue:r.dates,"onUpdate:modelValue":s[2]||(s[2]=m=>r.dates=m),type:"daterange","range-separator":"|","start-placeholder":"Add dates","end-placeholder":"Add dates",clearable:!0,"value-format":"x"},null,8,["modelValue"])])]),ri,t("div",oi,[t("div",ni,[li,t("div",{class:"input guests-input",onClick:s[3]||(s[3]=m=>r.isSelectingGuests=!r.isSelectingGuests),placeholder:"Add guests"},g(i.getGuestsNumber),1)]),r.isSelectingGuests?(l(),v(d,{key:0,guests:r.guests,onCloseGuestsModal:i.closeGuestsModal,onOnSelectGuests:i.onSelectGuests},null,8,["guests","onCloseGuestsModal","onOnSelectGuests"])):p("",!0),t("button",{onClick:s[4]||(s[4]=F((...m)=>i.onSearch&&i.onSearch(...m),["prevent"])),class:y(["search-icon",i.toggleSearchBtnClass])},di,2)])],32)])}var ui=_(Ja,[["render",pi]]);const _i={name:"header-user-menu",data(){return{user:null}},methods:{logout(){this.$emit("logout")},signUp(){this.$emit("openSignUp")},goToAboutPage(){this.$router.push("/about")},goToMyTrips(){this.$emit("goToMyTrips")},goToDashBoardPage(){this.$emit("goToDashboard")},goToExplorePage(){this.$emit("goToExplore")}},computed:{isLoggedIn(){return!!this.$store.getters.getLoggedInUser},isHosting(){const e=this.$store.getters.getOrders;return e?!!e.length:!1}}},mi={class:"header-user-menu"},hi=t("hr",null,null,-1),yi={key:5},vi=t("p",null,"Help",-1);function fi(e,s,a,o,r,i){return l(),c("section",mi,[i.isLoggedIn?p("",!0):(l(),c("p",{key:0,class:"sign-up-option",onClick:s[0]||(s[0]=(...n)=>i.signUp&&i.signUp(...n))},"Sign up")),i.isLoggedIn?p("",!0):(l(),c("p",{key:1,onClick:s[1]||(s[1]=(...n)=>i.signUp&&i.signUp(...n))},"Log in")),i.isLoggedIn?(l(),c("p",{key:2,onClick:s[2]||(s[2]=(...n)=>i.logout&&i.logout(...n))},"Log out")):p("",!0),hi,t("p",{onClick:s[3]||(s[3]=(...n)=>i.goToExplorePage&&i.goToExplorePage(...n)),class:"user-menu-explore"},"Explore"),i.isLoggedIn?(l(),c("p",{key:3,onClick:s[4]||(s[4]=(...n)=>i.goToMyTrips&&i.goToMyTrips(...n))},"My Trips")):p("",!0),i.isLoggedIn&&i.isHosting?(l(),c("p",{key:4,onClick:s[5]||(s[5]=(...n)=>i.goToDashBoardPage&&i.goToDashBoardPage(...n))},"Dashboard")):p("",!0),i.isHosting?p("",!0):(l(),c("p",yi,"Host your home")),vi,t("p",{onClick:s[6]||(s[6]=(...n)=>i.goToAboutPage&&i.goToAboutPage(...n))},"About")])}var ji=_(_i,[["render",fi]]);const bi={name:"header-user-menu",data(){return{username:"",password:"",isUsernameAlert:!1,isInputAlert:!1,isInvalidAlert:!1}},methods:{async submitSignUp(){if(!this.password||!this.username){this.isInputAlert=!0,this.isUsernameAlert=!1,this.isInvalidAlert=!1;return}const e={username:this.username,password:this.password};try{await this.$store.dispatch({type:"login",user:e}),this.cleanData(),this.$emit("closeSignUp")}catch(s){throw console.error("Error while trying to log in:",s),this.isInputAlert=!1,this.isUsernameAlert=!1,this.isInvalidAlert=!0,this.cleanData(),s}},closeSignUp(){this.cleanData(),this.$emit("closeSignUp")},cleanData(){this.isInputAlert=!1,this.isUsernameAlert=!1,this.isInvalidAlert=!1,this.username="",this.password=""}}},Si=t("p",{class:"sign-up-title"},"Log in or sign up",-1),$i=t("h1",{class:"sign-up-welcome"},"Welcome to RestInn",-1),wi={key:0,class:"input-alert"},ki={key:1,class:"input-alert"},Ci={key:2,class:"input-alert"},Mi={key:3,class:"no-alert"},xi={class:"sign-up-inputs-container"};function Ti(e,s,a,o,r,i){return l(),c("section",{class:"sign-up-modal",onKeyup:s[4]||(s[4]=va((...n)=>i.submitSignUp&&i.submitSignUp(...n),["enter"]))},[t("span",{class:"material-icons close-sign-up",onClick:s[0]||(s[0]=(...n)=>i.closeSignUp&&i.closeSignUp(...n))}," close "),Si,$i,r.isInputAlert?(l(),c("p",wi," Please enter username and password ")):p("",!0),r.isUsernameAlert?(l(),c("p",ki," Please enter a valid username address ")):p("",!0),r.isInvalidAlert?(l(),c("p",Ci," Invalid username or password ")):p("",!0),!r.isInputAlert&&!r.isUsernameAlert&&!r.isInvalidAlert?(l(),c("p",Mi," . ")):p("",!0),t("div",xi,[x(t("input",{ref:"username",class:"sign-up-input",type:"text","onUpdate:modelValue":s[1]||(s[1]=n=>r.username=n),placeholder:"username"},null,512),[[Y,r.username]]),x(t("input",{class:"sign-up-input",type:"password","onUpdate:modelValue":s[2]||(s[2]=n=>r.password=n),placeholder:"Password"},null,512),[[Y,r.password]])]),t("div",{class:"sign-up-continue",onClick:s[3]||(s[3]=(...n)=>i.submitSignUp&&i.submitSignUp(...n))},"Continue")],32)}var ta=_(bi,[["render",Ti]]),Ui="/assets/menu_black_24dp.c4cfbab0.svg",Di="/assets/user-avatar.16ee6c53.svg";const Ii={name:"app-header",props:{headerStatus:{type:String,default:"top"}},data(){return{isShowingHamburger:!1,isSignUp:!1,scrollLoc:0,scrollStatus:"up",isFullSearch:!0,showMainSearch:!0,headerClass:"",isSearch:!0,layout:"main-layout-homepage"}},created(){document.addEventListener("scroll",this.updateScroll)},methods:{goToMyTrips(){this.isShowingHamburger=!1,this.$router.push("/mytrips")},goToDashboard(){this.isShowingHamburger=!1,this.$router.push("/dashboard")},goToExplore(){this.isShowingHamburger=!1,this.$router.push("/stay")},updateScroll(){window.scrollY<=20?this.scrollStatus="up":this.scrollStatus="down",this.setHeaderClass()},logout(){this.$store.dispatch({type:"logout"}),this.isShowingHamburger=!1,this.$router.push("/")},openSignUp(){this.$store.commit({type:"openSignUpModal"}),this.isShowingHamburger=!1},mainSearchClosed(e,s,a){this.$store.commit({type:"setLocation",location:e}),this.$store.commit({type:"setDates",dates:s}),this.$store.commit({type:"setGuests",guests:a})},toggleShowMainSearch(){this.showMainSearch=!this.showMainSearch},goHome(){this.$router.push("/")},setHeaderClass(){this.$route.path==="/"?(this.layout="main-layout-homepage",this.isSearch=!0,this.scrollStatus==="up"?(this.showMainSearch=!0,this.headerClass="full-search-home"):(this.showMainSearch=!1,this.headerClass="small-search")):this.$route.params.stayId?(this.layout="main-layout",this.isSearch=!0,this.showMainSearch=!1,this.headerClass="small-search"):this.$route.path==="/stay"?(this.layout="main-layout-homepage",this.isSearch=!0,this.showMainSearch=!1,this.headerClass="small-search"):this.$route.path==="/dashboard"?(this.layout="main-layout-homepage",this.isSearch=!1,this.headerClass="on-dashboard",this.showMainSearch=!1):(this.layout="main-layout-homepage",this.isSearch=!1,this.headerClass="small-search")}},computed:{isLoggedIn(){return!!this.$store.getters.getLoggedInUser},homepageClass(){let e="";return this.scrollLoc>20&&(e+="scrolled "),this.$route.path==="/"&&(e+="homepage"),e},getSearchText(){return this.$route.query.destination?this.$route.query.destination:"Start your search"},getDates(){return this.$store.getters.getDates},getGuests(){return this.$store.getters.getGuests},getLocation(){return this.$route.query.destination?this.$route.query.destination:""}},watch:{$route(){this.updateScroll()}},components:{mainSearch:ui,headerUserMenu:ji,signUp:ta}},Oi={class:"main-header-section"},Fi={class:"logo-nav-container flex space-between"},Li=t("i",{class:"fa-brands fa-airbnb"},null,-1),Ai=t("h1",{class:"logo-txt"},"RestInn",-1),Pi=[Li,Ai],Gi=t("div",{class:"search-icon-small"},[t("img",{src:sa,alt:"search Icon"})],-1),Bi={class:"main-header-nav flex align-center"},Ni=L("Explore"),qi=t("a",{class:"be-host-nav"},"Become a host",-1),Ri=t("img",{class:"hamburger-img",src:Ui,alt:"menu-icon"},null,-1),Hi={key:0,class:"hamburger-avatar",src:Di,alt:"user avatar"},Ei={key:1,class:"hamburger-avatar user-avater-image",src:"https://thispersondoesnotexist.com/image",alt:"user avatar"},Vi={class:"main-search-bar flex justify-center align-center"};function Ji(e,s,a,o,r,i){const n=u("router-link"),d=u("header-user-menu"),m=u("main-search");return l(),c("section",Oi,[t("header",{class:y(["main-header-container flex flex-column align-center",{[r.headerClass]:!0,[r.layout]:!0}])},[t("div",Fi,[t("div",{class:"logo flex align-center",onClick:s[0]||(s[0]=(...j)=>i.goHome&&i.goHome(...j))},Pi),x(t("div",{onClick:s[1]||(s[1]=(...j)=>i.toggleShowMainSearch&&i.toggleShowMainSearch(...j)),class:"mini-search inline-flex justify-center align-center space-between"},[t("div",null,g(i.getSearchText),1),Gi],512),[[Qt,!r.showMainSearch&&r.isSearch]]),t("nav",Bi,[h(n,{to:"/stay"},{default:I(()=>[Ni]),_:1}),qi,t("div",{class:"hamburger-user-menu btn flex space-between",onClick:s[2]||(s[2]=j=>r.isShowingHamburger=!0)},[Ri,i.isLoggedIn?(l(),c("img",Ei)):(l(),c("img",Hi))]),h(d,{class:y({showHamburger:r.isShowingHamburger}),onGoToDashboard:i.goToDashboard,onGoToMyTrips:i.goToMyTrips,onOpenSignUp:i.openSignUp,onLogout:i.logout,onGoToExplore:i.goToExplore},null,8,["class","onGoToDashboard","onGoToMyTrips","onOpenSignUp","onLogout","onGoToExplore"])]),r.isShowingHamburger?(l(),c("div",{key:0,class:"outsideUserMenu",onClick:s[3]||(s[3]=j=>r.isShowingHamburger=!1)})):p("",!0)]),x(t("div",Vi,[h(m,{onMainSearchClosed:i.mainSearchClosed,savedLocation:i.getLocation,savedDates:i.getDates,savedGuests:i.getGuests},null,8,["onMainSearchClosed","savedLocation","savedDates","savedGuests"])],512),[[Qt,r.showMainSearch&&r.isSearch]])],2)])}var Yi=_(Ii,[["render",Ji]]);const Wi={name:"app-footer"},Ki={class:"footer flex justify-center aline-center"},zi=t("div",{class:"rights"},[t("p",null,"\xA9 2022 RestInn")],-1),Qi=[zi];function Zi(e,s,a,o,r,i){return l(),c("section",Ki,Qi)}var Zt=_(Wi,[["render",Zi]]);const Xi={name:"app",components:{appHeader:Yi,appFooter:Zt,AppFooter:Zt,signUp:ta},data(){return{headerStatus:"top",scrollY:0}},async created(){const e={price:[1,4e3],type:[],city:"",amenities:[],guests:0};this.$store.dispatch({type:"getUserFromSession"});const s=this.$store.getters.getLoggedInUser;if(await this.$store.dispatch({type:"loadStays",filterBy:e}),s){const a={hostId:s._id};try{await this.$store.dispatch({type:"loadOrders",filterBy:a})}catch(o){console.log("Error while loading orders: ",o)}}},computed:{isSignUp(){const e=this.$store.getters.isSignUpModal;return e&&this.$refs.signup.$refs.username.focus(),e}},methods:{closeSignUp(){this.$store.commit({type:"closeSignUpModal"})}}},er={class:"app-container"},sr={class:"main-app-container flex flex-column app-container"};function tr(e,s,a,o,r,i){const n=u("sign-up"),d=u("app-header"),m=u("router-view"),j=u("app-footer");return l(),c("section",er,[h(n,{class:y({showSignUp:i.isSignUp}),onCloseSignUp:i.closeSignUp,ref:"signup"},null,8,["class","onCloseSignUp"]),i.isSignUp?(l(),c("div",{key:0,class:"outsideUserMenu",onClick:s[0]||(s[0]=(...J)=>i.closeSignUp&&i.closeSignUp(...J))})):p("",!0),t("div",sr,[h(d),h(m,{class:"main-layout-height"}),h(j)])])}var ar=_(Xi,[["render",tr]]),W="/assets/001.56009581.jpeg",K="/assets/002.aba6c90a.jpeg",z="/assets/003.bf107555.jpeg",Q="/assets/004.039dd32e.jpeg",Z="/assets/005.c309e5f6.jpeg",X="/assets/006.257c0112.jpeg",ee="/assets/007.42af7aac.jpeg",se="/assets/008.8f6d2ead.jpeg",te="/assets/009.fdc070ea.jpeg",ae="/assets/010.4fde52d4.jpeg",ie="/assets/011.b763f7c0.jpeg",re="/assets/012.3e4eac6a.jpeg",oe="/assets/013.0a610e0c.jpeg",ne="/assets/014.8293a76a.jpeg",le="/assets/015.741f77ae.jpeg",ge="/assets/016.788b9ce3.jpeg",ce="/assets/017.c386887d.jpeg",de="/assets/018.94a5ebb5.jpeg",pe="/assets/019.8e96c025.jpeg",ue="/assets/020.c365da97.jpeg",_e="/assets/021.75d3ef8f.jpeg",me="/assets/022.ca8c152d.jpeg",he="/assets/023.91d92ad5.jpeg",ye="/assets/024.1b11a4c3.jpeg",ve="/assets/025.85878dc3.jpeg",fe="/assets/026.2441e7a7.jpeg",je="/assets/027.67531186.jpeg",be="/assets/028.e3b6c229.jpeg",Se="/assets/029.61f958f9.jpeg",$e="/assets/030.eccf344d.jpeg",we="/assets/031.e8e70263.jpeg",ke="/assets/032.26553dbf.jpeg",Ce="/assets/033.827159be.jpeg",Me="/assets/034.e211fe64.jpeg",xe="/assets/035.a354b153.jpeg",Te="/assets/036.4c31a8ee.jpeg",Ue="/assets/037.3a21df06.jpeg",De="/assets/038.b9f57513.jpeg",Ie="/assets/039.d9834aac.jpeg",Oe="/assets/040.f17f240d.jpeg",Fe="/assets/041.17aefa50.jpeg",Le="/assets/042.1316ceec.jpeg",Ae="/assets/043.abf0b02a.jpeg",Pe="/assets/044.f314352d.jpeg",Ge="/assets/045.f7eba795.jpeg",Be="/assets/046.22584889.jpeg",Ne="/assets/047.06d66353.jpeg",qe="/assets/048.72f9ff3b.jpeg",Re="/assets/049.03c73890.jpeg",He="/assets/050.a7e3a529.jpeg",Ee="/assets/051.8f7ade7f.jpeg",Ve="/assets/052.6b836ec7.jpeg",Je="/assets/053.28d6cf2e.jpeg",Ye="/assets/054.e770010e.jpeg",We="/assets/055.dd3648e0.jpeg",Ke="/assets/056.75d33de2.jpeg",ze="/assets/057.05d01841.jpeg",Qe="/assets/058.dd93f7d9.jpeg",Ze="/assets/059.7132f238.jpeg",Xe="/assets/060.6cbc3759.jpeg",es="/assets/061.5d90b098.jpeg",ss="/assets/062.3da3d121.jpeg",ts="/assets/063.15db22a3.jpeg",as="/assets/064.7a790972.jpeg",is="/assets/065.f2153245.jpeg",rs="/assets/066.8ebb4e14.jpeg",os="/assets/067.4afb1c56.jpeg",ns="/assets/068.b61f37e3.jpeg",ls="/assets/069.65ad9632.jpeg",gs="/assets/070.822f9f43.jpeg",cs="/assets/071.ec43d03f.jpeg",ds="/assets/072.5ba20ef5.jpeg",ps="/assets/073.41404185.jpeg",us="/assets/074.37848ba0.jpeg",_s="/assets/075.e518f478.jpeg",ms="/assets/076.82301c95.jpeg",hs="/assets/077.06eacf7f.jpeg",ys="/assets/078.22e2c94d.jpeg",vs="/assets/079.52cbb3f7.jpeg",fs="/assets/080.44213bbf.jpeg",js="/assets/081.1e480430.jpeg",bs="/assets/082.4107e8dc.jpeg",Ss="/assets/083.88f36eef.jpeg",$s="/assets/084.d6cb4ebb.jpeg",ws="/assets/085.43eb74d7.jpeg",ks="/assets/086.76b0f28c.jpeg",Cs="/assets/087.f20ac33f.jpeg",Ms="/assets/088.e63dc5b0.jpeg",xs="/assets/089.b3938fed.jpeg",Ts="/assets/090.a288cec8.jpeg",Us="/assets/091.bfe8c696.jpeg",Ds="/assets/092.a8dccdca.jpeg",Is="/assets/093.94e94eef.jpeg",Os="/assets/094.c6c2978a.jpeg",Fs="/assets/095.9d5fd11e.jpeg",Ls="/assets/096.e758c6c6.jpeg",As="/assets/097.2a2d2114.jpeg",Ps="/assets/098.cd04c448.jpeg",Gs="/assets/099.efe7d930.jpeg",Bs="/assets/100.88d126bd.jpeg",Ns="/assets/101.2111e16d.jpeg",qs="/assets/102.892fdbaa.jpeg",Rs="/assets/103.3adf4193.jpeg",Hs="/assets/104.3c0251cc.jpeg",Es="/assets/105.df4c5253.jpeg",Vs="/assets/106.8ab22027.jpeg",Js="/assets/107.0a79e202.jpeg",Ys="/assets/108.2f48ba34.jpeg",Ws="/assets/109.0716c9e6.jpeg",Ks="/assets/110.e06f1955.jpeg",zs="/assets/111.d12c9b1f.jpeg",Qs="/assets/112.d7035de7.jpeg",Zs="/assets/113.4f0e4b81.jpeg",Xs="/assets/114.580202aa.jpeg",et="/assets/115.a156f0a3.jpeg",st="/assets/116.19cb7a53.jpeg",tt="/assets/117.bc48baa3.jpeg",at="/assets/118.fd0d4056.jpeg",it="/assets/119.5bf7fa0f.jpeg",rt="/assets/120.054b2482.jpeg",ot="/assets/121.d365d6fa.jpeg",nt="/assets/122.09277c65.jpeg",lt="/assets/123.a1689260.jpeg",gt="/assets/124.16e98d1a.jpeg",ct="/assets/125.7551a255.jpeg",dt="/assets/126.cf133469.jpeg",pt="/assets/127.7da97c41.jpeg",ut="/assets/128.a1d9aef5.jpeg",_t="/assets/129.7b322acd.jpeg",mt="/assets/130.331b5ecb.jpeg",ht="/assets/131.39b1b425.jpeg",yt="/assets/132.f54aad0e.jpeg",vt="/assets/133.33964f83.jpeg",ft="/assets/134.2bf21739.jpeg",jt="/assets/135.67cf5f1c.jpeg",bt="/assets/136.28cc4430.jpeg",St="/assets/137.e0e00252.jpeg",$t="/assets/138.07811788.jpeg",wt="/assets/139.617fcc6c.jpeg",kt="/assets/140.7da3b280.jpeg",Ct="/assets/141.84d5af48.jpeg",Mt="/assets/142.a72e34b6.jpeg",xt="/assets/143.e672b28f.jpeg",Tt="/assets/144.1e5c762e.jpeg",Ut="/assets/145.45c0988b.jpeg",Dt="/assets/146.44ab1efc.jpeg",It="/assets/147.2f7f2484.jpeg",Ot="/assets/148.f7af6f32.jpeg",Ft="/assets/149.f7009809.jpeg",Lt="/assets/150.e4278011.jpeg",At="/assets/151.34184565.jpeg",Pt="/assets/152.2227af41.jpeg",Gt="/assets/153.89baf4c6.jpeg",Bt="/assets/apartment.fce16713.jpg",A="/assets/Barcelona.3ab4f5ce.jpg",P="/assets/cabin.ec34f670.jpg",Nt="/assets/cabin2.cc6a43f7.jpg",qt="/assets/condominium.e3b1df7c.jpg",Rt="/assets/homepage3.a967e08d.jpg",G="/assets/Hongkong.d6d3fe60.jpg",B="/assets/Istanbul.6e7791b6.jpg",Ht="/assets/lidor.c37f88b3.jpg",Et="/assets/loft.b77149f6.jpg",Vt="/assets/London.94748fea.jpg",N="/assets/Maui.c68c1a4e.jpg",Jt="/assets/Rome.30211508.jpg",q="/assets/Villa.19dda960.jpg",ir="/assets/apartment.fce16713.jpg",rr="/assets/loft.b77149f6.jpg",R="/assets/loading.3a1c7134.gif";const or={name:"home-page",data(){return{}},components:{},created(){},methods:{getImgUrl(e){return new URL({"../assets/images/001.jpeg":W,"../assets/images/002.jpeg":K,"../assets/images/003.jpeg":z,"../assets/images/004.jpeg":Q,"../assets/images/005.jpeg":Z,"../assets/images/006.jpeg":X,"../assets/images/007.jpeg":ee,"../assets/images/008.jpeg":se,"../assets/images/009.jpeg":te,"../assets/images/010.jpeg":ae,"../assets/images/011.jpeg":ie,"../assets/images/012.jpeg":re,"../assets/images/013.jpeg":oe,"../assets/images/014.jpeg":ne,"../assets/images/015.jpeg":le,"../assets/images/016.jpeg":ge,"../assets/images/017.jpeg":ce,"../assets/images/018.jpeg":de,"../assets/images/019.jpeg":pe,"../assets/images/020.jpeg":ue,"../assets/images/021.jpeg":_e,"../assets/images/022.jpeg":me,"../assets/images/023.jpeg":he,"../assets/images/024.jpeg":ye,"../assets/images/025.jpeg":ve,"../assets/images/026.jpeg":fe,"../assets/images/027.jpeg":je,"../assets/images/028.jpeg":be,"../assets/images/029.jpeg":Se,"../assets/images/030.jpeg":$e,"../assets/images/031.jpeg":we,"../assets/images/032.jpeg":ke,"../assets/images/033.jpeg":Ce,"../assets/images/034.jpeg":Me,"../assets/images/035.jpeg":xe,"../assets/images/036.jpeg":Te,"../assets/images/037.jpeg":Ue,"../assets/images/038.jpeg":De,"../assets/images/039.jpeg":Ie,"../assets/images/040.jpeg":Oe,"../assets/images/041.jpeg":Fe,"../assets/images/042.jpeg":Le,"../assets/images/043.jpeg":Ae,"../assets/images/044.jpeg":Pe,"../assets/images/045.jpeg":Ge,"../assets/images/046.jpeg":Be,"../assets/images/047.jpeg":Ne,"../assets/images/048.jpeg":qe,"../assets/images/049.jpeg":Re,"../assets/images/050.jpeg":He,"../assets/images/051.jpeg":Ee,"../assets/images/052.jpeg":Ve,"../assets/images/053.jpeg":Je,"../assets/images/054.jpeg":Ye,"../assets/images/055.jpeg":We,"../assets/images/056.jpeg":Ke,"../assets/images/057.jpeg":ze,"../assets/images/058.jpeg":Qe,"../assets/images/059.jpeg":Ze,"../assets/images/060.jpeg":Xe,"../assets/images/061.jpeg":es,"../assets/images/062.jpeg":ss,"../assets/images/063.jpeg":ts,"../assets/images/064.jpeg":as,"../assets/images/065.jpeg":is,"../assets/images/066.jpeg":rs,"../assets/images/067.jpeg":os,"../assets/images/068.jpeg":ns,"../assets/images/069.jpeg":ls,"../assets/images/070.jpeg":gs,"../assets/images/071.jpeg":cs,"../assets/images/072.jpeg":ds,"../assets/images/073.jpeg":ps,"../assets/images/074.jpeg":us,"../assets/images/075.jpeg":_s,"../assets/images/076.jpeg":ms,"../assets/images/077.jpeg":hs,"../assets/images/078.jpeg":ys,"../assets/images/079.jpeg":vs,"../assets/images/080.jpeg":fs,"../assets/images/081.jpeg":js,"../assets/images/082.jpeg":bs,"../assets/images/083.jpeg":Ss,"../assets/images/084.jpeg":$s,"../assets/images/085.jpeg":ws,"../assets/images/086.jpeg":ks,"../assets/images/087.jpeg":Cs,"../assets/images/088.jpeg":Ms,"../assets/images/089.jpeg":xs,"../assets/images/090.jpeg":Ts,"../assets/images/091.jpeg":Us,"../assets/images/092.jpeg":Ds,"../assets/images/093.jpeg":Is,"../assets/images/094.jpeg":Os,"../assets/images/095.jpeg":Fs,"../assets/images/096.jpeg":Ls,"../assets/images/097.jpeg":As,"../assets/images/098.jpeg":Ps,"../assets/images/099.jpeg":Gs,"../assets/images/100.jpeg":Bs,"../assets/images/101.jpeg":Ns,"../assets/images/102.jpeg":qs,"../assets/images/103.jpeg":Rs,"../assets/images/104.jpeg":Hs,"../assets/images/105.jpeg":Es,"../assets/images/106.jpeg":Vs,"../assets/images/107.jpeg":Js,"../assets/images/108.jpeg":Ys,"../assets/images/109.jpeg":Ws,"../assets/images/110.jpeg":Ks,"../assets/images/111.jpeg":zs,"../assets/images/112.jpeg":Qs,"../assets/images/113.jpeg":Zs,"../assets/images/114.jpeg":Xs,"../assets/images/115.jpeg":et,"../assets/images/116.jpeg":st,"../assets/images/117.jpeg":tt,"../assets/images/118.jpeg":at,"../assets/images/119.jpeg":it,"../assets/images/120.jpeg":rt,"../assets/images/121.jpeg":ot,"../assets/images/122.jpeg":nt,"../assets/images/123.jpeg":lt,"../assets/images/124.jpeg":gt,"../assets/images/125.jpeg":ct,"../assets/images/126.jpeg":dt,"../assets/images/127.jpeg":pt,"../assets/images/128.jpeg":ut,"../assets/images/129.jpeg":_t,"../assets/images/130.jpeg":mt,"../assets/images/131.jpeg":ht,"../assets/images/132.jpeg":yt,"../assets/images/133.jpeg":vt,"../assets/images/134.jpeg":ft,"../assets/images/135.jpeg":jt,"../assets/images/136.jpeg":bt,"../assets/images/137.jpeg":St,"../assets/images/138.jpeg":$t,"../assets/images/139.jpeg":wt,"../assets/images/140.jpeg":kt,"../assets/images/141.jpeg":Ct,"../assets/images/142.jpeg":Mt,"../assets/images/143.jpeg":xt,"../assets/images/144.jpeg":Tt,"../assets/images/145.jpeg":Ut,"../assets/images/146.jpeg":Dt,"../assets/images/147.jpeg":It,"../assets/images/148.jpeg":Ot,"../assets/images/149.jpeg":Ft,"../assets/images/150.jpeg":Lt,"../assets/images/151.jpeg":At,"../assets/images/152.jpeg":Pt,"../assets/images/153.jpeg":Gt,"../assets/images/apartment.jpg":Bt,"../assets/images/Barcelona.jpg":A,"../assets/images/cabin.jpg":P,"../assets/images/cabin2.jpg":Nt,"../assets/images/condominium.jpg":qt,"../assets/images/homepage3.jpg":Rt,"../assets/images/Hongkong.jpg":G,"../assets/images/Istanbul.jpg":B,"../assets/images/lidor.jpg":Ht,"../assets/images/loft.jpg":Et,"../assets/images/London.jpg":Vt,"../assets/images/Maui.jpg":N,"../assets/images/Rome.jpg":Jt,"../assets/images/Villa.jpg":q}[`../assets/images/${e}`],self.location)},onCloseModal(){let e=document.getElementById("id01");window.onclick=function(s){s.target==e&&(e.style.display="none")}},getStayRate(e){if(!!e)return(e.reviewScores.rating/20).toFixed(2)},getReviewCount(e){return e.reviews.length+" reviews"}},computed:{isLoading(){return this.$store.getters.isLoading},topRatedStays(){return this.$store.getters.getTopRatedStays},stays(){return this.$store.getters.getStays}},unmounted(){}},nr={key:0,class:"home-page-container"},lr=t("div",{class:"main-hero-img"},[t("div",{class:"tag-line-container"},[t("h1",{class:"tag tag-line1"},"Choose your Inn."),t("h1",{class:"tag tag-line2"},"We'll do the rest.")])],-1),gr={class:"main-layout-homepage"},cr=T('<h1 class="destinations-header">Popular destinations</h1><div class="destinations-container"><a href="#/stay?destination=Barcelona"><img src="'+A+'" alt="Barcelona"><h3>Barcelona</h3></a><a href="#/stay?destination=Hong%20Kong"><img src="'+G+'" alt="Hongkong"><h3>Hong Kong</h3></a><a href="#/stay?destination=Maui"><img src="'+N+'" alt="Maui"><h3>Maui</h3></a><a href="#/stay?destination=Istanbul"><img src="'+B+'" alt="Istanbul"><h3>Istanbul</h3></a></div><h1 class="destinations-header">Select by type</h1><div class="destinations-container"><a href="#/stay?type=Cabin"><img src="'+P+'" alt="Cabin"><h3>Cabin</h3></a><a href="#/stay?type=Apartment"><img src="'+ir+'" alt="Apartment"><h3>Apartment</h3></a><a href="#/stay?type=Loft"><img src="'+rr+'" alt="Loft"><h3>Loft</h3></a><a href="#/stay?type=Villa"><img src="'+q+'" alt="Villa"><h3>Villa</h3></a></div><h1 class="destinations-header">Top rated stays</h1>',5),dr={class:"loading-img-container"},pr={key:0,class:"loading-img",src:R,alt:"Loading.."},ur={key:0,class:"destinations-container"},_r=["href"],mr=["src"],hr={class:"card-preview-line"},yr=t("span",{class:"material-icons-outlined star"},"star",-1),vr={class:"card-rate"},fr={class:"reviews-count"};function jr(e,s,a,o,r,i){return i.stays?(l(),c("section",nr,[lr,t("div",gr,[cr,t("div",dr,[i.isLoading?(l(),c("img",pr)):p("",!0)]),i.topRatedStays&&!i.isLoading?(l(),c("div",ur,[(l(!0),c($,null,w(i.topRatedStays,n=>(l(),c("a",{href:"/#/stay/"+n._id,key:n._id},[t("img",{src:i.getImgUrl(n.imgUrls[0]),alt:"StayImage"},null,8,mr),t("p",hr,[yr,t("span",vr,g(i.getStayRate(n)),1),t("span",fr,"("+g(i.getReviewCount(n))+")",1)]),t("h4",null,g(n.name),1)],8,_r))),128))])):p("",!0)])])):p("",!0)}var br=_(or,[["render",jr]]);const Sr={},$r={class:"about-page main-layout-height flex direction-column"},wr={class:"lidor-container"},kr=t("i",{class:"fa-brands fa-airbnb logo-pink-i"},null,-1),Cr=t("h1",{class:"logo-restiin"},"RestInn",-1),Mr=[kr,Cr],xr=t("div",{class:"tag-line-about"},null,-1);function Tr(e,s,a,o,r,i){return l(),c("section",$r,[t("div",wr,[t("div",{class:"logo-pink flex align-center",onClick:s[0]||(s[0]=(...n)=>e.goHome&&e.goHome(...n))},Mr),xr])])}var Ur=_(Sr,[["render",Tr]]);const Dr={name:"trip-preview",emits:["updateStatus"],props:{trip:{type:Object,required:!0}},data(){return{hostName:""}},async created(){const e=await this.$store.dispatch({type:"getUserById",userId:this.trip.hostId});this.hostName=e.fullname},methods:{goToStay(){this.$router.push(`/stay/${this.trip.stay._id}`)},getFormatedPrice(e){var s=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0});return s.format(e)},updateStatus(e){const s=this.trip._id;this.$emit("updateStatus",{status:e,tripId:s})},timeConversion(e){let s=new Date(e).getDate();s=s<10?"0"+s:s;let a=new Date(e).getMonth()+1;a=a<10?"0"+a:a;let o=new Date(e).getFullYear().toString().substring(2)+"";return`${s}/${a}/${o}`}},computed:{isUnancelable(){const e=this.trip.startDate,s=Date.now(),a=1e3*60*60*72;return e-s<a||this.trip.status==="canceled"||this.trip.status==="rejected"},formattedText(){return this.trip.stay.name.length>15?this.trip.stay.name.slice(0,15)+"...":this.trip.stay.name}}},Ir={key:0,class:"dashboard-order-cont"},Or={class:"date"},Fr={key:0,class:"host"},Lr={class:"trip-dates"},Ar={class:"nights"},Pr={class:"guests"},Gr={class:"price"},Br={class:"total"},Nr={class:"trip-actions actions-container"},qr=["disabled"];function Rr(e,s,a,o,r,i){return a.trip?(l(),c("section",Ir,[t("div",Or,g(i.timeConversion(a.trip.createdAt)),1),r.hostName?(l(),c("div",Fr,g(r.hostName),1)):p("",!0),t("div",{onClick:s[0]||(s[0]=(...n)=>i.goToStay&&i.goToStay(...n)),class:"stay stay-link"},g(i.formattedText),1),t("div",Lr,g(i.timeConversion(a.trip.startDate))+" - "+g(i.timeConversion(a.trip.endDate)),1),t("div",Ar,g(Math.round(a.trip.totalPrice/a.trip.stay.price)),1),t("div",Pr,g(a.trip.guests.adults+a.trip.guests.children),1),t("div",Gr,g(i.getFormatedPrice(a.trip.stay.price)),1),t("div",Br,g(i.getFormatedPrice(a.trip.totalPrice)),1),t("div",{class:y(["status",a.trip.status])},g(a.trip.status),3),t("div",Nr,[t("button",{disabled:i.isUnancelable,onClick:s[1]||(s[1]=n=>i.updateStatus("canceled"))}," Cancel ",8,qr)])])):p("",!0)}var Hr=_(Dr,[["render",Rr]]);const Er={name:"trip-list",emits:["updateStatus"],props:{trips:{type:Array,required:!0}},methods:{updateStatus(e){this.$emit("updateStatus",e)}},components:{tripPreview:Hr}},Vr={key:0,class:"dash-board main-layout-homepage"},Jr=T('<div class="dashboard-order-cont"><div class="dashboard-title date">Date</div><div class="dashboard-title host">Host</div><div class="dashboard-title stay">Stay</div><div class="dashboard-title trip-dates">Dates</div><div class="dashboard-title nights">Nights</div><div class="dashboard-title guests">Guests</div><div class="dashboard-title price"><span>Price</span><span> / Night</span></div><div class="dashboard-title total">Total</div><div class="dashboard-title status">Status</div><div class="dashboard-title trip-actions">Actions</div></div>',1);function Yr(e,s,a,o,r,i){const n=u("trip-preview");return a.trips?(l(),c("section",Vr,[Jr,(l(!0),c($,null,w(a.trips.slice().reverse(),d=>(l(),v(n,{key:d._id,trip:d,onUpdateStatus:i.updateStatus},null,8,["trip","onUpdateStatus"]))),128))])):p("",!0)}var Wr=_(Er,[["render",Yr]]);const Kr={props:{message:{type:Object,required:!0}},data(){return{}},methods:{goToPage(){this.message.from==="host"?this.$router.push("/my-trips"):this.$router.push("/dashboard")}}},zr={class:"user-msg"};function Qr(e,s,a,o,r,i){return l(),c("section",zr,[t("h1",{onClick:s[0]||(s[0]=(...n)=>i.goToPage&&i.goToPage(...n))},g(a.message.text),1)])}var aa=_(Kr,[["render",Qr]]);const Zr={name:"my-trips",data(){return{isShowingMessage:!1,message:{},loggedInUser:{}}},async created(){this.loggedInUser=this.$store.getters.getLoggedInUser,socketService.emit("enter my-trips",this.loggedInUser._id),socketService.on("status updated",this.statusUpdated),this.$store.commit({type:"clearOrdersFromStore"});const e={userId:this.loggedInUser._id};try{console.log("loadind orders from server to store.."),await this.$store.dispatch({type:"loadOrders",filterBy:e}),console.log("Got orders!")}catch(s){console.log("Error while loading trips: ",s)}},computed:{isLoading(){return this.$store.getters.isLoading},getTrips(){if(console.log("Getting orders from store"),!!this.$store.getters.getOrders)return JSON.parse(JSON.stringify(this.$store.getters.getOrders))}},methods:{showMessage(e){this.message=e,this.isShowingMessage=!0,setTimeout(()=>{this.isShowingMessage=!1},4500)},updateStatus({status:e,tripId:s}){const o=this.getTrips.find(i=>i._id===s),r=b({},o);r.status=e,this.$store.dispatch({type:"updateOrder",order:r})},async statusUpdated(e){var a;this.loggedInUser=this.$store.getters.getLoggedInUser;const s={userId:(a=this.loggedInUser)==null?void 0:a._id};try{await this.$store.dispatch({type:"loadOrdersWithSocket",filterBy:s});const o={text:`Your order has been ${e.status}`,from:"host"};this.showMessage(o)}catch(o){console.log("Error while loading orders: ",o)}}},components:{tripList:Wr,userMessage:aa}},Xr={key:0,class:"dashboard"},eo=t("h1",{class:"main-layout-homepage title"},"My Trips",-1),so={class:"loading-img-container"},to={key:0,class:"loading-img",src:R,alt:"Loading.."};function ao(e,s,a,o,r,i){const n=u("user-message"),d=u("trip-list");return r.loggedInUser?(l(),c("section",Xr,[h(n,{class:y({showUserMessage:r.isShowingMessage}),message:r.message},null,8,["class","message"]),eo,t("div",so,[i.isLoading?(l(),c("img",to)):p("",!0)]),i.isLoading?p("",!0):(l(),v(d,{key:0,trips:i.getTrips,onUpdateStatus:i.updateStatus},null,8,["trips","onUpdateStatus"]))])):p("",!0)}var io=_(Zr,[["render",ao]]),H="/assets/star-rating.d999979e.svg";const ro={name:"footer-hero-modal",props:{stay:{type:Object,required:!0}},computed:{fixedScore(){return(this.stay.reviewScores.rating/20).toFixed(2)}}},oo={class:"footer-hero-modal"},no={class:"footer-hero-modal-container"},lo={class:"footer-hero-modal-price-rating"},go={class:"footer-hero-modal-price"},co=t("span",null,"\xA0 / night",-1),po={class:"footer-hero-modal-rating"},uo=t("img",{src:H},null,-1),_o=t("div",{class:"footer-check-availability-container"},[t("span",{class:"check-availability-span"},"Check availability")],-1);function mo(e,s,a,o,r,i){return l(),c("section",oo,[t("div",no,[t("div",lo,[t("div",go,[t("span",null,g(e.$filters.currencyUSD(a.stay.price)),1),co]),t("div",po,[uo,t("span",null,g(i.fixedScore),1)])])]),_o])}var ho=_(ro,[["render",mo]]);const yo={name:"images-container",props:{stayImgs:{type:Array,required:!0}},methods:{getImgUrl(e){return new URL({"../../assets/images/001.jpeg":W,"../../assets/images/002.jpeg":K,"../../assets/images/003.jpeg":z,"../../assets/images/004.jpeg":Q,"../../assets/images/005.jpeg":Z,"../../assets/images/006.jpeg":X,"../../assets/images/007.jpeg":ee,"../../assets/images/008.jpeg":se,"../../assets/images/009.jpeg":te,"../../assets/images/010.jpeg":ae,"../../assets/images/011.jpeg":ie,"../../assets/images/012.jpeg":re,"../../assets/images/013.jpeg":oe,"../../assets/images/014.jpeg":ne,"../../assets/images/015.jpeg":le,"../../assets/images/016.jpeg":ge,"../../assets/images/017.jpeg":ce,"../../assets/images/018.jpeg":de,"../../assets/images/019.jpeg":pe,"../../assets/images/020.jpeg":ue,"../../assets/images/021.jpeg":_e,"../../assets/images/022.jpeg":me,"../../assets/images/023.jpeg":he,"../../assets/images/024.jpeg":ye,"../../assets/images/025.jpeg":ve,"../../assets/images/026.jpeg":fe,"../../assets/images/027.jpeg":je,"../../assets/images/028.jpeg":be,"../../assets/images/029.jpeg":Se,"../../assets/images/030.jpeg":$e,"../../assets/images/031.jpeg":we,"../../assets/images/032.jpeg":ke,"../../assets/images/033.jpeg":Ce,"../../assets/images/034.jpeg":Me,"../../assets/images/035.jpeg":xe,"../../assets/images/036.jpeg":Te,"../../assets/images/037.jpeg":Ue,"../../assets/images/038.jpeg":De,"../../assets/images/039.jpeg":Ie,"../../assets/images/040.jpeg":Oe,"../../assets/images/041.jpeg":Fe,"../../assets/images/042.jpeg":Le,"../../assets/images/043.jpeg":Ae,"../../assets/images/044.jpeg":Pe,"../../assets/images/045.jpeg":Ge,"../../assets/images/046.jpeg":Be,"../../assets/images/047.jpeg":Ne,"../../assets/images/048.jpeg":qe,"../../assets/images/049.jpeg":Re,"../../assets/images/050.jpeg":He,"../../assets/images/051.jpeg":Ee,"../../assets/images/052.jpeg":Ve,"../../assets/images/053.jpeg":Je,"../../assets/images/054.jpeg":Ye,"../../assets/images/055.jpeg":We,"../../assets/images/056.jpeg":Ke,"../../assets/images/057.jpeg":ze,"../../assets/images/058.jpeg":Qe,"../../assets/images/059.jpeg":Ze,"../../assets/images/060.jpeg":Xe,"../../assets/images/061.jpeg":es,"../../assets/images/062.jpeg":ss,"../../assets/images/063.jpeg":ts,"../../assets/images/064.jpeg":as,"../../assets/images/065.jpeg":is,"../../assets/images/066.jpeg":rs,"../../assets/images/067.jpeg":os,"../../assets/images/068.jpeg":ns,"../../assets/images/069.jpeg":ls,"../../assets/images/070.jpeg":gs,"../../assets/images/071.jpeg":cs,"../../assets/images/072.jpeg":ds,"../../assets/images/073.jpeg":ps,"../../assets/images/074.jpeg":us,"../../assets/images/075.jpeg":_s,"../../assets/images/076.jpeg":ms,"../../assets/images/077.jpeg":hs,"../../assets/images/078.jpeg":ys,"../../assets/images/079.jpeg":vs,"../../assets/images/080.jpeg":fs,"../../assets/images/081.jpeg":js,"../../assets/images/082.jpeg":bs,"../../assets/images/083.jpeg":Ss,"../../assets/images/084.jpeg":$s,"../../assets/images/085.jpeg":ws,"../../assets/images/086.jpeg":ks,"../../assets/images/087.jpeg":Cs,"../../assets/images/088.jpeg":Ms,"../../assets/images/089.jpeg":xs,"../../assets/images/090.jpeg":Ts,"../../assets/images/091.jpeg":Us,"../../assets/images/092.jpeg":Ds,"../../assets/images/093.jpeg":Is,"../../assets/images/094.jpeg":Os,"../../assets/images/095.jpeg":Fs,"../../assets/images/096.jpeg":Ls,"../../assets/images/097.jpeg":As,"../../assets/images/098.jpeg":Ps,"../../assets/images/099.jpeg":Gs,"../../assets/images/100.jpeg":Bs,"../../assets/images/101.jpeg":Ns,"../../assets/images/102.jpeg":qs,"../../assets/images/103.jpeg":Rs,"../../assets/images/104.jpeg":Hs,"../../assets/images/105.jpeg":Es,"../../assets/images/106.jpeg":Vs,"../../assets/images/107.jpeg":Js,"../../assets/images/108.jpeg":Ys,"../../assets/images/109.jpeg":Ws,"../../assets/images/110.jpeg":Ks,"../../assets/images/111.jpeg":zs,"../../assets/images/112.jpeg":Qs,"../../assets/images/113.jpeg":Zs,"../../assets/images/114.jpeg":Xs,"../../assets/images/115.jpeg":et,"../../assets/images/116.jpeg":st,"../../assets/images/117.jpeg":tt,"../../assets/images/118.jpeg":at,"../../assets/images/119.jpeg":it,"../../assets/images/120.jpeg":rt,"../../assets/images/121.jpeg":ot,"../../assets/images/122.jpeg":nt,"../../assets/images/123.jpeg":lt,"../../assets/images/124.jpeg":gt,"../../assets/images/125.jpeg":ct,"../../assets/images/126.jpeg":dt,"../../assets/images/127.jpeg":pt,"../../assets/images/128.jpeg":ut,"../../assets/images/129.jpeg":_t,"../../assets/images/130.jpeg":mt,"../../assets/images/131.jpeg":ht,"../../assets/images/132.jpeg":yt,"../../assets/images/133.jpeg":vt,"../../assets/images/134.jpeg":ft,"../../assets/images/135.jpeg":jt,"../../assets/images/136.jpeg":bt,"../../assets/images/137.jpeg":St,"../../assets/images/138.jpeg":$t,"../../assets/images/139.jpeg":wt,"../../assets/images/140.jpeg":kt,"../../assets/images/141.jpeg":Ct,"../../assets/images/142.jpeg":Mt,"../../assets/images/143.jpeg":xt,"../../assets/images/144.jpeg":Tt,"../../assets/images/145.jpeg":Ut,"../../assets/images/146.jpeg":Dt,"../../assets/images/147.jpeg":It,"../../assets/images/148.jpeg":Ot,"../../assets/images/149.jpeg":Ft,"../../assets/images/150.jpeg":Lt,"../../assets/images/151.jpeg":At,"../../assets/images/152.jpeg":Pt,"../../assets/images/153.jpeg":Gt,"../../assets/images/apartment.jpg":Bt,"../../assets/images/Barcelona.jpg":A,"../../assets/images/cabin.jpg":P,"../../assets/images/cabin2.jpg":Nt,"../../assets/images/condominium.jpg":qt,"../../assets/images/homepage3.jpg":Rt,"../../assets/images/Hongkong.jpg":G,"../../assets/images/Istanbul.jpg":B,"../../assets/images/lidor.jpg":Ht,"../../assets/images/loft.jpg":Et,"../../assets/images/London.jpg":Vt,"../../assets/images/Maui.jpg":N,"../../assets/images/Rome.jpg":Jt,"../../assets/images/Villa.jpg":q}[`../../assets/images/${e}`],self.location)}}},vo={key:0,class:"imgs-container-grid"},fo=["src"],jo=["src"],bo=["src"],So=["src"],$o=["src"];function wo(e,s,a,o,r,i){return a.stayImgs?(l(),c("section",vo,[t("img",{class:"grid-item1",src:i.getImgUrl(a.stayImgs[0])},null,8,fo),t("img",{class:"grid-item2",src:i.getImgUrl(a.stayImgs[1])},null,8,jo),t("img",{class:"grid-item3",src:i.getImgUrl(a.stayImgs[2])},null,8,bo),t("img",{class:"grid-item4",src:i.getImgUrl(a.stayImgs[3])},null,8,So),t("img",{class:"grid-item5",src:i.getImgUrl(a.stayImgs[4])},null,8,$o)])):p("",!0)}var ko=_(yo,[["render",wo]]),Co="/assets/share.3422753b.svg",Mo="/assets/like.74851f54.svg";const xo={name:"secondary-header",props:{stay:{type:Object,required:!0}},methods:{goToReviews(){this.$emit("goToReviews")},goToMap(){this.$emit("goToMap")}}},To={class:"secondary-header"},Uo={class:"stay-name"},Do={class:"below-stay-name"},Io={class:"rating-reviews-location"},Oo=t("img",{class:"star-rating-svg",src:H},null,-1),Fo=t("span",null,"\xB7",-1),Lo=t("span",{class:"dot-above-pictures"},"\xB7",-1),Ao=T('<div class="share-save"><div class="share"><img class="share-svg" src="'+Co+'"><span>Share</span></div><div class="save-like"><img class="like-svg" src="'+Mo+'"><span>Save</span></div></div>',1);function Po(e,s,a,o,r,i){return l(),c("section",To,[t("div",Uo,[t("h1",null,g(a.stay.name),1)]),t("div",Do,[t("div",Io,[Oo,t("span",null,g(a.stay.reviewScores.rating/20),1),Fo,t("span",{onClick:s[0]||(s[0]=(...n)=>i.goToReviews&&i.goToReviews(...n))},g(a.stay.reviews.length)+" reviews",1),Lo,t("span",{class:"location-above-pictures",onClick:s[1]||(s[1]=(...n)=>i.goToMap&&i.goToMap(...n))},g(a.stay.address.city)+", "+g(a.stay.address.country),1)]),Ao])])}var Go=_(xo,[["render",Po]]),Bo="/assets/great-comm.5b85fba5.svg",No="/assets/great-location.bacce6cb.svg",qo="/assets/self-checkin.0d413013.svg",ia="/assets/wifi.5d57e009.svg";const Ro={name:"selected-popular-amenities",props:{stay:{type:Object,required:!0}}},Ho={class:"selected-popular-amenities"},Eo={class:"popular-amenities"},Vo=t("div",{class:"popular-amenities-svg"},[t("img",{src:Bo})],-1),Jo={class:"popular-amenities-text"},Yo=t("div",{class:"popular-amenities-title"},"Great communication",-1),Wo={class:"popular-amenities-description"},Ko=T('<div class="popular-amenities"><div class="popular-amenities-svg"><img src="'+No+'"></div><div class="popular-amenities-text"><div class="popular-amenities-title">Great location</div><div class="popular-amenities-description">100% of recent guests gave the location a 5-star rating</div></div></div><div class="popular-amenities"><div class="popular-amenities-svg"><img src="'+qo+'"></div><div class="popular-amenities-text"><div class="popular-amenities-title">Self check-in</div><div class="popular-amenities-description">Check yourself in with the lockbox</div></div></div><div class="popular-amenities"><div class="popular-amenities-svg"><img src="'+ia+'"></div><div class="popular-amenities-text"><div class="popular-amenities-title">Wifi</div><div class="popular-amenities-description">Guests often search for this popular amenity</div></div></div>',3);function zo(e,s,a,o,r,i){return l(),c("section",Ho,[t("div",Eo,[Vo,t("div",Jo,[Yo,t("div",Wo,"100% of recent guests rated "+g(a.stay.host.fullname)+" 5-star in communication",1)])]),Ko])}var Qo=_(Ro,[["render",zo]]),Zo="/assets/air-conditioning.5849794e.svg",Xo="/assets/courtyard-view.5b7299e6.svg",en="/assets/dedicated-workspace.a5b62cbf.svg",sn="/assets/elevator.e84742a7.svg",tn="/assets/free-parking.2a0276f3.svg",an="/assets/kitchen.3f0e0ba9.svg",rn="/assets/long-term.54e294a1.svg",on="/assets/pets-allowed.f17cb476.svg",nn="/assets/refrigerator.9c0f9c49.svg";const ln={name:"amenities-list"},gn={class:"main-amenities-section"},cn=T('<div class="amenities-list-title"><h1>What this place offers</h1></div><section class="amenities-list"><div class="amenity-container"><div class="amenity-item"><img src="'+Zo+'"><span>Air-conditioning</span></div><div class="amenity-item"><img src="'+Xo+'"><span>Courtyard view</span></div><div class="amenity-item"><img src="'+en+'"><span>Dedicated workspace</span></div><div class="amenity-item"><img src="'+sn+'"><span>Elevator</span></div><div class="amenity-item"><img src="'+tn+'"><span>Free parking</span></div><div class="amenity-item"><img src="'+an+'"><span>Kitchen</span></div><div class="amenity-item"><img src="'+rn+'"><span>Long-term stay allowed</span></div><div class="amenity-item"><img src="'+on+'"><span>Pets allowed</span></div><div class="amenity-item"><img src="'+nn+'"><span>Refrigerator</span></div><div class="amenity-item"><img src="'+ia+'"><span>Wifi</span></div></div></section>',2),dn=[cn];function pn(e,s,a,o,r,i){return l(),c("section",gn,dn)}var un=_(ln,[["render",pn]]),_n="/assets/image1.a7c66d5d.jpg",mn="/assets/image10.f3eb493d.jpg",hn="/assets/image11.8bae3fe3.jpg",yn="/assets/image12.d6524f8b.jpg",vn="/assets/image13.e1ccf539.jpg",fn="/assets/image14.d8f2b320.jpg",jn="/assets/image15.79929dc1.jpg",bn="/assets/image2.6cf88ec8.jpg",Sn="/assets/image3.a71ec5fa.jpg",$n="/assets/image4.a7fae379.jpg",wn="/assets/image5.409d98e5.jpg",kn="/assets/image6.e7f6e7ac.jpg",Cn="/assets/image7.f64f5ff1.jpg",Mn="/assets/image8.ec686805.jpg",xn="/assets/image9.ccabc461.jpg",Tn="/assets/lidor.c37f88b3.jpg",Un="/assets/liran.73808387.jpg",Dn="/assets/tal.0be301d6.jpg",In="/assets/tom.3766c07f.jpg",ra="/assets/show-more.d0d96e91.svg";const On={name:"review-preview",props:{review:{type:Object,required:!0},idx:{type:Number,required:!0}},data(){return{isLongTxt:!1,guestsImages:["lidor.jpg","tal.jpg","liran.jpg","tom.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg"]}},methods:{},computed:{getImageUrl(){return new URL({"../../assets/user-images/image1.jpg":_n,"../../assets/user-images/image10.jpg":mn,"../../assets/user-images/image11.jpg":hn,"../../assets/user-images/image12.jpg":yn,"../../assets/user-images/image13.jpg":vn,"../../assets/user-images/image14.jpg":fn,"../../assets/user-images/image15.jpg":jn,"../../assets/user-images/image2.jpg":bn,"../../assets/user-images/image3.jpg":Sn,"../../assets/user-images/image4.jpg":$n,"../../assets/user-images/image5.jpg":wn,"../../assets/user-images/image6.jpg":kn,"../../assets/user-images/image7.jpg":Cn,"../../assets/user-images/image8.jpg":Mn,"../../assets/user-images/image9.jpg":xn,"../../assets/user-images/lidor.jpg":Tn,"../../assets/user-images/liran.jpg":Un,"../../assets/user-images/tal.jpg":Dn,"../../assets/user-images/tom.jpg":In}[`../../assets/user-images/${this.guestsImages[this.idx]}`],self.location)},formattedDate(){let e=["January","February","March","April","May","June","July","August","September","October","November","December"],s=new Date(this.review.at).getFullYear();return`${e[new Date(this.review.at).getMonth()]} ${s}`},formattedText(){return this.review.txt.length>200?(this.isLongTxt=!0,this.review.txt.slice(0,200)+"..."):this.review.txt}},created(){}},Fn={class:"review-preview",id:"review-section"},Ln={class:"review-guest-name-date"},An=["src"],Pn={class:"name-and-date"},Gn={class:"review-text"},Bn={key:0,class:"review-show-more"},Nn=t("span",null,"Show more",-1),qn=t("img",{src:ra},null,-1),Rn=[Nn,qn];function Hn(e,s,a,o,r,i){return l(),c("section",Fn,[t("div",Ln,[t("img",{src:i.getImageUrl,alt:"User picture",onerror:"this.onerror=null; this.src='https://thispersondoesnotexist.com/image'"},null,8,An),t("div",Pn,[t("span",null,g(a.review.by.fullname),1),t("span",null,g(i.formattedDate),1)])]),t("div",Gn,g(i.formattedText),1),r.isLongTxt?(l(),c("div",Bn,Rn)):p("",!0)])}var En=_(On,[["render",Hn]]);const Vn={name:"review-list",props:{reviews:{type:Array,required:!0}},data(){return{}},components:{reviewPreview:En},computed:{}},Jn={key:0,class:"review-list"},Yn={class:"reviews-list-ul"};function Wn(e,s,a,o,r,i){const n=u("review-preview");return a.reviews?(l(),c("section",Jn,[t("ul",Yn,[(l(!0),c($,null,w(a.reviews,(d,m)=>(l(),c("li",{key:d._id},[h(n,{idx:m,review:d},null,8,["idx","review"])]))),128))])])):p("",!0)}var Kn=_(Vn,[["render",Wn]]);const zn={props:{reviewScores:{type:Object,required:!0}}},Qn={key:0,class:"score-scales"},Zn={class:"scores-mini-container"},Xn={class:"reviews-scores"},el=t("span",null,"Cleaniness",-1),sl={class:"bar-and-score"},tl={class:"scale-threshold"},al={class:"score-number"},il={class:"reviews-scores"},rl=t("span",null,"Communication",-1),ol={class:"bar-and-score"},nl={class:"scale-threshold"},ll={class:"score-number"},gl={class:"reviews-scores"},cl=t("span",null,"Check-in",-1),dl={class:"bar-and-score"},pl={class:"scale-threshold"},ul={class:"score-number"},_l={class:"scores-mini-container"},ml={class:"reviews-scores"},hl=t("span",null,"Accuracy",-1),yl={class:"bar-and-score"},vl={class:"scale-threshold"},fl={class:"score-number"},jl={class:"reviews-scores"},bl=t("span",null,"Location",-1),Sl={class:"bar-and-score"},$l={class:"scale-threshold"},wl={class:"score-number"},kl={class:"reviews-scores"},Cl=t("span",null,"Value",-1),Ml={class:"bar-and-score"},xl={class:"scale-threshold"},Tl={class:"score-number"};function Ul(e,s,a,o,r,i){return a.reviewScores?(l(),c("section",Qn,[t("div",Zn,[t("div",Xn,[el,t("div",sl,[t("div",tl,[t("div",{style:C(`width:${a.reviewScores.cleanliness*9}px;`)},null,4)]),t("div",al,g((a.reviewScores.cleanliness/2).toFixed(1)),1)])]),t("div",il,[rl,t("div",ol,[t("div",nl,[t("div",{style:C(`width:${a.reviewScores.communication*9}px;`)},null,4)]),t("div",ll,g((a.reviewScores.communication/2).toFixed(1)),1)])]),t("div",gl,[cl,t("div",dl,[t("div",pl,[t("div",{style:C(`width:${a.reviewScores.checkin*9}px;`)},null,4)]),t("div",ul,g((a.reviewScores.checkin/2).toFixed(1)),1)])])]),t("div",_l,[t("div",ml,[hl,t("div",yl,[t("div",vl,[t("div",{style:C(`width:${a.reviewScores.accuracy*9}px;`)},null,4)]),t("div",fl,g((a.reviewScores.accuracy/2).toFixed(1)),1)])]),t("div",jl,[bl,t("div",Sl,[t("div",$l,[t("div",{style:C(`width:${a.reviewScores.location*9}px;`)},null,4)]),t("div",wl,g((a.reviewScores.location/2).toFixed(1)),1)])]),t("div",kl,[Cl,t("div",Ml,[t("div",xl,[t("div",{style:C(`width:${a.reviewScores.value*9}px;`)},null,4)]),t("div",Tl,g((a.reviewScores.value/2).toFixed(1)),1)])])])])):p("",!0)}var Dl=_(zn,[["render",Ul]]);const Il={name:"reviews-section",props:{stay:{type:Object,required:!0}},components:{reviewList:Kn,scoreScales:Dl},data(){return{}},computed:{getReviewsForDisplay(){return this.stay.reviews.length>6?this.stay.reviews.slice(0,6):this.stay.reviews.slice()}}},Ol={key:0,class:"reviews-section",ref:"reviews-section"},Fl={class:"reviews-and-rating"},Ll=t("img",{src:H},null,-1);function Al(e,s,a,o,r,i){const n=u("score-scales"),d=u("review-list");return a.stay?(l(),c("section",Ol,[t("section",Fl,[t("div",null,[Ll,t("span",null,g(a.stay.reviewScores.rating/20)+" \xB7 "+g(a.stay.reviews.length)+" reviews",1)]),h(n,{reviewScores:a.stay.reviewScores},null,8,["reviewScores"])]),h(d,{reviews:i.getReviewsForDisplay},null,8,["reviews"])],512)):p("",!0)}var Pl=_(Il,[["render",Al]]);const Gl={props:{guests:{type:Object,required:!0},capacity:{type:Number,required:!0}},name:"header-user-menu",data(){return{guestSelected:null,newModalClass:"guests-modal-in-stay-details",capacityAlert:!1,adultAlert:!1}},created(){this.guests.adults+this.guests.children>this.capacity?(this.capacityAlert=!0,setTimeout(()=>{this.capacityAlert=!1},3500),this.guestSelected={adults:this.capacity,children:0},this.$emit("onSelectGuests",b({},this.guestSelected))):this.guestSelected=b({},this.guests)},methods:{closeGuestsModal(){this.guestSelected=b({},this.guests),this.$emit("closeGuestsModal")},changeCount(e,s){const a=this.guestSelected.adults,o=this.guestSelected.children;if(e==="adults"&&a===1&&s===-1){this.capacityAlert=!1,this.adultAlert=!0,setTimeout(()=>{this.adultAlert=!1},2500);return}if(!(e==="children"&&o===0&&s===-1)){if(a+o===this.capacity&&s===1){this.adultAlert=!1,this.capacityAlert=!0,setTimeout(()=>{this.capacityAlert=!1},2500);return}this.guestSelected[e]+=s,this.$emit("onSelectGuests",b({},this.guestSelected))}},onSelectGuests(){this.$emit("closeGuestsModal")}}},Bl={class:"details-select-guests-modal"},Nl=t("p",{class:"details-guests-modal-title"},"Select guests",-1),ql={key:0,class:"no-alert"},Rl={key:1,class:"input-alert"},Hl={key:2,class:"input-alert"},El={class:"details-guests-type-container"},Vl=t("span",{class:"details-guests-type"},"Adults",-1),Jl={class:"details-guests-counter"},Yl={class:"details-guests-number"},Wl={class:"details-guests-type-container"},Kl=t("span",{class:"details-guests-type"},"Children",-1),zl={class:"details-guests-counter"},Ql={class:"details-guests-number"},Zl={class:"details-guests-btns-container"};function Xl(e,s,a,o,r,i){return l(),c("section",Bl,[Nl,!r.capacityAlert&&!r.adultAlert?(l(),c("p",ql,"hey")):p("",!0),r.capacityAlert?(l(),c("p",Rl," Please select up to "+g(a.capacity)+" guests ",1)):p("",!0),r.adultAlert?(l(),c("p",Hl,"Please select at least 1 adult")):p("",!0),t("div",El,[Vl,t("div",Jl,[t("span",{class:"material-icons details-guest-count-icon",onClick:s[0]||(s[0]=n=>i.changeCount("adults",-1))}," remove "),t("span",Yl,g(r.guestSelected.adults),1),t("span",{class:"material-icons details-guest-count-icon",onClick:s[1]||(s[1]=n=>i.changeCount("adults",1))}," add ")])]),t("div",Wl,[Kl,t("div",zl,[t("span",{class:"material-icons details-guest-count-icon",onClick:s[2]||(s[2]=n=>i.changeCount("children",-1))}," remove "),t("span",Ql,g(r.guestSelected.children),1),t("span",{class:"material-icons details-guest-count-icon",onClick:s[3]||(s[3]=n=>i.changeCount("children",1))}," add ")])]),t("div",Zl,[t("div",{class:"guest-modal-btn",onClick:s[4]||(s[4]=(...n)=>i.onSelectGuests&&i.onSelectGuests(...n))},"OK")])])}var eg=_(Gl,[["render",Xl]]);const sg={name:"hero-modal",props:{stay:{type:Object,required:!0},guestsFromStore:{type:Object,required:!0}},data(){return{dates:null,isSelectingGuests:!1,isSelectingDates:!1,total:""}},components:{detailsSelectGuestsModal:eg},created(){this.dates=this.getDates;const e=this.guestsFromStore;e.adults+e.children||this.onSelectGuests({adults:1,children:0})},methods:{onCheckAvailability(){this.$emit("onCheckAvailability")},formatedDate(e){if(!this.dates)return"Add dates";const s=new Date(this.dates[e]);return`${s.getDate()<10?"0"+s.getDate():s.getDate()}/${s.getMonth()<9?"0"+(s.getMonth()+1):s.getMonth()+1}/${s.getFullYear().toString().substring(2)}`},onSelectGuests(e){this.$store.commit({type:"setGuests",guests:e})},closeGuestsModal(){this.isSelectingGuests=!1}},computed:{getCheckDetails(){const e=this.dates,s=this.stay.price,a=Math.round((e[1]-e[0])/(24*60*60*1e3)),o=s*a;return this.total=`$${o}`,this.$store.commit({type:"setTotalPrice",totalPrice:o}),`$${s} x ${a} nights`},isDatesSet(){return!!this.dates},getGuestsForDisplay(){const{adults:e}=this.guestsFromStore,{children:s}=this.guestsFromStore;return s+e?s?s===1?e===1?"1 adult, 1 child":`${e} adults, 1 child`:e===1?`1 adult, ${s} children`:`${e} adults, ${s} children`:e===1?"1 adult":`${e} adults`:"Add guests"},getLocation(){return this.$store.getters.getLocation},getDates(){return this.$store.getters.getDates},fixedScore(){return(this.stay.reviewScores.rating/20).toFixed(2)}},watch:{dates(){this.$store.commit({type:"setDates",dates:this.dates})}}},tg={class:"hero-modal-wrapper"},ag={class:"hero-modal-header"},ig={class:"hero-modal-price"},rg=t("span",null,"\xA0 / night",-1),og={class:"hero-modal-rating-reviews"},ng=t("span",null,[t("img",{src:H})],-1),lg={class:"hero-modal-selection"},gg={class:"hero-modal-check-container"},cg=t("div",null,"CHECK-IN",-1),dg=t("div",null,"CHECK-OUT",-1),pg={class:"block"},ug=t("span",{class:"demonstration"},"Default",-1),_g=t("label",{for:"hero-modal-guest-picker"},"GUESTS",-1),mg=t("span",{class:"check-availability-span"},"Check availability",-1),hg=[mg],yg={key:0,class:"summary-details-container"},vg=t("p",{class:"no-charge"},"You won't be charged yet",-1),fg={class:"total-price-details"},jg={class:"total-price-item"},bg=t("div",{class:"total-price-details"},[t("span",{class:"total-price-item"},"Service fee"),t("span",null,"$0")],-1),Sg={class:"total-price-details total"},$g=t("span",{class:"total-price-item"},"Total",-1);function wg(e,s,a,o,r,i){const n=u("details-select-guests-modal"),d=u("el-date-picker");return l(),c("section",{class:y(["hero-modal",{heroWithDates:!i.isDatesSet}])},[t("section",tg,[r.isSelectingGuests?(l(),c("div",{key:0,class:"outsideDetailsGuests",onClick:s[0]||(s[0]=m=>r.isSelectingGuests=!1)})):p("",!0),t("section",{class:y(["hero-modal-container",{showSummary:!i.isDatesSet}])},[r.isSelectingGuests?(l(),v(n,{key:0,guests:a.guestsFromStore,capacity:a.stay.capacity,onCloseGuestsModal:i.closeGuestsModal,onOnSelectGuests:i.onSelectGuests},null,8,["guests","capacity","onCloseGuestsModal","onOnSelectGuests"])):p("",!0),t("section",ag,[t("div",ig,[t("span",null,g(e.$filters.currencyUSD(a.stay.price)),1),rg]),t("div",og,[ng,t("span",null,g(i.fixedScore)+" \xB7",1),t("span",null,g(a.stay.reviews.length)+" reviews",1)])]),t("section",lg,[t("div",gg,[t("div",{class:"hero-modal-check-in",onClick:s[1]||(s[1]=m=>r.isSelectingDates=!r.isSelectingDates)},[cg,t("div",null,g(i.formatedDate(0)),1)]),t("div",{class:"hero-modal-check-out",onClick:s[2]||(s[2]=m=>r.isSelectingDates=!r.isSelectingDates)},[dg,t("div",null,g(i.formatedDate(1)),1)]),t("div",pg,[ug,h(d,{ref:"modal-date-picker",modelValue:r.dates,"onUpdate:modelValue":s[3]||(s[3]=m=>r.dates=m),type:"daterange","start-placeholder":"CHECK-IN","end-placeholder":"CHECKOUT",class:"date-picker","value-format":"x"},null,8,["modelValue"])])]),t("div",{class:"hero-modal-guests",onClick:s[4]||(s[4]=m=>r.isSelectingGuests=!0)},[_g,t("div",null,g(i.getGuestsForDisplay),1)]),t("div",{class:"check-availability-container",onClick:s[5]||(s[5]=(...m)=>i.onCheckAvailability&&i.onCheckAvailability(...m))},hg),i.isDatesSet?(l(),c("div",yg,[vg,t("div",fg,[t("span",jg,g(i.getCheckDetails),1),t("span",null,g(r.total),1)]),bg,t("div",Sg,[$g,t("span",null,g(r.total),1)])])):p("",!0)])],2)])],2)}var kg=_(sg,[["render",wg]]);const Cg={props:{address:{type:Object,required:!0}},name:"App",data(){return{center:{lat:32.091996,lng:34.959813}}},created(){this.center.lat=this.address.location.lan,this.center.lng=this.address.location.lat}},Mg={class:"map-address"};function xg(e,s,a,o,r,i){const n=u("GMapMarker"),d=u("GMapMap");return l(),c("section",null,[t("h1",Mg,g(a.address.street),1),r.center?(l(),v(d,{key:0,center:r.center,zoom:15,"map-type-id":"terrain"},{default:I(()=>[h(n,{position:r.center},null,8,["position"])]),_:1},8,["center"])):p("",!0)])}var Tg=_(Cg,[["render",xg]]);const Ug={name:"order-alert-modal",props:{alertModalMessage:{type:String,reqired:!0}},data(){return{}},methods:{closeModal(){this.$emit("closeModal")}},closeSignUp(){},cleanData(){}},Dg={class:"order-alert-modal"},Ig=t("p",{class:"sign-up-title"},"Please note",-1),Og={class:"sign-up-welcome"};function Fg(e,s,a,o,r,i){return l(),c("section",Dg,[Ig,t("h1",Og,g(a.alertModalMessage),1),t("div",{class:"sign-up-continue",onClick:s[0]||(s[0]=(...n)=>i.closeModal&&i.closeModal(...n))},"Close")])}var Lg=_(Ug,[["render",Fg]]);const Ag={name:"order-alert-modal",props:{alertModalMessage:{type:String,reqired:!0}},data(){return{}},methods:{login(){this.$emit("login")},async demo(){const e={username:"guest",password:"Leo"};await this.$store.dispatch({type:"login",user:e}),this.$emit("demo")},closeModal(){this.$emit("closeModal")}},closeSignUp(){},cleanData(){}},Pg={class:"login-alert-modal"},Gg=t("p",{class:"sign-up-title"},"Please note",-1),Bg=t("h1",{class:"sign-up-welcome"},"Log in to proceed",-1),Ng={class:"modal-btns-container"};function qg(e,s,a,o,r,i){return l(),c("section",Pg,[t("span",{class:"material-icons close-sign-up",onClick:s[0]||(s[0]=(...n)=>i.closeModal&&i.closeModal(...n))}," close "),Gg,Bg,t("div",Ng,[t("div",{class:"sign-up-continue",onClick:s[1]||(s[1]=(...n)=>i.login&&i.login(...n))},"Log in"),t("div",{class:"sign-up-continue",onClick:s[2]||(s[2]=(...n)=>i.demo&&i.demo(...n))},"Guest user")])])}var Rg=_(Ag,[["render",qg]]);const Hg={props:{stay:{type:Object,reqired:!0},dates:{type:Array,reqired:!0},guests:{type:Object,reqired:!0},user:{type:Object,reqired:!0}},data(){return{isConfirmed:!1}},methods:{async confirm(){this.isConfirmed=!0;const e=this.getTimeStampDate(0),s=this.getTimeStampDate(1),a=this.getTotalPrice,o={startDate:e,endDate:s,guests:this.guests,status:"pending",totalPrice:a,hostId:this.stay.host._id,stay:{name:this.stay.name,price:this.stay.price,_id:this.stay._id},buyer:{_id:this.user._id,fullname:this.user.fullname}};this.$emit("addOrder",o)},getTimeStampDate(e){return JSON.parse(JSON.stringify(this.dates))[e]},getFormatedDate(e){const s=JSON.parse(JSON.stringify(this.dates)),a=new Date(s[e]);return`${a.getDate()<10?"0"+a.getDate():a.getDate()}/${a.getMonth()<9?"0"+(a.getMonth()+1):a.getMonth()+1}/${a.getFullYear().toString().substring(2)}`},goToMyTrips(){this.isConfirmed=!1,this.$emit("closeModal"),this.$emit("goToMyTrips")},closeModal(){this.isConfirmed=!1,this.$emit("closeModal")},closeModalAndClean(){this.$store.commit({type:"clearOrderingDetails"}),this.isConfirmed=!1,this.$emit("closeModal"),this.$router.push("/")}},computed:{displayConfirmation(){return!!(this.stay&&this.dates&&this.user&&!this.isConfirmed)},getTotalPrice(){return this.$store.getters.getTotalPrice},getUserFirstName(){return this.user.fullname.split(" ")[0]},getGuestsForDisplay(){const{adults:e}=this.guests,{children:s}=this.guests;return s+e?s?s===1?e===1?"1 adult, 1 child":`${e} adults, 1 child`:e===1?`1 adult, ${s} children`:`${e} adults, ${s} children`:e===1?"1 adult":`${e} adults`:"Add guests"},getLocation(){return this.$store.getters.getLocation},getDates(){return this.$store.getters.getDates}}},Eg={class:"order-confirmation-modal"},Vg={class:"order-confirmation-container"},Jg={key:0,class:"confirmed-container"},Yg=t("div",{class:"confirm-secondary-title"},[t("h1",{class:"confirm-text congrats"},"Congratulations!")],-1),Wg=t("h1",{class:"confirm-text"},"Your order has been received",-1),Kg=t("h1",{class:"confirm-text"},"We will let you know when the host responds",-1),zg={class:"confirm-text"},Qg=L(" You can follow the order status in "),Zg=L(" page "),Xg={key:1,class:"confirmation-details"},ec=t("p",{class:"confirm-title"},"One last step",-1),sc={class:"confirm-secondary-title"},tc={class:"confirm-text"},ac=t("h1",{class:"confirm-text"}," In orer to complete your reservation, please confirm your trip details ",-1),ic={class:"trip-details"},rc={class:"stay-user-details"},oc={class:"confirm-text"},nc={class:"confirm-text"},lc={class:"confirm-text"},gc={class:"confirm-text"},cc={class:"confirm-text"},dc={class:"confirm-text"},pc={class:"host-details"},uc=["src"],_c={class:"host-name"},mc={class:"modal-btns-container"};function hc(e,s,a,o,r,i){return l(),c("section",Eg,[t("div",Vg,[r.isConfirmed?(l(),c("div",Jg,[Yg,Wg,Kg,t("h1",zg,[Qg,t("span",{onClick:s[0]||(s[0]=(...n)=>i.goToMyTrips&&i.goToMyTrips(...n))},"My trips"),Zg])])):p("",!0),i.displayConfirmation?(l(),c("div",Xg,[ec,t("div",sc,[t("h1",tc,"Dear "+g(i.getUserFirstName)+",",1),ac]),t("div",ic,[t("div",rc,[t("h1",oc,"Stay name: "+g(a.stay.name),1),t("h1",nc,g(a.stay.address.city)+", "+g(a.stay.address.country),1),t("h1",lc,"Check in: "+g(i.getFormatedDate(0)),1),t("h1",gc," Check out: "+g(i.getFormatedDate(1)),1),t("h1",cc,g(i.getGuestsForDisplay),1),t("h1",dc,"Total: $"+g(i.getTotalPrice),1)]),t("div",pc,[t("img",{class:"host-image",src:a.stay.host.thumbnailUrl,alt:"host",onerror:"this.onerror=null; this.src='https://blog.cpanel.com/wp-content/uploads/2019/08/user-01.png'"},null,8,uc),t("h1",_c,g(a.stay.host.fullname),1)])])])):p("",!0),t("div",mc,[r.isConfirmed?p("",!0):(l(),c("div",{key:0,class:"sign-up-continue",onClick:s[1]||(s[1]=(...n)=>i.confirm&&i.confirm(...n))},"Confirm")),r.isConfirmed?p("",!0):(l(),c("div",{key:1,class:"sign-up-continue go-back",onClick:s[2]||(s[2]=(...n)=>i.closeModal&&i.closeModal(...n))},"Go back")),r.isConfirmed?(l(),c("div",{key:2,class:"sign-up-continue",onClick:s[3]||(s[3]=(...n)=>i.closeModalAndClean&&i.closeModalAndClean(...n))},"Close")):p("",!0)])])])}var yc=_(Hg,[["render",hc]]);const vc="",M=fc();window.socketService=M;M.setup();function fc(){var e=null;return{async setup(){e=fa(vc)},on(a,o){e.on(a,o),console.log(a)},off(a,o=null){!e||(o?e.off(a,o):e.removeAllListeners(a))},emit(a,o){e.emit(a,o)},terminate(){e=null}}}var jc="/assets/back-home.29252606.svg";const bc={name:"stay-details",components:{imagesContainer:ko,SecondaryHeader:Go,SelectedPopularAmenities:Qo,AmenitiesList:un,reviewsSection:Pl,mapSection:Tg,heroModal:kg,footerHeroModal:ho,orderAlertModal:Lg,loginAlertModal:Rg,orderConfirmationModal:yc},data(){return{isMobile:!1,stay:null,isOrderAlert:!1,isLoginAlert:!1,alertModalMessage:"",currOrder:null,isOrdering:!1,isConfirm:!1}},async created(){const e=this.$route.params.stayId;this.stay=await this.$store.dispatch({type:"getStayById",stayId:e})},methods:{addOrder(e){M.emit("new order",e),this.$store.dispatch({type:"addOrder",order:e})},loginToProceed(){this.isLoginAlert=!1,this.$store.commit({type:"openSignUpModal"})},demoToProceed(){this.isLoginAlert=!1,this.isOrdering=!0},closeLoginModal(){this.isLoginAlert=!1},closeAlertModal(){this.isOrderAlert=!1},goToMyTrips(){this.isOrdering=!1,this.$router.push("/mytrips")},closeConfirmationModal(){this.isOrdering=!1},openAlertModal(e){this.alertModalMessage=e,this.isOrderAlert=!1},onCheckAvailability(){this.isOrdering=!0;const e=this.getDates,s=this.getGuests;if(!e){this.$refs["hero-modal"].$refs["modal-date-picker"].focus(),this.isOrdering=!1;return}if(s.adults+s.children>this.stay.capacity){this.alertModalMessage=`Select up to ${this.stay.capacity} to proceed`,this.isOrdering=!1,this.isOrderAlert=!0;return}if(!this.$store.getters.getLoggedInUser){this.isLoginAlert=!0;return}},goToReviews(){let s=this.$refs["reviews-section"].$el.offsetTop;window.scrollTo({top:s-10,left:0,behavior:"smooth"})},goToMap(){let s=this.$refs["map-section"].$el.offsetTop;window.scrollTo({top:s-10,left:0,behavior:"smooth"})}},computed:{getDates(){return this.$store.getters.getDates},getGuests(){return this.$store.getters.getGuests},isLoggedIn(){return!!this.$store.getters.getLoggedInUser},getLoggedInUser(){return this.$store.getters.getLoggedInUser}},unmounted(){this.isOrdering=!1}},Sc={key:0,class:"stay-details-main-layout main-layout"},$c={class:"stay-details-page"},wc={key:1,class:"stay-details"},kc={class:"mobile-secondary-header"},Cc={class:"back-home"},Mc=t("img",{src:jc},null,-1),xc=L("Back"),Tc={class:"secondary-header-and-images-container"},Uc={class:"hero-modal-and-general-info"},Dc={class:"general-info"},Ic={class:"type-host-and-stay-properties"},Oc={class:"type-host-and-stay-properties-text"},Fc={class:"stay-type-host-name"},Lc={class:"stay-properties"},Ac=["src"],Pc={class:"section-stay-summary"},Gc={class:"stay-summary"},Bc=t("div",{class:"summary-show-more"},[t("span",null,"Show more"),t("img",{src:ra})],-1),Nc={key:2,class:"order-alert-overlay"};function qc(e,s,a,o,r,i){const n=u("footer-hero-modal"),d=u("router-link"),m=u("secondary-header"),j=u("images-container"),J=u("selected-popular-amenities"),la=u("amenities-list"),ga=u("hero-modal"),ca=u("reviews-section"),da=u("map-section"),pa=u("order-alert-modal"),ua=u("login-alert-modal"),_a=u("order-confirmation-modal");return r.stay?(l(),c("section",Sc,[t("section",$c,[r.stay?(l(),v(n,{key:0,stay:r.stay},null,8,["stay"])):p("",!0),r.stay?(l(),c("section",wc,[t("section",kc,[t("div",Cc,[Mc,h(d,{to:"/stay"},{default:I(()=>[xc]),_:1})])]),t("section",Tc,[h(m,{onGoToReviews:i.goToReviews,onGoToMap:i.goToMap,stay:r.stay},null,8,["onGoToReviews","onGoToMap","stay"]),h(j,{stayImgs:r.stay.imgUrls},null,8,["stayImgs"])]),t("section",Uc,[t("section",Dc,[t("section",Ic,[t("section",Oc,[t("h2",Fc,g(r.stay.propertyType)+" hosted by "+g(r.stay.host.fullname),1),t("ul",Lc,[t("li",null,g(r.stay.capacity)+" guests",1),t("li",null,g(r.stay.bedrooms)+" bedroom",1),t("li",null,g(r.stay.beds)+" bed",1),t("li",null,g(r.stay.bathrooms)+" baths",1)])]),t("img",{src:r.stay.host.thumbnailUrl,alt:"Host picture",onerror:"this.onerror=null; this.src='https://thispersondoesnotexist.com/image'"},null,8,Ac)]),h(J,{stay:r.stay},null,8,["stay"]),t("section",Pc,[t("p",Gc,g(r.stay.summary),1),Bc]),h(la)]),h(ga,{ref:"hero-modal",stay:r.stay,guestsFromStore:i.getGuests,onOnCheckAvailability:i.onCheckAvailability},null,8,["stay","guestsFromStore","onOnCheckAvailability"])]),h(ca,{stay:r.stay,ref:"reviews-section"},null,8,["stay"]),h(da,{address:r.stay.address,ref:"map-section"},null,8,["address"]),r.isOrderAlert?(l(),v(pa,{key:0,onCloseModal:i.closeAlertModal,alertModalMessage:r.alertModalMessage},null,8,["onCloseModal","alertModalMessage"])):p("",!0),r.isLoginAlert?(l(),v(ua,{key:1,onCloseModal:i.closeLoginModal,onLogin:i.loginToProceed,onDemo:i.demoToProceed},null,8,["onCloseModal","onLogin","onDemo"])):p("",!0),h(_a,{class:y({showConfirm:r.isOrdering&&i.isLoggedIn}),stay:r.stay,dates:i.getDates,guests:i.getGuests,user:i.getLoggedInUser,onCloseModal:i.closeConfirmationModal,onGoToMyTrips:i.goToMyTrips,onAddOrder:i.addOrder},null,8,["class","stay","dates","guests","user","onCloseModal","onGoToMyTrips","onAddOrder"]),r.isOrderAlert||r.isLoginAlert||r.isOrdering&&i.isLoggedIn?(l(),c("div",Nc)):p("",!0)])):p("",!0)])])):p("",!0)}var Rc=_(bc,[["render",qc]]);const Hc={name:"order-preview",emits:["updateStatus"],props:{order:{type:Object,required:!0}},methods:{goToStay(){this.$router.push(`/stay/${this.trip.stay._id}`)},getFormatedPrice(e){var s=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0});return s.format(e)},updateStatus(e){this.$emit("updateStatus",{status:e,orderId:this.order._id})},timeConversion(e){let s=new Date(e).getDate();s=s<10?"0"+s:s;let a=new Date(e).getMonth()+1;a=a<10?"0"+a:a;let o=new Date(e).getFullYear().toString().substring(2)+"";return`${s}/${a}/${o}`}},computed:{isUndisable(){this.order.startDate;const e=Date.now(),s=1e3*60*60*24;returnstartDate-e<s||this.order.status},isUnrejectable(){const e=this.order.startDate,s=Date.now(),a=1e3*60*60*24;return e-s<a||this.order.status==="rejected"||this.order.status==="canceled"},isUnapprovable(){const e=this.order.startDate,s=Date.now(),a=1e3*60*60*24;return e-s<a||this.order.status==="approved"||this.order.status==="canceled"},formattedText(){return this.order.stay.name.length>15?this.order.stay.name.slice(0,15)+"...":this.order.stay.name}}},Ec={class:"dashboard-order-cont"},Vc={class:"date"},Jc={class:"booker"},Yc={class:"trip-dates"},Wc={class:"nights"},Kc={class:"guests"},zc={class:"price"},Qc={class:"total"},Zc={class:"actions actions-container"},Xc=["disabled"],ed=["disabled"];function sd(e,s,a,o,r,i){return l(),c("section",Ec,[t("div",Vc,g(i.timeConversion(a.order.createdAt)),1),t("div",Jc,g(a.order.buyer.fullname),1),t("div",{onClick:s[0]||(s[0]=(...n)=>i.goToStay&&i.goToStay(...n)),class:"stay"},g(i.formattedText),1),t("div",Yc,g(i.timeConversion(a.order.startDate))+" - "+g(i.timeConversion(a.order.endDate)),1),t("div",Wc,g(Math.round(a.order.totalPrice/a.order.stay.price)),1),t("div",Kc,g(a.order.guests.adults+a.order.guests.children),1),t("div",zc,g(i.getFormatedPrice(a.order.stay.price)),1),t("div",Qc,g(i.getFormatedPrice(a.order.totalPrice)),1),t("div",{class:y(["status",a.order.status])},g(a.order.status),3),t("div",Zc,[t("button",{disabled:i.isUnrejectable,class:"approve-btn",onClick:s[1]||(s[1]=n=>i.updateStatus("rejected"))}," Reject ",8,Xc),t("button",{disabled:i.isUnapprovable,class:"reject-btn",onClick:s[2]||(s[2]=n=>i.updateStatus("approved"))}," Approve ",8,ed)])])}var td=_(Hc,[["render",sd]]);const ad={name:"order-list",emits:["updateStatus"],props:{orders:{type:Array,required:!0}},methods:{updateStatus(e){this.$emit("updateStatus",e)}},components:{orderPreview:td}},id={class:"main-layout-homepage"},rd=T('<div class="dashboard-order-cont"><div class="dashboard-title date">Date</div><div class="dashboard-title booker">Booker</div><div class="dashboard-title stay">Stay</div><div class="dashboard-title trip-dates">Dates</div><div class="dashboard-title nights">Nights</div><div class="dashboard-title guests">Guests</div><div class="dashboard-title price"><span>Price</span><span> / Night</span></div><div class="dashboard-title total">Total</div><div class="dashboard-title status">Status</div><div class="dashboard-title actions">Actions</div></div>',1);function od(e,s,a,o,r,i){const n=u("order-preview");return l(),c("section",id,[rd,(l(!0),c($,null,w(a.orders.slice().reverse(),d=>(l(),v(n,{key:d._id,order:d,onUpdateStatus:i.updateStatus},null,8,["order","onUpdateStatus"]))),128))])}var nd=_(ad,[["render",od]]);ea.title=!1;ja.register(...ba);const ld={name:"Home",props:{data:{type:Object,requires:!0}},components:{PieChart:ea},data(){return{}},computed:{myStyles(){return{position:"relative",color:"blue"}}}},gd={style:{"{responsive":"true"}};function cd(e,s,a,o,r,i){const n=u("PieChart");return l(),c("div",gd,[h(n,{styles:i.myStyles,class:"nights-pie",chartData:a.data},null,8,["styles","chartData"])])}var dd=_(ld,[["render",cd]]);const pd={props:{orders:{type:Array,required:!0}},data(){return{options:{chart:{id:"vuechart-example",height:"400px"},fill:{colors:["#ff385c","#d90865","#d90865"]},plotOptions:{bar:{columnWidth:"70%",distributed:!1,columnColors:["black"]}},xaxis:{categories:["Jan","Feb","March","April"],labels:{style:{colors:["#222222"],fontSize:"13px"}}}},series:null}},created(){const e=[{name:"revenue",data:[0,0,0,0]}];this.orders.filter(a=>a.status==="approved").forEach(a=>{const o=new Date(a.createdAt).getMonth();o<4&&(e[0].data[o]+=a.totalPrice)}),this.series=e}};function ud(e,s,a,o,r,i){const n=u("apexchart");return r.series?(l(),v(n,{key:0,width:"330",height:"170",type:"bar",options:r.options,series:r.series},null,8,["options","series"])):p("",!0)}var _d=_(pd,[["render",ud]]);const md={name:"order-list",emits:["updateStatus"],props:{orders:{type:Array,required:!0}},data(){return{testData:null,totalRevenue:0}},created(){const e=this.orders.filter(r=>r.status==="approved"),s=e.reduce((r,i)=>r+i.totalPrice,0);this.totalRevenue=s;let a={labels:["1-3 nights","4-6 nights","+7 nights"],datasets:[{data:[],backgroundColor:["#b40000","#0000db","#338300"]}]},o=e.filter(r=>r.totalPrice/r.stay.price<=3).length;a.datasets[0].data.push(o),o=e.filter(r=>{const i=r.totalPrice/r.stay.price;return i>=4&&i<=6}).length,a.datasets[0].data.push(o),o=e.filter(r=>r.totalPrice/r.stay.price>=7).length,a.datasets[0].data.push(o),this.testData=a},computed:{pendingCount(){return this.orders.filter(s=>s.status==="pending").length},totalPriceAverage(){const e=this.orders.filter(a=>a.status==="approved"),s=this.totalRevenue;return this.getFormatedPrice(s/e.length)},cancelations(){const e=this.orders;return(e.filter(a=>a.status==="canceled").length/e.length*100).toFixed(1)+"%"},formattedRevenue(){return this.getFormatedPrice(this.totalRevenue)},thisYearRenevue(){const e=this.orders.filter(o=>o.status==="approved"),s=new Date().getFullYear(),a=e.filter(o=>new Date(o.createdAt).getFullYear()===s).reduce((o,r)=>o+r.totalPrice,0);return this.getFormatedPrice(a)},thisMonthRenevue(){const e=this.orders.filter(o=>o.status==="approved"),s=new Date().getMonth()+1,a=e.filter(o=>new Date(o.createdAt).getMonth()+1===s).reduce((o,r)=>o+r.totalPrice,0);return this.getFormatedPrice(a)}},methods:{getFormatedPrice(e){var s=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0});return s.format(e)}},components:{awesomeChart:dd,barChart:_d}},hd={class:"dashboard-stats main-layout-homepage"},yd={class:"cards-container"},vd={class:"bar-container"},fd=t("h1",null,"Revenue per month",-1),jd={class:"stats-card revenue"},bd=t("h1",null,"Total revenue",-1),Sd={class:"details"},$d={class:"rev-stat"},wd=t("span",{class:"stat-head"},"This month",-1),kd={class:"rev-stat"},Cd=t("span",{class:"stat-head"},"This year",-1),Md={class:"rev-stat"},xd=t("span",{class:"stat-head"},"All time",-1),Td={class:"cards-container"},Ud={class:"pie-container"},Dd=t("h1",null,"Orders segmentation by nights",-1),Id={class:"stats-card management"},Od=t("h1",null,"Orders management",-1),Fd={class:"details"},Ld={class:"rev-stat"},Ad=t("span",{class:"stat-head"},"Cancelations",-1),Pd={class:"canceled-stat"},Gd={class:"rev-stat"},Bd=t("span",{class:"stat-head"},"Total price average",-1),Nd={class:"total-stat"},qd={class:"rev-stat"},Rd=t("span",{class:"stat-head"},"Pending now",-1),Hd={class:"pending-stat"};function Ed(e,s,a,o,r,i){const n=u("bar-chart"),d=u("awesome-chart");return l(),c("section",hd,[t("div",yd,[t("div",vd,[fd,h(n,{orders:a.orders},null,8,["orders"])]),t("div",jd,[bd,t("div",Sd,[t("div",$d,[wd,t("span",null,g(i.thisMonthRenevue),1)]),t("div",kd,[Cd,t("span",null,g(i.thisYearRenevue),1)]),t("div",Md,[xd,t("span",null,g(i.formattedRevenue),1)])])])]),t("div",Td,[t("div",Ud,[Dd,r.testData?(l(),v(d,{key:0,data:r.testData},null,8,["data"])):p("",!0)]),t("div",Id,[Od,t("div",Fd,[t("div",Ld,[Ad,t("span",Pd,g(i.cancelations),1)]),t("div",Gd,[Bd,t("span",Nd,g(i.totalPriceAverage),1)]),t("div",qd,[Rd,t("span",Hd,g(i.pendingCount)+" orders",1)])])])])])}var Vd=_(md,[["render",Ed]]);const Jd={name:"dashboard",data(){return{isShowingMessage:!1,message:{},loggedInUser:{}}},async created(){this.loggedInUser=this.$store.getters.getLoggedInUser,M.emit("enter dashboard",this.loggedInUser._id),M.on("added order",this.addedNewOrder);const e={hostId:this.loggedInUser._id};try{await this.$store.dispatch({type:"loadOrders",filterBy:e})}catch(s){console.log("Error while loading orders: ",s)}},computed:{isLoading(){return this.$store.getters.isLoading},getOrders(){return this.$store.getters.getOrders}},methods:{showMessage(e){this.message=e,this.isShowingMessage=!0,setTimeout(()=>{this.isShowingMessage=!1},4500)},async updateStatus({status:e,orderId:s}){const a=this.getOrders.find(r=>r._id===s),o=JSON.parse(JSON.stringify(a));o.status=e,this.$store.dispatch({type:"updateOrder",order:o}),M.emit("update status",o)},async addedNewOrder(){this.loggedInUser=this.$store.getters.getLoggedInUser;const e={hostId:this.loggedInUser._id};try{await this.$store.dispatch({type:"loadOrdersWithSocket",filterBy:e})}catch(a){console.log("Error while loading orders: ",a)}const s={text:"You have a new order",from:"user"};this.showMessage(s)}},components:{orderList:nd,dashboardStats:Vd,userMessage:aa}},Yd={class:"dashboard main-layout-height"},Wd=t("h1",{class:"main-layout-homepage title"},"My Dashboard",-1),Kd={class:"loading-img-container"},zd={key:0,class:"loading-img",src:R,alt:"Loading.."};function Qd(e,s,a,o,r,i){const n=u("user-message"),d=u("dashboard-stats"),m=u("order-list");return l(),c("section",Yd,[h(n,{class:y({showUserMessage:r.isShowingMessage}),message:r.message},null,8,["class","message"]),Wd,t("div",Kd,[i.isLoading?(l(),c("img",zd)):p("",!0)]),i.isLoading?p("",!0):(l(),v(d,{key:0,orders:i.getOrders},null,8,["orders"])),i.isLoading?p("",!0):(l(),v(m,{key:1,orders:i.getOrders,onUpdateStatus:i.updateStatus},null,8,["orders","onUpdateStatus"]))])}var Zd=_(Jd,[["render",Qd]]),Xd="/assets/empty-like.6b08c87c.svg",ep="/assets/full-like.2b81a368.svg";const sp={props:{stay:{type:Object,required:!0}},data(){return{isLiked:!1}},methods:{likeCliked(){this.isLiked=!this.isLiked},stayClicked(){this.$router.push(`/stay/${this.stay._id}`)},getStayRate(e){return(e.reviewScores.rating/20).toFixed(2)},getReviewCount(e){return e.reviews.length+" reviews"},getImgUrl(e){return new URL({"../assets/images/001.jpeg":W,"../assets/images/002.jpeg":K,"../assets/images/003.jpeg":z,"../assets/images/004.jpeg":Q,"../assets/images/005.jpeg":Z,"../assets/images/006.jpeg":X,"../assets/images/007.jpeg":ee,"../assets/images/008.jpeg":se,"../assets/images/009.jpeg":te,"../assets/images/010.jpeg":ae,"../assets/images/011.jpeg":ie,"../assets/images/012.jpeg":re,"../assets/images/013.jpeg":oe,"../assets/images/014.jpeg":ne,"../assets/images/015.jpeg":le,"../assets/images/016.jpeg":ge,"../assets/images/017.jpeg":ce,"../assets/images/018.jpeg":de,"../assets/images/019.jpeg":pe,"../assets/images/020.jpeg":ue,"../assets/images/021.jpeg":_e,"../assets/images/022.jpeg":me,"../assets/images/023.jpeg":he,"../assets/images/024.jpeg":ye,"../assets/images/025.jpeg":ve,"../assets/images/026.jpeg":fe,"../assets/images/027.jpeg":je,"../assets/images/028.jpeg":be,"../assets/images/029.jpeg":Se,"../assets/images/030.jpeg":$e,"../assets/images/031.jpeg":we,"../assets/images/032.jpeg":ke,"../assets/images/033.jpeg":Ce,"../assets/images/034.jpeg":Me,"../assets/images/035.jpeg":xe,"../assets/images/036.jpeg":Te,"../assets/images/037.jpeg":Ue,"../assets/images/038.jpeg":De,"../assets/images/039.jpeg":Ie,"../assets/images/040.jpeg":Oe,"../assets/images/041.jpeg":Fe,"../assets/images/042.jpeg":Le,"../assets/images/043.jpeg":Ae,"../assets/images/044.jpeg":Pe,"../assets/images/045.jpeg":Ge,"../assets/images/046.jpeg":Be,"../assets/images/047.jpeg":Ne,"../assets/images/048.jpeg":qe,"../assets/images/049.jpeg":Re,"../assets/images/050.jpeg":He,"../assets/images/051.jpeg":Ee,"../assets/images/052.jpeg":Ve,"../assets/images/053.jpeg":Je,"../assets/images/054.jpeg":Ye,"../assets/images/055.jpeg":We,"../assets/images/056.jpeg":Ke,"../assets/images/057.jpeg":ze,"../assets/images/058.jpeg":Qe,"../assets/images/059.jpeg":Ze,"../assets/images/060.jpeg":Xe,"../assets/images/061.jpeg":es,"../assets/images/062.jpeg":ss,"../assets/images/063.jpeg":ts,"../assets/images/064.jpeg":as,"../assets/images/065.jpeg":is,"../assets/images/066.jpeg":rs,"../assets/images/067.jpeg":os,"../assets/images/068.jpeg":ns,"../assets/images/069.jpeg":ls,"../assets/images/070.jpeg":gs,"../assets/images/071.jpeg":cs,"../assets/images/072.jpeg":ds,"../assets/images/073.jpeg":ps,"../assets/images/074.jpeg":us,"../assets/images/075.jpeg":_s,"../assets/images/076.jpeg":ms,"../assets/images/077.jpeg":hs,"../assets/images/078.jpeg":ys,"../assets/images/079.jpeg":vs,"../assets/images/080.jpeg":fs,"../assets/images/081.jpeg":js,"../assets/images/082.jpeg":bs,"../assets/images/083.jpeg":Ss,"../assets/images/084.jpeg":$s,"../assets/images/085.jpeg":ws,"../assets/images/086.jpeg":ks,"../assets/images/087.jpeg":Cs,"../assets/images/088.jpeg":Ms,"../assets/images/089.jpeg":xs,"../assets/images/090.jpeg":Ts,"../assets/images/091.jpeg":Us,"../assets/images/092.jpeg":Ds,"../assets/images/093.jpeg":Is,"../assets/images/094.jpeg":Os,"../assets/images/095.jpeg":Fs,"../assets/images/096.jpeg":Ls,"../assets/images/097.jpeg":As,"../assets/images/098.jpeg":Ps,"../assets/images/099.jpeg":Gs,"../assets/images/100.jpeg":Bs,"../assets/images/101.jpeg":Ns,"../assets/images/102.jpeg":qs,"../assets/images/103.jpeg":Rs,"../assets/images/104.jpeg":Hs,"../assets/images/105.jpeg":Es,"../assets/images/106.jpeg":Vs,"../assets/images/107.jpeg":Js,"../assets/images/108.jpeg":Ys,"../assets/images/109.jpeg":Ws,"../assets/images/110.jpeg":Ks,"../assets/images/111.jpeg":zs,"../assets/images/112.jpeg":Qs,"../assets/images/113.jpeg":Zs,"../assets/images/114.jpeg":Xs,"../assets/images/115.jpeg":et,"../assets/images/116.jpeg":st,"../assets/images/117.jpeg":tt,"../assets/images/118.jpeg":at,"../assets/images/119.jpeg":it,"../assets/images/120.jpeg":rt,"../assets/images/121.jpeg":ot,"../assets/images/122.jpeg":nt,"../assets/images/123.jpeg":lt,"../assets/images/124.jpeg":gt,"../assets/images/125.jpeg":ct,"../assets/images/126.jpeg":dt,"../assets/images/127.jpeg":pt,"../assets/images/128.jpeg":ut,"../assets/images/129.jpeg":_t,"../assets/images/130.jpeg":mt,"../assets/images/131.jpeg":ht,"../assets/images/132.jpeg":yt,"../assets/images/133.jpeg":vt,"../assets/images/134.jpeg":ft,"../assets/images/135.jpeg":jt,"../assets/images/136.jpeg":bt,"../assets/images/137.jpeg":St,"../assets/images/138.jpeg":$t,"../assets/images/139.jpeg":wt,"../assets/images/140.jpeg":kt,"../assets/images/141.jpeg":Ct,"../assets/images/142.jpeg":Mt,"../assets/images/143.jpeg":xt,"../assets/images/144.jpeg":Tt,"../assets/images/145.jpeg":Ut,"../assets/images/146.jpeg":Dt,"../assets/images/147.jpeg":It,"../assets/images/148.jpeg":Ot,"../assets/images/149.jpeg":Ft,"../assets/images/150.jpeg":Lt,"../assets/images/151.jpeg":At,"../assets/images/152.jpeg":Pt,"../assets/images/153.jpeg":Gt,"../assets/images/apartment.jpg":Bt,"../assets/images/Barcelona.jpg":A,"../assets/images/cabin.jpg":P,"../assets/images/cabin2.jpg":Nt,"../assets/images/condominium.jpg":qt,"../assets/images/homepage3.jpg":Rt,"../assets/images/Hongkong.jpg":G,"../assets/images/Istanbul.jpg":B,"../assets/images/lidor.jpg":Ht,"../assets/images/loft.jpg":Et,"../assets/images/London.jpg":Vt,"../assets/images/Maui.jpg":N,"../assets/images/Rome.jpg":Jt,"../assets/images/Villa.jpg":q}[`../assets/images/${e}`],self.location)}},computed:{}},tp={class:"carousele"},ap={class:"block"},ip=["src"],rp=t("div",{class:"like"},null,-1),op={class:"card-preview-line"},np=t("span",{class:"material-icons-outlined star"},"star",-1),lp={class:"card-rate"},gp={class:"reviews-count"},cp={class:"card-preview-line"},dp=t("span",{class:"preview-dot"},"\xB7",-1),pp={class:"card-preview-price"},up=t("span",null," / night",-1);function _p(e,s,a,o,r,i){const n=u("el-carousel-item"),d=u("el-carousel");return a.stay?(l(),c("li",{key:0,class:"card",onClick:s[2]||(s[2]=(...m)=>i.stayClicked&&i.stayClicked(...m))},[t("div",null,[t("div",tp,[t("div",ap,[h(d,{autoplay:!1},{default:I(()=>[(l(!0),c($,null,w(a.stay.imgUrls,m=>(l(),v(n,{key:m},{default:I(()=>[r.isLiked?p("",!0):(l(),c("img",{key:0,class:"like-img",src:Xd,alt:"like",onClick:s[0]||(s[0]=F((...j)=>i.likeCliked&&i.likeCliked(...j),["stop"]))})),r.isLiked?(l(),c("img",{key:1,class:"like-img",src:ep,alt:"like",onClick:s[1]||(s[1]=F((...j)=>i.likeCliked&&i.likeCliked(...j),["stop"]))})):p("",!0),t("img",{class:"card-img",src:i.getImgUrl(m)},null,8,ip)]),_:2},1024))),128))]),_:1})])]),rp]),t("p",op,[np,t("span",lp,g(i.getStayRate(a.stay)),1),t("span",gp,"("+g(i.getReviewCount(a.stay))+")",1)]),t("p",cp,[t("span",null,g(a.stay.propertyType),1),dp,t("span",null,g(a.stay.address.city),1)]),t("p",null,g(a.stay.name),1),t("p",null,[t("span",pp,g(e.$filters.currencyUSD(a.stay.price)),1),up])])):p("",!0)}var mp=_(sp,[["render",_p]]);const hp={props:{stays:{type:Array,required:!0},city:{type:String,required:!0}},data(){return{}},components:{stayPreview:mp},computed:{isLoading(){return this.$store.getters.isLoading},getStaysPreviewTitle(){if(this.city){let s=this.city.split("").map((a,o)=>o?a.toLowerCase():a.toUpperCase()).join("");return`${this.stays.length} stays in ${s}`}return`${this.stays.length} stays`}},methods:{}},yp={key:0,class:"stay-list-container"},vp={class:"loading-img-container"},fp={key:0,class:"loading-img",src:R,alt:"Loading.."},jp={key:0,class:"stays-count"},bp={key:1,class:"card-cont"},Sp={key:2,class:"no-results"};function $p(e,s,a,o,r,i){const n=u("stay-preview");return a.stays?(l(),c("section",yp,[t("div",vp,[i.isLoading?(l(),c("img",fp)):p("",!0)]),a.stays.length&&!i.isLoading?(l(),c("p",jp,g(i.getStaysPreviewTitle),1)):p("",!0),a.stays.length&&!i.isLoading?(l(),c("ul",bp,[(l(!0),c($,null,w(a.stays,d=>(l(),v(n,{key:d._id,stay:d},null,8,["stay"]))),128))])):p("",!0),!a.stays.length&&!i.isLoading?(l(),c("h1",Sp,"No results")):p("",!0)])):p("",!0)}var wp=_(hp,[["render",$p]]);const kp={props:{stays:{type:Array,required:!0},filterByCity:{type:String},filerByType:{type:Array}},data(){return{typeFromParams:{Apartment:!1,Loft:!1,Villa:!1,Cabin:!1},isPriceFiltering:!1,isTypeFiltering:!1,isTypeFromHomepage:!1,min:1,max:1800,isAmenityInFilter:{"Pets allowed":!1,Wifi:!1,"Smoking allowed":!1,"Air conditioning":!1,"Cable TV":!1},isTypeSelected:!1,isPriceSelected:!1,filterBy:{price:[],type:[],city:"",amenities:[],guests:null},options:[{title:"Apartment",description:"Have an entire place to yourself"},{title:"Loft",description:"Enjoy a space with elevated area"},{title:"Villa",description:"Have an impressive house to rest in"},{title:"Cabin",description:"Enjoy an adventure in a remote location"}]}},created(){const e=this.$store.getters.getFilterFromStore;this.filterBy=e,this.filterByCity&&(this.filterBy.city=this.filterByCity),this.filerByType&&(this.filterBy.type=this.filerByType,this.typeFromParams[this.filterBy.type[0]]=!0),this.setFilter()},components:{},methods:{toggleType(e){if(!this.isTypeFromHomepage){if(!this.filterBy.type.includes(e))this.filterBy.type.push(e);else{const s=this.filterBy.type.findIndex(a=>a===e);this.filterBy.type.splice(s,1)}this.isTypeSelected=!!this.filterBy.type.length,this.setTypeFilter()}},togglePriceModal(){this.isPriceFiltering=!this.isPriceFiltering,this.isPriceFiltering&&(this.isTypeFiltering=!1)},toggleTypeModal(){this.isTypeFiltering=!this.isTypeFiltering,this.isTypeFiltering&&(this.isPriceFiltering=!1)},setTypeFilter(){this.min=1,this.max=1800,this.setFilter()},setFilter(){const e=JSON.parse(JSON.stringify(this.filterBy));this.$emit("setFilter",e)},toggleAmenity(e){if(this.filterBy.amenities.includes(e)){const s=this.filterBy.amenities.findIndex(a=>a===e);this.filterBy.amenities.splice(s,1)}else this.filterBy.amenities.push(e);this.isAmenityInFilter[e]=!this.isAmenityInFilter[e],this.setFilter()}},computed:{priceSelected(){return this.filterBy.price[0]>1||this.filterBy.price[1]<1800},getPriceModalText(){return`$${this.filterBy.price[0]} - $${this.filterBy.price[1]}`},getTypeMenuTitle(){return this.filterBy.type.length?(this.isTypeSelected=!0,`${this.filterBy.type}`):(this.isTypeSelected=!1,"Type of place")}}},Cp={class:"explore-filter"},Mp={class:"price-and-type-filters-cont"},xp=t("span",{class:"type-span"},"Price",-1),Tp={key:0,class:"material-icons-outlined"},Up={key:1,class:"material-icons"},Dp={key:0,class:"modal price-modal"},Ip=t("span",{class:"type-span"},"Type of place",-1),Op={key:0,class:"material-icons-outlined"},Fp={key:1,class:"material-icons"},Lp={class:"modal-container"},Ap={class:"line-container"},Pp=["onUpdate:modelValue","onInput"],Gp=t("span",{class:"checkmark"},null,-1),Bp={class:"line-text flex flex-column"},Np={class:"type-modal-type-title"},qp={class:"type-modal-description"},Rp={class:"amenities-container"},Hp={class:"amenity-mini-container"},Ep={class:"amenity-mini-container"};function Vp(e,s,a,o,r,i){const n=u("el-slider");return l(),c("div",Cp,[t("div",Mp,[t("div",{class:y(["explore-filter-item select-type-cont select-price flex align-center",{typeSelected:i.priceSelected}])},[t("span",{onClick:s[0]||(s[0]=(...d)=>i.togglePriceModal&&i.togglePriceModal(...d)),class:"flex align-center"},[xp,r.isPriceFiltering?p("",!0):(l(),c("span",Tp," arrow_drop_down ")),r.isPriceFiltering?(l(),c("span",Up," arrow_drop_up ")):p("",!0)]),r.isPriceFiltering?(l(),c("div",Dp,[t("span",null,g(i.getPriceModalText),1),h(n,{class:"price-range",modelValue:r.filterBy.price,"onUpdate:modelValue":s[1]||(s[1]=d=>r.filterBy.price=d),onInput:i.setFilter,min:r.min,max:r.max,"show-input":!0,range:""},null,8,["modelValue","onInput","min","max"])])):p("",!0)],2),t("div",{class:y(["explore-filter-item select-type-cont",{typeSelected:r.isTypeSelected}])},[t("span",{class:"flex align-center",onClick:s[2]||(s[2]=(...d)=>i.toggleTypeModal&&i.toggleTypeModal(...d))},[Ip,r.isTypeFiltering?p("",!0):(l(),c("span",Op," arrow_drop_down ")),r.isTypeFiltering?(l(),c("span",Fp," arrow_drop_up ")):p("",!0)]),t("div",{class:y([{showTypeFilter:r.isTypeFiltering},"modal type-modal"])},[t("div",Lp,[(l(!0),c($,null,w(r.options,d=>(l(),c("div",{key:d,class:"type-modal-line"},[t("label",Ap,[x(t("input",{"onUpdate:modelValue":m=>r.typeFromParams[d.title]=m,type:"checkbox",onInput:m=>i.toggleType(d.title)},null,40,Pp),[[Sa,r.typeFromParams[d.title]]]),Gp,t("div",Bp,[t("span",Np,g(d.title),1),t("span",qp,g(d.description),1)])])]))),128))]),t("div",{class:"type-modal-btn btn-close",onClick:s[3]||(s[3]=(...d)=>i.toggleTypeModal&&i.toggleTypeModal(...d))}," Close ")],2)],2)]),t("div",Rp,[t("div",Hp,[t("span",{class:y(["amenity wifi",{amenitySelected:r.isAmenityInFilter.Wifi}]),title:"free WiFi connection",onClick:s[4]||(s[4]=d=>i.toggleAmenity("Wifi"))}," WiFi ",2),t("span",{class:y(["amenity",{amenitySelected:r.isAmenityInFilter["Pets allowed"]}]),title:"Pets alowed",onClick:s[5]||(s[5]=d=>i.toggleAmenity("Pets allowed"))}," Pets allowed ",2),t("span",{class:y(["amenity",{amenitySelected:r.isAmenityInFilter["Air conditioning"]}]),title:"Air conditioner",onClick:s[6]||(s[6]=d=>i.toggleAmenity("Air conditioning"))}," A/C ",2)]),t("div",Ep,[t("span",{class:y(["amenity smoking",{amenitySelected:r.isAmenityInFilter["Smoking allowed"]}]),title:"Smoking allowed",onClick:s[7]||(s[7]=d=>i.toggleAmenity("Smoking allowed"))}," Smoking allowed ",2),t("span",{class:y(["amenity",{amenitySelected:r.isAmenityInFilter["Cable TV"]}]),title:"Cable TV",onClick:s[8]||(s[8]=d=>i.toggleAmenity("Cable TV"))}," Cable TV ",2)])])])}var Jp=_(kp,[["render",Vp]]);const Yp={name:"stay-app",data(){return{filterBy:{price:[1,4e3],type:[],city:"",amenities:[],guests:0}}},created(){const e=this.$store.getters.getGuestsNumber;if(this.filterBy.guests=e,this.$route.query.destination){let a=this.$route.query.destination.split("?")[0];this.filterBy.city=a||""}const s=this.$route.query.type;s&&this.filterBy.type.push(s),this.setFilter(this.filterBy)},computed:{getCityFilter(){return this.$store.getters.getCityFilter},getTypeFilter(){return this.$store.getters.getTypeFilter},staysForDisplay(){return this.$store.getters.getStays}},methods:{setFilter(e){this.$store.commit({type:"setFilter",filterBy:e}),this.$store.dispatch({type:"loadStays",filterBy:e})}},components:{stayList:wp,exploreFilter:Jp}},Wp={key:0,class:"main-layout-height app-page stay-app-layout"};function Kp(e,s,a,o,r,i){const n=u("explore-filter"),d=u("stay-list");return i.staysForDisplay?(l(),c("section",Wp,[h(n,{stays:i.staysForDisplay,filerByType:i.getTypeFilter,filterByCity:i.getCityFilter,onSetFilter:i.setFilter},null,8,["stays","filerByType","filterByCity","onSetFilter"]),h(d,{stays:i.staysForDisplay,city:i.getCityFilter},null,8,["stays","city"])])):p("",!0)}var zp=_(Yp,[["render",Kp]]);const oa=$a({history:wa(),scrollBehavior(e,s,a){return{top:0}},routes:[{name:"home-page",path:"/",component:br},{name:"about-page",path:"/about",component:Ur},{name:"stay-app",path:"/stay",component:zp},{name:"stay-details",path:"/stay/:stayId",component:Rc},{name:"dashboard",path:"/dashboard",component:Zd},{name:"my-trips",path:"/mytrips",component:io}]}),Qp={query:U,get:Zp,post:Xp,put:su,remove:tu,postMany:eu};function U(e){var s=JSON.parse(localStorage.getItem(e))||[];return Promise.resolve(s)}function Zp(e,s){return U(e).then(a=>a.find(o=>o._id===s))}function Xp(e,s){return s._id=au(),U(e).then(a=>(a.push(s),E(e,a),s))}function eu(e,s){return U(e).then(a=>(a.push(...s),E(e,a),a))}function su(e,s){return U(e).then(a=>{const o=a.findIndex(r=>r._id===s._id);return a.splice(o,1,s),E(e,a),s})}function tu(e,s){return U(e).then(a=>{const o=a.findIndex(r=>r._id===s);a.splice(o,1),E(e,a)})}function E(e,s){localStorage.setItem(e,JSON.stringify(s))}function au(e=8){for(var s="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<e;o++)s+=a.charAt(Math.floor(Math.random()*a.length));return s}const iu="/api/";var ru=ka.create({withCredentials:!0});const f={get(e,s){return O(e,"GET",s)},post(e,s){return O(e,"POST",s)},put(e,s){return O(e,"PUT",s)},delete(e,s){return O(e,"DELETE",s)}};async function O(e,s="GET",a=null){try{return(await ru({url:`${iu}${e}`,method:s,data:a,params:s==="GET"?a:null})).data}catch(o){throw console.log(`Had Issues ${s}ing to the backend, endpoint: ${e}, with data:`,a),console.dir(o),o.response&&o.response.status===401&&(window.location.assign("/#/login"),oa.push("/login")),o}}const Xt={query:ou,getById:nu,save:gu,remove:lu};async function ou(e=null){return await f.get("stay",e)}async function nu(e){return await f.get(`stay/${e}`)}async function lu(e){return await f.delete(`stay/${e}`)}async function gu(e){return toy._id?await f.put(`stay/${e._id}`,e):await f.post("stay",e)}var cu={state:{stays:[],filterBy:{price:[],type:[],city:"",amenities:[],guests:0}},getters:{getFilterFromStore(e){return JSON.parse(JSON.stringify(e.filterBy))},getStays(e){return JSON.parse(JSON.stringify(e.stays))},getGuestsNumber(e){return e.filterBy.guests},getCityFilter(e){return e.filterBy.city},getTypeFilter(e){return e.filterBy.type},getTopRatedStays(e){if(!e.stays.length)return;let s=JSON.parse(JSON.stringify(e.stays));return s=s.filter(a=>!!a.reviewScores.rating),s.splice(4),s},getStaysForDisplay(e){let s=JSON.parse(JSON.stringify(e.stays));if(!!s.length)return s}},mutations:{setGuestsFilter(e,{guests:s}){e.filterBy.guests=s},setCityFilter(e,{city:s}){e.filterBy.city=s},setFilter(e,{filterBy:s}){e.filterBy=s},setStays(e,{stays:s}){e.stays=s}},actions:{async getStayById(e,{stayId:s}){try{return await Xt.getById(s)}catch{}},async loadStays({commit:e,state:s},{filterBy:a}){e({type:"setIsLoading",isLoading:!0});try{const o=await Xt.query(a);e({type:"setStays",stays:o})}catch(o){console.log("Error while loading stays: ",o)}finally{e({type:"setIsLoading",isLoading:!1})}},filter({commit:e,dispatch:s},{filterBy:a}){e({type:"setFilter",filterBy:a}),s({type:"loadStays"})}}};const du="user_db",Yt="loggedinUser",S={login:pu,logout:yu,signup:hu,getLoggedinUser:na,getUsers:mu,getById:uu,update:_u};window.userService=S;async function pu(e){try{const s=await f.post("auth/login",e);if(s)return Wt(s)}catch{console.log("Error while trying to login")}}async function uu(e){return await f.get(`user/${e}`)}async function _u(e){return e=await f.put(`user/${e._id}`,e),na()._id===e._id&&Wt(e),e}async function mu(){let e=await Qp.query(du);return(!e||!e.length)&&(e=await _createUsers()),e}async function hu(e){const s=await f.post("auth/signup",e);return Wt(s)}async function yu(){sessionStorage.removeItem(Yt)}function Wt(e){return sessionStorage.setItem(Yt,JSON.stringify(e)),e}function na(){return JSON.parse(sessionStorage.getItem(Yt)||"null")}var vu={state:{users:null,loggedInUser:null,isSignUpModal:!1},getters:{getUsers(e){return JSON.parse(JSON.stringify(e.users))},isSignUpModal(e){return e.isSignUpModal},getLoggedInUser(e){return e.loggedInUser}},mutations:{openSignUpModal(e){e.isSignUpModal=!0},closeSignUpModal(e){e.isSignUpModal=!1},setLoggedinUser(e,{loggedInUser:s}){e.loggedInUser=s},setUsers(e,{users:s}){e.users=s},saveUser(e,{user:s}){const a=e.users.findIndex(o=>o._id===s._id);a!==-1?e.users.splice(a,1,s):e.users.unshift(s)}},actions:{async login({commit:e,dispatch:s,getters:a},{user:o}){try{const r=await S.login(o);e({type:"setLoggedinUser",loggedInUser:r});const i={hostId:r._id};await s({type:"loadOrders",filterBy:i})}catch(r){throw console.log("Error while trying to log in",r),new Error("Somethig went wrong. Try again")}},async logout({commit:e,dispatch:s}){await S.logout(),e({type:"setLoggedinUser",loggedInUser:null}),e({type:"setOrders",orders:null})},async getUserById(e,{userId:s}){return await S.getById(s)},async loadUsers({commit:e,state:s}){const a=await S.getUsers();e({type:"setUsers",users:a})},async saveUser({commit:e,dispatch:s},{user:a}){await S.save(a),e({type:"saveUser",user:a}),s({type:"loadUsers"})},getUserFromSession({commit:e}){console.log("store getUserFromSession 1");const s=S.getLoggedinUser();e({type:"setLoggedinUser",loggedInUser:s})}}};const V="order",D={query:fu,addOrder:bu,removeOrder:$u,updateOrder:Su,getById:ju};async function fu(e={}){return await f.get(V,e)}async function ju(e){return await f.get(`order/${e}`)}async function bu(e){return await f.post(V,e)}async function Su(e){return await f.put(`${V}/${e._id}`,e)}async function $u(e){return await f.delete(`${V}/${e}`,e)}var wu={state:{location:"",dates:null,guests:{adults:0,children:0},orders:[],total:0},getters:{getOrders(e){return e.orders},getTotalPrice(e){return e.total},getLocation(e){return e.location},getDates(e){return e.dates},getGuests(e){return b({},e.guests)}},mutations:{clearOrdersFromStore(e){e.orders=[],console.log("orders cleared: ",e.orders)},setTotalPrice(e,{totalPrice:s}){e.total=s},setLocation(e,{location:s}){e.location=s},setDates(e,{dates:s}){e.dates=s},setGuests(e,{guests:s}){e.guests=s},setOrders(e,{orders:s}){e.orders=s},addOrder(e,{order:s}){e.orders.push(s)},updateOrder(e,{order:s}){const a=e.orders.findIndex(o=>o._id===s._id);e.orders.splice(a,1,s)},removeOrder(e,{orderId:s}){const a=e.orders.findIndex(o=>o._id===s);e.orders.splice(a,1)},clearOrderingDetails(e){e.location="",e.dates=null,e.guests={adults:0,children:0},e.total=0}},actions:{async loadOrders({commit:e},{filterBy:s}){e({type:"setIsLoading",isLoading:!0});try{const a=await D.query(s);e({type:"setOrders",orders:a})}catch(a){console.log("err :>> ",a)}finally{e({type:"setIsLoading",isLoading:!1})}},async loadOrdersWithSocket({commit:e},{filterBy:s}){try{const a=await D.query(s);return e({type:"setOrders",orders:a}),a}catch(a){console.log("err :>> ",a)}},async addOrder({commit:e},{order:s}){try{const a=await D.addOrder(s);e({type:"addOrder",order:a})}catch(a){console.log("err :>> ",a)}},async updateOrder({commit:e},{order:s}){try{const a=await D.updateOrder(s);e({type:"updateOrder",order:a})}catch(a){console.log("err :>> ",a)}},async removeOrder({commit:e},{orderId:s}){try{await D.removeOrder(s),e({type:"removeOrder",orderId:s})}catch(a){console.log("err :>> ",a)}}}};const ku=Ca({strict:!0,state:{isLoading:!1},getters:{isLoading(e){return e.isLoading}},mutations:{setIsLoading(e,{isLoading:s}){e.isLoading=s}},actions:{},modules:{stayStore:cu,userStore:vu,orderStore:wu}});const k=Ma(ar);k.config.globalProperties.$filters={currencyUSD(e){return"$"+e},getDateForDisplay(e){const s=new Date,a=new Date(e),o=s.getDay(),r=a.getDay(),i=s-a,n=a.getHours(),d=a.getMinutes();return i<1e3*60?`${(i/1e3).toFixed(0)} seconds ago `:i<1e3*60*60?`${(i/(1e3*60)).toFixed(0)} minutes ago `:i<1e3*60*60*24&&o===r?`Today, ${n<10?"0"+n:n}:${d<10?"0"+d:d} `:i<1e3*60*60*24*2&&(Math.abs(o-r)===1||Math.abs(o-r)===6)?`Yesterday, ${n<10?"0"+n:n}:${d<10?"0"+d:d} `:`${a.getDate()<10?"0"+a.getDate():a.getDate()}/${a.getMonth()<9?"0"+(a.getMonth()+1):a.getMonth()+1},  ${n<10?"0"+n:n}:${d<10?"0"+d:d} `}};k.use(oa);k.use(ku);k.use(xa);k.use(Ta,{load:{key:"AIzaSyAcZWoRl-gITKbAK7tl0NjQ8nJkMb5tF40"}});k.use(Ua);k.mount("#app");
