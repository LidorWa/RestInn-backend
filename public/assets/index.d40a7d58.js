var ya=Object.defineProperty;var zt=Object.getOwnPropertySymbols;var ja=Object.prototype.hasOwnProperty,va=Object.prototype.propertyIsEnumerable;var Qt=(s,e,a)=>e in s?ya(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a,$=(s,e)=>{for(var a in e||(e={}))ja.call(e,a)&&Qt(s,a,e[a]);if(zt)for(var a of zt(e))va.call(e,a)&&Qt(s,a,e[a]);return s};import{_ as u,o as g,c as l,a as t,t as c,r as m,w as U,v as H,b as _,d as f,e as p,f as q,n as y,g as fa,h as sa,i as w,j as v,l as ba,F as k,k as C,m as I,p as $a,q as T,P as aa,C as Sa,s as wa,u as ka,x as Ca,y as Ua,z as Ma,A as xa,B as Ta,D as Ia,E as Da,V as Aa}from"./vendor.4e3aba9d.js";const Oa=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function a(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=a(r);fetch(r.href,i)}};Oa();const La={props:{guests:{type:Object,required:!0}},data(){return{guestSelected:null}},created(){this.guestSelected=$({},this.guests)},methods:{closeGuestsModal(){this.guestSelected=$({},this.guests),this.$emit("closeGuestsModal")},changeCount(s,e){s==="adults"&&this.guestSelected.adults===0&&e===-1||s==="children"&&this.guestSelected.children===0&&e===-1||(s==="children"&&e===1&&this.guestSelected.adults===0&&(this.guestSelected.adults=1),!(s==="adults"&&this.guestSelected.adults===1&&e===-1&&this.guestSelected.children>0)&&(this.guestSelected[s]+=e,this.$emit("onSelectGuests",$({},this.guestSelected))))},onSelectGuests(){this.$emit("closeGuestsModal")}}},Fa={class:"select-guests-modal"},Ga=t("p",{class:"guests-modal-title"},"Select guests",-1),Pa={class:"guests-type-container"},Na=t("span",{class:"guests-type"},"Adults",-1),Ba={class:"guests-counter"},Ra={class:"guests-number"},Ha={class:"guests-type-container"},qa=t("span",{class:"guests-type"},"Children",-1),Ea={class:"guests-counter"},Va={class:"guests-number"},Ja={class:"guests-btns-container"};function Wa(s,e,a,o,r,i){return g(),l("section",Fa,[Ga,t("div",Pa,[Na,t("div",Ba,[t("span",{class:"material-icons guest-count-icon",onClick:e[0]||(e[0]=n=>i.changeCount("adults",-1))}," remove "),t("span",Ra,c(r.guestSelected.adults),1),t("span",{class:"material-icons guest-count-icon",onClick:e[1]||(e[1]=n=>i.changeCount("adults",1))}," add ")])]),t("div",Ha,[qa,t("div",Ea,[t("span",{class:"material-icons guest-count-icon",onClick:e[2]||(e[2]=n=>i.changeCount("children",-1))}," remove "),t("span",Va,c(r.guestSelected.children),1),t("span",{class:"material-icons guest-count-icon",onClick:e[3]||(e[3]=n=>i.changeCount("children",1))}," add ")])]),t("div",Ja,[t("div",{class:"guest-modal-btn",onClick:e[4]||(e[4]=(...n)=>i.onSelectGuests&&i.onSelectGuests(...n))},"OK")])])}var Ya=u(La,[["render",Wa]]),ia="/assets/search.c73f10dd.svg";const Xa={name:"main-search",props:{savedLocation:{type:String},savedDates:{type:Object},savedGuests:{type:Object}},data(){return{headerObserver:null,stickyNav:!1,isSelectingGuests:!1,location:"",dates:null,guests:{adults:0,children:0},isSearchOpen:!1}},components:{selectGuestsModal:Ya},mounted(){window.addEventListener("click",this.clickCheck)},created(){this.location=this.savedLocation,this.dates=this.savedDates,this.guests=this.savedGuests},methods:{formatedDate(s){if(!this.dates)return"Add dates";const e=new Date(this.dates[s]);return`${e.getDate()<10?"0"+e.getDate():e.getDate()}/${e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1}/${e.getFullYear().toString().substring(2)}`},closeGuestsModal(){this.isSelectingGuests=!1},onSelectGuests(s){this.guests=s},onSearch(){if(!this.location&&!this.dates&&this.guests.adults===0)this.isSearchOpen=!0,this.$refs["location-input"].focus();else{let s="/stay";const e=this.location,a=this.guests.adults+this.guests.children;this.$store.commit({type:"setGuestsFilter",guests:a}),e&&(s+=`?destination=${e}`),this.$store.commit({type:"setCityFilter",city:e});const o=this.$route.query.destination;this.$router.push(`${s}`),o&&this.$store.dispatch({type:"loadStays"}),this.isSearchOpen=!1}},clickCheck(s){const e=s.target.className,a=s.target.localName;e==="search-btn"||e==="input"||e==="label"||e==="date-picker-container"||e==="guests-input"||e===""||a==="input"||(this.isSearchOpen=!1)}},computed:{getMainSearchText(){return this.$route.query.destination?this.$route.query.destination:"Where are you going?"},getGuestsNumber(){const s=this.guests.adults+this.guests.children;return s?s===1?"1 guest":`${s} guests`:"Add guests"},toggleSearchBtnClass(){return{"opened-search-icon":this.isSearchOpen,"search-icon":!this.isSearchOpen}}},watch:{dates(){this.$emit("mainSearchClosed",this.location,this.dates)},guests(){this.$emit("mainSearchClosed",this.location,this.dates,this.guests)}},unmounted(){this.$emit("mainSearchClosed",this.location,this.dates,this.guests),window.removeEventListener("click",this.clickCheck)}},Ka={class:"main-search-section"},Za={class:"header-input location-input-top flex flex-column"},za=t("label",{for:"location-input",class:"label location-input"},"Location",-1),Qa=["placeholder"],si=t("span",{class:"search-space"},null,-1),ei={class:"date-picker-container header-input flex"},ti=t("div",{class:"label check-in-label"},"Check in",-1),ai={class:"input add-dates"},ii=t("span",{class:"search-space"},null,-1),ri={class:"header-input date-input check-out-top flex flex-column"},oi=t("div",{class:"label check-out-label"},"Check out",-1),ni={class:"block date-picker"},gi=t("span",{class:"search-space"},null,-1),li={class:"header-input guestsInput flex"},ci={class:"guests-input-container flex flex-column"},di=t("label",{for:"guestsInput",class:"label"},"Guests",-1),pi=t("img",{src:ia,class:"search-btn",alt:"search icon"},null,-1),mi=t("h3",null,"Search",-1),ui=[pi,mi];function _i(s,e,a,o,r,i){const n=m("el-date-picker"),d=m("select-guests-modal");return g(),l("section",Ka,[t("form",{onSubmit:e[5]||(e[5]=q(()=>{},["prevent"])),class:"main-search-container flex align-center btn"},[t("div",Za,[za,U(t("input",{class:"input",ref:"location-input",type:"text","onUpdate:modelValue":e[0]||(e[0]=h=>r.location=h),id:"location-input",name:"location-input",placeholder:i.getMainSearchText,autocomplete:"off",spellcheck:"false"},null,8,Qa),[[H,r.location]])]),si,t("div",ei,[t("div",{onClick:e[1]||(e[1]=h=>s.$refs.focus()),class:"date-input check-in-top flex flex-column"},[ti,t("div",ai,c(i.formatedDate(0)),1)]),ii,t("div",ri,[oi,t("div",{class:"input add-dates",contenteditable:"true",ref:"div"},c(i.formatedDate(1)),513)]),t("div",ni,[_(n,{modelValue:r.dates,"onUpdate:modelValue":e[2]||(e[2]=h=>r.dates=h),type:"daterange","range-separator":"|","start-placeholder":"Add dates","end-placeholder":"Add dates",clearable:!0,"value-format":"x"},null,8,["modelValue"])])]),gi,t("div",li,[t("div",ci,[di,t("div",{class:"input guests-input",onClick:e[3]||(e[3]=h=>r.isSelectingGuests=!r.isSelectingGuests),placeholder:"Add guests"},c(i.getGuestsNumber),1)]),r.isSelectingGuests?(g(),f(d,{key:0,guests:r.guests,onCloseGuestsModal:i.closeGuestsModal,onOnSelectGuests:i.onSelectGuests},null,8,["guests","onCloseGuestsModal","onOnSelectGuests"])):p("",!0),t("button",{onClick:e[4]||(e[4]=q((...h)=>i.onSearch&&i.onSearch(...h),["prevent"])),class:y(["search-icon",i.toggleSearchBtnClass])},ui,2)])],32)])}var hi=u(Xa,[["render",_i]]);const yi={name:"header-user-menu",data(){return{user:null}},methods:{logout(){this.$emit("logout")},signUp(s){this.$emit("openSignUp",s)},goToAboutPage(){this.$router.push("/about")},goToMyTrips(){this.$emit("goToMyTrips")},goToDashBoardPage(){this.$emit("goToDashboard")},goToExplorePage(){this.$emit("goToExplore")}},computed:{isLoggedIn(){return!!this.$store.getters.getLoggedInUser},isHosting(){const s=this.$store.getters.getHostOrders;return s?!!s.length:!1}}},ji={class:"header-user-menu"},vi=t("hr",null,null,-1),fi={key:5},bi=t("p",null,"Help",-1);function $i(s,e,a,o,r,i){return g(),l("section",ji,[i.isLoggedIn?p("",!0):(g(),l("p",{key:0,class:"sign-up-option",onClick:e[0]||(e[0]=n=>i.signUp(!0))}," Sign up ")),i.isLoggedIn?p("",!0):(g(),l("p",{key:1,onClick:e[1]||(e[1]=n=>i.signUp(!1))},"Log in")),i.isLoggedIn?(g(),l("p",{key:2,onClick:e[2]||(e[2]=(...n)=>i.logout&&i.logout(...n))},"Log out")):p("",!0),vi,t("p",{onClick:e[3]||(e[3]=(...n)=>i.goToExplorePage&&i.goToExplorePage(...n)),class:"user-menu-explore"},"Explore"),i.isLoggedIn?(g(),l("p",{key:3,onClick:e[4]||(e[4]=(...n)=>i.goToMyTrips&&i.goToMyTrips(...n))},"My Trips")):p("",!0),i.isLoggedIn?(g(),l("p",{key:4,onClick:e[5]||(e[5]=(...n)=>i.goToDashBoardPage&&i.goToDashBoardPage(...n))},"Dashboard")):p("",!0),i.isHosting?p("",!0):(g(),l("p",fi,"Host your home")),bi,t("p",{onClick:e[6]||(e[6]=(...n)=>i.goToAboutPage&&i.goToAboutPage(...n))},"About")])}var Si=u(yi,[["render",$i]]);const wi={name:"header-user-menu",data(){return{fullname:"",username:"",password:"",isUsernameAlert:!1,isInputAlert:!1,isInvalidAlert:!1}},methods:{toggleNewUser(){this.$emit("toggleNewUser")},async submitSignUp(){const s=this.$store.getters.isNewUser;if(!this.password||!this.username||s&&!this.fullname){this.isInputAlert=!0,this.isUsernameAlert=!1,this.isInvalidAlert=!1;return}const e={username:this.username,password:this.password};if(s){const a={fullname:this.fullname,username:this.username,password:this.password,imgUrl:"https://picsum.photos/200/300"};await this.$store.dispatch({type:"signUp",user:a}),this.cleanData(),this.$emit("closeSignUp")}else try{await this.$store.dispatch({type:"login",user:e}),this.cleanData(),this.$emit("closeSignUp")}catch(a){console.error("Error while trying to log in:",a),this.$router.push("/"),setTimeout(()=>{this.cleanData(),this.isInputAlert=!1,this.isUsernameAlert=!1,this.isInvalidAlert=!0},800)}},closeSignUp(){this.cleanData(),this.$emit("closeSignUp")},cleanData(){this.isInputAlert=!1,this.isUsernameAlert=!1,this.isInvalidAlert=!1,this.username="",this.password=""}},computed:{isNewUser(){return this.$store.getters.isNewUser}}},ki={key:0,class:"sign-up-title"},Ci={key:1,class:"sign-up-title"},Ui=t("h1",{class:"sign-up-welcome"},"Welcome to RestInn",-1),Mi={key:2,class:"input-alert"},xi={key:3,class:"input-alert"},Ti={key:4,class:"input-alert"},Ii={key:5,class:"no-alert"},Di={ref:"inputs",class:"sign-up-inputs-container"};function Ai(s,e,a,o,r,i){return g(),l("section",{class:y(["sign-up-modal",{newUserModal:i.isNewUser}]),onKeyup:e[7]||(e[7]=fa((...n)=>i.submitSignUp&&i.submitSignUp(...n),["enter"]))},[t("span",{class:"material-icons close-sign-up",onClick:e[0]||(e[0]=(...n)=>i.closeSignUp&&i.closeSignUp(...n))}," close "),i.isNewUser?(g(),l("p",ki,"Sign up")):(g(),l("p",Ci,"Log in")),Ui,r.isInputAlert?(g(),l("p",Mi,"All fields are recommended")):p("",!0),r.isUsernameAlert?(g(),l("p",xi," Please enter a valid username address ")):p("",!0),r.isInvalidAlert?(g(),l("p",Ti," Invalid username or password ")):p("",!0),!r.isInputAlert&&!r.isUsernameAlert&&!r.isInvalidAlert?(g(),l("p",Ii," . ")):p("",!0),t("div",Di,[i.isNewUser?U((g(),l("input",{key:0,ref:"fullname",class:"sign-up-input fullname",type:"text","onUpdate:modelValue":e[1]||(e[1]=n=>r.fullname=n),placeholder:"Full name"},null,512)),[[H,r.fullname]]):p("",!0),U(t("input",{ref:"username",class:y(["sign-up-input",{newUserMode:i.isNewUser}]),type:"text","onUpdate:modelValue":e[2]||(e[2]=n=>r.username=n),placeholder:"Username"},null,2),[[H,r.username]]),U(t("input",{class:"sign-up-input",type:"password","onUpdate:modelValue":e[3]||(e[3]=n=>r.password=n),placeholder:"Password"},null,512),[[H,r.password]])],512),i.isNewUser?(g(),l("h3",{key:6,onClick:e[4]||(e[4]=(...n)=>i.toggleNewUser&&i.toggleNewUser(...n))},"I have an account")):(g(),l("h3",{key:7,onClick:e[5]||(e[5]=(...n)=>i.toggleNewUser&&i.toggleNewUser(...n))},"New user")),t("div",{class:"sign-up-continue",onClick:e[6]||(e[6]=(...n)=>i.submitSignUp&&i.submitSignUp(...n))},"Continue")],34)}var ra=u(wi,[["render",Ai]]),Oi="/assets/menu_black_24dp.c4cfbab0.svg",Li="/assets/user-avatar.16ee6c53.svg";const Fi={name:"app-header",props:{headerStatus:{type:String,default:"top"}},data(){return{isShowingHamburger:!1,isSignUp:!1,scrollLoc:0,scrollStatus:"up",isFullSearch:!0,showMainSearch:!0,headerClass:"",isSearch:!0,layout:"main-layout-homepage"}},created(){document.addEventListener("scroll",this.updateScroll)},methods:{goToMyTrips(){this.isShowingHamburger=!1,this.$router.push("/mytrips")},goToDashboard(){this.isShowingHamburger=!1,this.$router.push("/dashboard")},goToExplore(){this.isShowingHamburger=!1,this.$router.push("/stay")},updateScroll(){window.scrollY<=20?this.scrollStatus="up":this.scrollStatus="down",this.setHeaderClass()},logout(){const s=window.location.href.split("/");this.$store.dispatch({type:"logout"}),this.isShowingHamburger=!1,s[4]==="dashboard"?(this.$router.push("/"),setTimeout(()=>{location.reload()},20)):this.$router.push("/")},openSignUp(s){this.$store.commit({type:"openSignUpModal",isNew:s}),this.isShowingHamburger=!1},mainSearchClosed(s,e,a){this.$store.commit({type:"setLocation",location:s}),this.$store.commit({type:"setDates",dates:e}),this.$store.commit({type:"setGuests",guests:a})},toggleShowMainSearch(){this.showMainSearch=!this.showMainSearch},goHome(){this.$router.push("/")},setHeaderClass(){this.$route.path==="/"?(this.layout="main-layout-homepage",this.isSearch=!0,this.scrollStatus==="up"?(this.showMainSearch=!0,this.headerClass="full-search-home"):(this.showMainSearch=!1,this.headerClass="small-search")):this.$route.params.stayId?(this.layout="main-layout",this.isSearch=!0,this.showMainSearch=!1,this.headerClass="small-search"):this.$route.path==="/stay"?(this.layout="main-layout-homepage",this.isSearch=!0,this.showMainSearch=!1,this.headerClass="small-search"):this.$route.path==="/dashboard"?(this.layout="main-layout-homepage",this.isSearch=!1,this.headerClass="on-dashboard",this.showMainSearch=!1):(this.layout="main-layout-homepage",this.isSearch=!1,this.headerClass="small-search")}},computed:{getImageUrl(){const s=this.$store.getters.getLoggedInUser;return(s==null?void 0:s.username)==="111"?new URL("/assets/liran2.5b1bb8a5.jpg",self.location):"https://thispersondoesnotexist.com/image"},isLoggedIn(){return!!this.$store.getters.getLoggedInUser},homepageClass(){let s="";return this.scrollLoc>20&&(s+="scrolled "),this.$route.path==="/"&&(s+="homepage"),s},getSearchText(){return this.$route.query.destination?this.$route.query.destination:"Start your search"},getDates(){return this.$store.getters.getDates},getGuests(){return this.$store.getters.getGuests},getLocation(){return this.$route.query.destination?this.$route.query.destination:""}},watch:{$route(){this.updateScroll()}},components:{mainSearch:hi,headerUserMenu:Si,signUp:ra}},Gi={class:"main-header-section"},Pi={class:"logo-nav-container flex"},Ni=t("i",{class:"fa-brands fa-airbnb"},null,-1),Bi=t("h1",{class:"logo-txt"},"RestInn",-1),Ri=[Ni,Bi],Hi=t("div",{class:"search-icon-small"},[t("img",{src:ia,alt:"search Icon"})],-1),qi={class:"main-header-nav flex align-center"},Ei=v("Explore"),Vi=t("a",{class:"be-host-nav"},"Become a host",-1),Ji=t("img",{class:"hamburger-img",src:Oi,alt:"menu-icon"},null,-1),Wi={key:0,class:"hamburger-avatar",src:Li,alt:"user avatar"},Yi=["src"],Xi={class:"main-search-bar flex justify-center align-center"};function Ki(s,e,a,o,r,i){const n=m("router-link"),d=m("header-user-menu"),h=m("main-search");return g(),l("section",Gi,[t("header",{class:y(["main-header-container flex flex-column align-center",{[r.headerClass]:!0,[r.layout]:!0}])},[t("div",Pi,[t("div",{class:"logo flex align-center",onClick:e[0]||(e[0]=(...j)=>i.goHome&&i.goHome(...j))},Ri),U(t("div",{onClick:e[1]||(e[1]=(...j)=>i.toggleShowMainSearch&&i.toggleShowMainSearch(...j)),class:"mini-search inline-flex justify-center align-center space-between"},[t("div",null,c(i.getSearchText),1),Hi],512),[[sa,!r.showMainSearch&&r.isSearch]]),t("nav",qi,[_(n,{to:"/stay"},{default:w(()=>[Ei]),_:1}),Vi,t("div",{class:"hamburger-user-menu btn flex space-between",onClick:e[2]||(e[2]=j=>r.isShowingHamburger=!0)},[Ji,i.isLoggedIn?(g(),l("img",{key:1,class:"hamburger-avatar user-avater-image",src:i.getImageUrl,alt:"user avatar"},null,8,Yi)):(g(),l("img",Wi))]),_(d,{class:y({showHamburger:r.isShowingHamburger}),onGoToDashboard:i.goToDashboard,onGoToMyTrips:i.goToMyTrips,onOpenSignUp:i.openSignUp,onLogout:i.logout,onGoToExplore:i.goToExplore},null,8,["class","onGoToDashboard","onGoToMyTrips","onOpenSignUp","onLogout","onGoToExplore"])]),r.isShowingHamburger?(g(),l("div",{key:0,class:"outsideUserMenu",onClick:e[3]||(e[3]=j=>r.isShowingHamburger=!1)})):p("",!0)]),U(t("div",Xi,[_(h,{onMainSearchClosed:i.mainSearchClosed,savedLocation:i.getLocation,savedDates:i.getDates,savedGuests:i.getGuests},null,8,["onMainSearchClosed","savedLocation","savedDates","savedGuests"])],512),[[sa,r.showMainSearch&&r.isSearch]])],2)])}var Zi=u(Fi,[["render",Ki]]);const zi={name:"app-footer"},Qi={class:"footer flex justify-center aline-center"},sr=t("div",{class:"rights"},[t("p",null,"\xA9 2022 RestInn")],-1),er=[sr];function tr(s,e,a,o,r,i){return g(),l("section",Qi,er)}var ea=u(zi,[["render",tr]]),ar="/assets/danger.8d5536e9.png",ir="/assets/homepage-small.f3cb9a90.jpeg",rr="/assets/homepage5.4632f9ac.jpeg",or="/assets/host.6ad5359b.png",O="/assets/loading.3a1c7134.gif",nr="/assets/restInn-bcg.e42b9278.png",gr="/assets/restinn-logo-with-slogan.006331ea.jpeg",oa="/assets/success.0520b794.png",lr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAllBMVEVmb3pncHtIWGVnb3pJWWZjbXhIWGZncHpfanVSYGxNXGlZZXFYZHBOXWpLWmdkbnlga3ZPXmpibHdKWmZKWmdMW2hLW2hTYW1VYm5ia3dlbnlOXWlIWWVLW2dNXGhha3ZkbXhQXmtXZHBbZnJRX2xcZ3NbZ3NOXGlcaHNdaHNeaHRjbHdganZha3ddaHRPXWplb3pIWWY/qDS5AAABa0lEQVR4XtXVx66cQBCG0fqrEzlOznNzDu//crYGqcUdcFOyvPG35kigaqrpf8sBjuQRyFRRVBmCFDRZvde/29dZI0NZwawvMReZRCxZ9+LlJFCrTvh4pcICzzt91e4ZYVPzNeE6CFykR4pcgOCGh4JvECLxGIlDhHI7JDYPiU2iR0o2f0H+7Yup8c9XAYJ0jKQIELWeDclsrUgwGPlYCJEeFIUJYXj4QROV2x+GtyVN5Y6LnuHF0dFkqA7e8KECCYJJbCdsYkCi8MAd4QeQMFN0pDAk7bToyOIkAwr+pHEKqEkA1aRn7TunjUIIwJnbuxn358Kzu1vj/qRQ3sd+HfdVEd+XGAXZ3D8/UPNsiBA9sg7Ej9GVwVPLOhi3Tz8MXrSgl55Rr3M7Lez8VXmCJWtBvIQXb1rYG3o/ryheIbhWQ6tWvbdS0r6rC8EHSwl/wF9dsvyF5mI5iR1d+rRSYj878ZV/S8l3/kX0C5XaHY3ryl0IAAAAAElFTkSuQmCC";const cr={props:{message:{type:Object,required:!0}},data(){return{}},methods:{goToPage(){!this.message.from||(this.message.from==="host"?this.$router.push("/mytrips"):this.$router.push("/dashboard"))}},computed:{getIconUrl(){const s=`${this.message.class}.png`;return new URL({"../assets/system-imgs/danger.png":ar,"../assets/system-imgs/homepage-small.jpeg":ir,"../assets/system-imgs/homepage5.jpeg":rr,"../assets/system-imgs/host.png":or,"../assets/system-imgs/loading.gif":O,"../assets/system-imgs/restInn-bcg.png":nr,"../assets/system-imgs/restinn-logo-with-slogan.jpeg":gr,"../assets/system-imgs/success.png":oa,"../assets/system-imgs/user_pic-50x50.png":lr}[`../assets/system-imgs/${s}`],self.location)}}},dr={key:0,class:"flex align-center"},pr=["src"];function mr(s,e,a,o,r,i){return g(),l("section",{onClick:e[0]||(e[0]=(...n)=>i.goToPage&&i.goToPage(...n)),class:"user-msg"},[a.message.text?(g(),l("h1",dr,[t("img",{src:i.getIconUrl,class:y(a.message.class),alt:"icon"},null,10,pr),t("h1",null,c(a.message.text),1)])):p("",!0)])}var Yt=u(cr,[["render",mr]]);const ur="",M=_r();window.socketService=M;M.setup();function _r(){var s=null;return{async setup(){s=ba(ur)},on(a,o){s.on(a,o)},off(a,o=null){!s||(o?s.off(a,o):s.removeAllListeners(a))},emit(a,o){s.emit(a,o)},terminate(){s=null}}}const hr={name:"app",components:{appHeader:Zi,appFooter:ea,AppFooter:ea,signUp:ra,userMessage:Yt},data(){return{headerStatus:"top",scrollY:0}},async created(){this.$store.dispatch({type:"getUserFromSession"});const s=this.$store.getters.getLoggedInUser;s&&M.emit("logged in",s._id),M.on("added order",this.addedNewOrder),M.on("status updated",this.statusUpdated),await this.$store.dispatch({type:"loadStays"})},computed:{isShowingMessage(){return this.$store.getters.isShowingMessage},getMessage(){return this.$store.getters.getMessage},isSignUp(){const s=this.$store.getters.isSignUpModal;return s&&(this.$store.getters.isNewUser||this.$refs.signup.$refs.username.focus()),s}},methods:{async statusUpdated(s){const e=this.$store.getters.getLoggedInUser,a={userId:e==null?void 0:e._id};try{await this.$store.dispatch({type:"loadOrdersWithSocket",filterBy:a});const o={text:`Your order has been ${s.status}`,from:"host",class:s.status==="rejected"?"danger":"success"};this.$store.commit({type:"showMessage",message:o}),setTimeout(()=>{this.$store.commit({type:"hideMessage"})},4500)}catch(o){console.log("Error while loading orders: ",o)}},async addedNewOrder(){const e={hostId:this.$store.getters.getLoggedInUser._id};try{await this.$store.dispatch({type:"loadOrdersWithSocket",filterBy:e})}catch(o){console.log("Error while loading orders: ",o)}const a={text:"You have a new order",from:"user",class:"success"};this.$store.commit({type:"showMessage",message:a}),setTimeout(()=>{this.$store.commit({type:"hideMessage"})},4500)},toggleNewUser(){this.$store.getters.isNewUser?(this.$refs.signup.$refs.fullname.blur(),this.$store.commit({type:"toggleNewUser"}),this.$refs.signup.$refs.username.focus()):(this.$refs.signup.$refs.username.blur(),this.$store.commit({type:"toggleNewUser"}),setTimeout(()=>{this.$refs.signup.$refs.fullname.focus()},10))},closeSignUp(){this.$store.commit({type:"closeSignUpModal"}),this.$router.push("/")}}},yr={class:"app-container"},jr={class:"main-app-container flex flex-column app-container"};function vr(s,e,a,o,r,i){const n=m("sign-up"),d=m("user-message"),h=m("app-header"),j=m("router-view"),Jt=m("app-footer");return g(),l("section",yr,[_(n,{class:y({showSignUp:i.isSignUp}),onCloseSignUp:i.closeSignUp,onToggleNewUser:i.toggleNewUser,ref:"signup"},null,8,["class","onCloseSignUp","onToggleNewUser"]),i.isSignUp?(g(),l("div",{key:0,class:"outsideUserMenu",onClick:e[0]||(e[0]=(...Wt)=>i.closeSignUp&&i.closeSignUp(...Wt))})):p("",!0),_(d,{class:y({showUserMessage:i.isShowingMessage}),message:i.getMessage},null,8,["class","message"]),t("div",jr,[_(h),_(j,{class:"main-layout-height"}),_(Jt)])])}var fr=u(hr,[["render",vr]]),E="/assets/001.56009581.jpeg",V="/assets/002.aba6c90a.jpeg",J="/assets/003.bf107555.jpeg",W="/assets/004.039dd32e.jpeg",Y="/assets/005.c309e5f6.jpeg",X="/assets/006.257c0112.jpeg",K="/assets/007.42af7aac.jpeg",Z="/assets/008.8f6d2ead.jpeg",z="/assets/009.fdc070ea.jpeg",Q="/assets/010.4fde52d4.jpeg",ss="/assets/011.b763f7c0.jpeg",es="/assets/012.3e4eac6a.jpeg",ts="/assets/013.0a610e0c.jpeg",as="/assets/014.8293a76a.jpeg",is="/assets/015.741f77ae.jpeg",rs="/assets/016.788b9ce3.jpeg",os="/assets/017.c386887d.jpeg",ns="/assets/018.94a5ebb5.jpeg",gs="/assets/019.8e96c025.jpeg",ls="/assets/020.c365da97.jpeg",cs="/assets/021.75d3ef8f.jpeg",ds="/assets/022.ca8c152d.jpeg",ps="/assets/023.91d92ad5.jpeg",ms="/assets/024.1b11a4c3.jpeg",us="/assets/025.85878dc3.jpeg",_s="/assets/026.2441e7a7.jpeg",hs="/assets/027.67531186.jpeg",ys="/assets/028.e3b6c229.jpeg",js="/assets/029.61f958f9.jpeg",vs="/assets/030.eccf344d.jpeg",fs="/assets/031.e8e70263.jpeg",bs="/assets/032.26553dbf.jpeg",$s="/assets/033.827159be.jpeg",Ss="/assets/034.e211fe64.jpeg",ws="/assets/035.a354b153.jpeg",ks="/assets/036.4c31a8ee.jpeg",Cs="/assets/037.3a21df06.jpeg",Us="/assets/038.b9f57513.jpeg",Ms="/assets/039.d9834aac.jpeg",xs="/assets/040.f17f240d.jpeg",Ts="/assets/041.17aefa50.jpeg",Is="/assets/042.1316ceec.jpeg",Ds="/assets/043.abf0b02a.jpeg",As="/assets/044.f314352d.jpeg",Os="/assets/045.f7eba795.jpeg",Ls="/assets/046.22584889.jpeg",Fs="/assets/047.06d66353.jpeg",Gs="/assets/048.72f9ff3b.jpeg",Ps="/assets/049.03c73890.jpeg",Ns="/assets/050.a7e3a529.jpeg",Bs="/assets/051.8f7ade7f.jpeg",Rs="/assets/052.6b836ec7.jpeg",Hs="/assets/053.28d6cf2e.jpeg",qs="/assets/054.e770010e.jpeg",Es="/assets/055.dd3648e0.jpeg",Vs="/assets/056.75d33de2.jpeg",Js="/assets/057.05d01841.jpeg",Ws="/assets/058.dd93f7d9.jpeg",Ys="/assets/059.7132f238.jpeg",Xs="/assets/060.6cbc3759.jpeg",Ks="/assets/061.5d90b098.jpeg",Zs="/assets/062.3da3d121.jpeg",zs="/assets/063.15db22a3.jpeg",Qs="/assets/064.7a790972.jpeg",se="/assets/065.f2153245.jpeg",ee="/assets/066.8ebb4e14.jpeg",te="/assets/067.4afb1c56.jpeg",ae="/assets/068.b61f37e3.jpeg",ie="/assets/069.65ad9632.jpeg",re="/assets/070.822f9f43.jpeg",oe="/assets/071.ec43d03f.jpeg",ne="/assets/072.5ba20ef5.jpeg",ge="/assets/073.41404185.jpeg",le="/assets/074.37848ba0.jpeg",ce="/assets/075.e518f478.jpeg",de="/assets/076.82301c95.jpeg",pe="/assets/077.06eacf7f.jpeg",me="/assets/078.22e2c94d.jpeg",ue="/assets/079.52cbb3f7.jpeg",_e="/assets/080.44213bbf.jpeg",he="/assets/081.1e480430.jpeg",ye="/assets/082.4107e8dc.jpeg",je="/assets/083.88f36eef.jpeg",ve="/assets/084.d6cb4ebb.jpeg",fe="/assets/085.43eb74d7.jpeg",be="/assets/086.76b0f28c.jpeg",$e="/assets/087.f20ac33f.jpeg",Se="/assets/088.e63dc5b0.jpeg",we="/assets/089.b3938fed.jpeg",ke="/assets/090.a288cec8.jpeg",Ce="/assets/091.bfe8c696.jpeg",Ue="/assets/092.a8dccdca.jpeg",Me="/assets/093.94e94eef.jpeg",xe="/assets/094.c6c2978a.jpeg",Te="/assets/095.9d5fd11e.jpeg",Ie="/assets/096.e758c6c6.jpeg",De="/assets/097.2a2d2114.jpeg",Ae="/assets/098.cd04c448.jpeg",Oe="/assets/099.efe7d930.jpeg",Le="/assets/100.88d126bd.jpeg",Fe="/assets/101.2111e16d.jpeg",Ge="/assets/102.892fdbaa.jpeg",Pe="/assets/103.3adf4193.jpeg",Ne="/assets/104.3c0251cc.jpeg",Be="/assets/105.df4c5253.jpeg",Re="/assets/106.8ab22027.jpeg",He="/assets/107.0a79e202.jpeg",qe="/assets/108.2f48ba34.jpeg",Ee="/assets/109.0716c9e6.jpeg",Ve="/assets/110.e06f1955.jpeg",Je="/assets/111.d12c9b1f.jpeg",We="/assets/112.d7035de7.jpeg",Ye="/assets/113.4f0e4b81.jpeg",Xe="/assets/114.580202aa.jpeg",Ke="/assets/115.a156f0a3.jpeg",Ze="/assets/116.19cb7a53.jpeg",ze="/assets/117.bc48baa3.jpeg",Qe="/assets/118.fd0d4056.jpeg",st="/assets/119.5bf7fa0f.jpeg",et="/assets/120.054b2482.jpeg",tt="/assets/121.d365d6fa.jpeg",at="/assets/122.09277c65.jpeg",it="/assets/123.a1689260.jpeg",rt="/assets/124.16e98d1a.jpeg",ot="/assets/125.7551a255.jpeg",nt="/assets/126.cf133469.jpeg",gt="/assets/127.7da97c41.jpeg",lt="/assets/128.a1d9aef5.jpeg",ct="/assets/129.7b322acd.jpeg",dt="/assets/130.331b5ecb.jpeg",pt="/assets/131.39b1b425.jpeg",mt="/assets/132.f54aad0e.jpeg",ut="/assets/133.33964f83.jpeg",_t="/assets/134.2bf21739.jpeg",ht="/assets/135.67cf5f1c.jpeg",yt="/assets/136.28cc4430.jpeg",jt="/assets/137.e0e00252.jpeg",vt="/assets/138.07811788.jpeg",ft="/assets/139.617fcc6c.jpeg",bt="/assets/140.7da3b280.jpeg",$t="/assets/141.84d5af48.jpeg",St="/assets/142.a72e34b6.jpeg",wt="/assets/143.e672b28f.jpeg",kt="/assets/144.1e5c762e.jpeg",Ct="/assets/145.45c0988b.jpeg",Ut="/assets/146.44ab1efc.jpeg",Mt="/assets/147.2f7f2484.jpeg",xt="/assets/148.f7af6f32.jpeg",Tt="/assets/149.f7009809.jpeg",It="/assets/150.e4278011.jpeg",Dt="/assets/151.34184565.jpeg",At="/assets/152.2227af41.jpeg",Ot="/assets/153.89baf4c6.jpeg",Lt="/assets/apartment.fce16713.jpg",L="/assets/Barcelona.3ab4f5ce.jpg",F="/assets/cabin.ec34f670.jpg",Ft="/assets/cabin2.cc6a43f7.jpg",Gt="/assets/condominium.e3b1df7c.jpg",Pt="/assets/homepage3.a967e08d.jpg",G="/assets/Hongkong.d6d3fe60.jpg",P="/assets/Istanbul.6e7791b6.jpg",Nt="/assets/lidor.c37f88b3.jpg",Bt="/assets/loft.b77149f6.jpg",Rt="/assets/London.94748fea.jpg",N="/assets/Maui.c68c1a4e.jpg",Ht="/assets/Rome.30211508.jpg",B="/assets/Villa.19dda960.jpg",br="/assets/apartment.fce16713.jpg",$r="/assets/loft.b77149f6.jpg";const Sr={name:"home-page",data(){return{}},methods:{getImgUrl(s){return new URL({"../assets/images/001.jpeg":E,"../assets/images/002.jpeg":V,"../assets/images/003.jpeg":J,"../assets/images/004.jpeg":W,"../assets/images/005.jpeg":Y,"../assets/images/006.jpeg":X,"../assets/images/007.jpeg":K,"../assets/images/008.jpeg":Z,"../assets/images/009.jpeg":z,"../assets/images/010.jpeg":Q,"../assets/images/011.jpeg":ss,"../assets/images/012.jpeg":es,"../assets/images/013.jpeg":ts,"../assets/images/014.jpeg":as,"../assets/images/015.jpeg":is,"../assets/images/016.jpeg":rs,"../assets/images/017.jpeg":os,"../assets/images/018.jpeg":ns,"../assets/images/019.jpeg":gs,"../assets/images/020.jpeg":ls,"../assets/images/021.jpeg":cs,"../assets/images/022.jpeg":ds,"../assets/images/023.jpeg":ps,"../assets/images/024.jpeg":ms,"../assets/images/025.jpeg":us,"../assets/images/026.jpeg":_s,"../assets/images/027.jpeg":hs,"../assets/images/028.jpeg":ys,"../assets/images/029.jpeg":js,"../assets/images/030.jpeg":vs,"../assets/images/031.jpeg":fs,"../assets/images/032.jpeg":bs,"../assets/images/033.jpeg":$s,"../assets/images/034.jpeg":Ss,"../assets/images/035.jpeg":ws,"../assets/images/036.jpeg":ks,"../assets/images/037.jpeg":Cs,"../assets/images/038.jpeg":Us,"../assets/images/039.jpeg":Ms,"../assets/images/040.jpeg":xs,"../assets/images/041.jpeg":Ts,"../assets/images/042.jpeg":Is,"../assets/images/043.jpeg":Ds,"../assets/images/044.jpeg":As,"../assets/images/045.jpeg":Os,"../assets/images/046.jpeg":Ls,"../assets/images/047.jpeg":Fs,"../assets/images/048.jpeg":Gs,"../assets/images/049.jpeg":Ps,"../assets/images/050.jpeg":Ns,"../assets/images/051.jpeg":Bs,"../assets/images/052.jpeg":Rs,"../assets/images/053.jpeg":Hs,"../assets/images/054.jpeg":qs,"../assets/images/055.jpeg":Es,"../assets/images/056.jpeg":Vs,"../assets/images/057.jpeg":Js,"../assets/images/058.jpeg":Ws,"../assets/images/059.jpeg":Ys,"../assets/images/060.jpeg":Xs,"../assets/images/061.jpeg":Ks,"../assets/images/062.jpeg":Zs,"../assets/images/063.jpeg":zs,"../assets/images/064.jpeg":Qs,"../assets/images/065.jpeg":se,"../assets/images/066.jpeg":ee,"../assets/images/067.jpeg":te,"../assets/images/068.jpeg":ae,"../assets/images/069.jpeg":ie,"../assets/images/070.jpeg":re,"../assets/images/071.jpeg":oe,"../assets/images/072.jpeg":ne,"../assets/images/073.jpeg":ge,"../assets/images/074.jpeg":le,"../assets/images/075.jpeg":ce,"../assets/images/076.jpeg":de,"../assets/images/077.jpeg":pe,"../assets/images/078.jpeg":me,"../assets/images/079.jpeg":ue,"../assets/images/080.jpeg":_e,"../assets/images/081.jpeg":he,"../assets/images/082.jpeg":ye,"../assets/images/083.jpeg":je,"../assets/images/084.jpeg":ve,"../assets/images/085.jpeg":fe,"../assets/images/086.jpeg":be,"../assets/images/087.jpeg":$e,"../assets/images/088.jpeg":Se,"../assets/images/089.jpeg":we,"../assets/images/090.jpeg":ke,"../assets/images/091.jpeg":Ce,"../assets/images/092.jpeg":Ue,"../assets/images/093.jpeg":Me,"../assets/images/094.jpeg":xe,"../assets/images/095.jpeg":Te,"../assets/images/096.jpeg":Ie,"../assets/images/097.jpeg":De,"../assets/images/098.jpeg":Ae,"../assets/images/099.jpeg":Oe,"../assets/images/100.jpeg":Le,"../assets/images/101.jpeg":Fe,"../assets/images/102.jpeg":Ge,"../assets/images/103.jpeg":Pe,"../assets/images/104.jpeg":Ne,"../assets/images/105.jpeg":Be,"../assets/images/106.jpeg":Re,"../assets/images/107.jpeg":He,"../assets/images/108.jpeg":qe,"../assets/images/109.jpeg":Ee,"../assets/images/110.jpeg":Ve,"../assets/images/111.jpeg":Je,"../assets/images/112.jpeg":We,"../assets/images/113.jpeg":Ye,"../assets/images/114.jpeg":Xe,"../assets/images/115.jpeg":Ke,"../assets/images/116.jpeg":Ze,"../assets/images/117.jpeg":ze,"../assets/images/118.jpeg":Qe,"../assets/images/119.jpeg":st,"../assets/images/120.jpeg":et,"../assets/images/121.jpeg":tt,"../assets/images/122.jpeg":at,"../assets/images/123.jpeg":it,"../assets/images/124.jpeg":rt,"../assets/images/125.jpeg":ot,"../assets/images/126.jpeg":nt,"../assets/images/127.jpeg":gt,"../assets/images/128.jpeg":lt,"../assets/images/129.jpeg":ct,"../assets/images/130.jpeg":dt,"../assets/images/131.jpeg":pt,"../assets/images/132.jpeg":mt,"../assets/images/133.jpeg":ut,"../assets/images/134.jpeg":_t,"../assets/images/135.jpeg":ht,"../assets/images/136.jpeg":yt,"../assets/images/137.jpeg":jt,"../assets/images/138.jpeg":vt,"../assets/images/139.jpeg":ft,"../assets/images/140.jpeg":bt,"../assets/images/141.jpeg":$t,"../assets/images/142.jpeg":St,"../assets/images/143.jpeg":wt,"../assets/images/144.jpeg":kt,"../assets/images/145.jpeg":Ct,"../assets/images/146.jpeg":Ut,"../assets/images/147.jpeg":Mt,"../assets/images/148.jpeg":xt,"../assets/images/149.jpeg":Tt,"../assets/images/150.jpeg":It,"../assets/images/151.jpeg":Dt,"../assets/images/152.jpeg":At,"../assets/images/153.jpeg":Ot,"../assets/images/apartment.jpg":Lt,"../assets/images/Barcelona.jpg":L,"../assets/images/cabin.jpg":F,"../assets/images/cabin2.jpg":Ft,"../assets/images/condominium.jpg":Gt,"../assets/images/homepage3.jpg":Pt,"../assets/images/Hongkong.jpg":G,"../assets/images/Istanbul.jpg":P,"../assets/images/lidor.jpg":Nt,"../assets/images/loft.jpg":Bt,"../assets/images/London.jpg":Rt,"../assets/images/Maui.jpg":N,"../assets/images/Rome.jpg":Ht,"../assets/images/Villa.jpg":B}[`../assets/images/${s}`],self.location)},onCloseModal(){let s=document.getElementById("id01");window.onclick=function(e){e.target==s&&(s.style.display="none")}},getStayRate(s){if(!!s)return(s.reviewScores.rating/20).toFixed(2)},getReviewCount(s){return s.reviews.length+" reviews"}},computed:{isLoading(){return this.$store.getters.isLoading},topRatedStays(){return this.$store.getters.getTopRatedStays},stays(){return this.$store.getters.getStays}},unmounted(){}},wr={key:0,class:"home-page-container"},kr=t("div",{class:"main-hero-img"},[t("div",{class:"tag-line-container"},[t("h1",{class:"tag tag-line1"},"Choose your Inn."),t("h1",{class:"tag tag-line2"},"We'll do the rest.")])],-1),Cr={class:"main-layout-homepage"},Ur=I('<h1 class="destinations-header">Popular destinations</h1><div class="destinations-container"><a href="#/stay?destination=Barcelona"><img src="'+L+'" alt="Barcelona"><h3>Barcelona</h3></a><a href="#/stay?destination=Hong%20Kong"><img src="'+G+'" alt="Hongkong"><h3>Hong Kong</h3></a><a href="#/stay?destination=Maui"><img src="'+N+'" alt="Maui"><h3>Maui</h3></a><a href="#/stay?destination=Istanbul"><img src="'+P+'" alt="Istanbul"><h3>Istanbul</h3></a></div><h1 class="destinations-header">Select by type</h1><div class="destinations-container"><a href="#/stay?type=Cabin"><img src="'+F+'" alt="Cabin"><h3>Cabin</h3></a><a href="#/stay?type=Apartment"><img src="'+br+'" alt="Apartment"><h3>Apartment</h3></a><a href="#/stay?type=Loft"><img src="'+$r+'" alt="Loft"><h3>Loft</h3></a><a href="#/stay?type=Villa"><img src="'+B+'" alt="Villa"><h3>Villa</h3></a></div><h1 class="destinations-header">Top rated stays</h1>',5),Mr={class:"loading-img-container"},xr={key:0,class:"loading-img",src:O,alt:"Loading.."},Tr={key:0,class:"destinations-container"},Ir=["href"],Dr=["src"],Ar={class:"card-preview-line"},Or=t("span",{class:"material-icons-outlined star"},"star",-1),Lr={class:"card-rate"},Fr={class:"reviews-count"};function Gr(s,e,a,o,r,i){return i.stays?(g(),l("section",wr,[kr,t("div",Cr,[Ur,t("div",Mr,[i.isLoading?(g(),l("img",xr)):p("",!0)]),i.topRatedStays&&!i.isLoading?(g(),l("div",Tr,[(g(!0),l(k,null,C(i.topRatedStays,n=>(g(),l("a",{href:"/#/stay/"+n._id,key:n._id},[t("img",{src:i.getImgUrl(n.imgUrls[0]),alt:"StayImage"},null,8,Dr),t("p",Ar,[Or,t("span",Lr,c(i.getStayRate(n)),1),t("span",Fr,"("+c(i.getReviewCount(n))+")",1)]),t("h4",null,c(n.name),1)],8,Ir))),128))])):p("",!0)])])):p("",!0)}var Pr=u(Sr,[["render",Gr]]);const Nr={},Br={class:"about-page main-layout-height flex direction-column"},Rr={class:"lidor-container"},Hr=t("i",{class:"fa-brands fa-airbnb logo-pink-i"},null,-1),qr=t("h1",{class:"logo-restiin"},"RestInn",-1),Er=[Hr,qr],Vr=t("div",{class:"tag-line-about"},null,-1);function Jr(s,e,a,o,r,i){return g(),l("section",Br,[t("div",Rr,[t("div",{class:"logo-pink flex align-center",onClick:e[0]||(e[0]=(...n)=>s.goHome&&s.goHome(...n))},Er),Vr])])}var Wr=u(Nr,[["render",Jr]]);const Yr={name:"trip-preview",emits:["updateStatus"],props:{trip:{type:Object,required:!0}},data(){return{hostName:""}},async created(){const s=await this.$store.dispatch({type:"getUserById",userId:this.trip.hostId});this.hostName=s.fullname},methods:{goToStay(){this.$router.push(`/stay/${this.trip.stay._id}`)},getFormatedPrice(s){var e=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0});return e.format(s)},updateStatus(s){const e=this.trip._id;this.$emit("updateStatus",{status:s,tripId:e})},timeConversion(s){let e=new Date(s).getDate();e=e<10?"0"+e:e;let a=new Date(s).getMonth()+1;a=a<10?"0"+a:a;let o=new Date(s).getFullYear().toString().substring(2)+"";return`${e}/${a}/${o}`}},computed:{isUnancelable(){const s=this.trip.startDate,e=Date.now(),a=1e3*60*60*72;return s-e<a||this.trip.status==="canceled"||this.trip.status==="rejected"},formattedText(){return this.trip.stay.name.length>15?this.trip.stay.name.slice(0,15)+"...":this.trip.stay.name}}},Xr={class:"dashboard-order-cont"},Kr={class:"date"},Zr={key:0,class:"host"},zr=t("span",{class:"mobile-title"},"Stay: ",-1),Qr={class:"detail trip-dates"},so=t("span",{class:"mobile-title"},"Dates: ",-1),eo={class:"nights"},to={class:"detail guests"},ao=t("span",{class:"mobile-title"},"Guests: ",-1),io={class:"price"},ro={class:"detail total"},oo=t("span",{class:"mobile-title"},"Total trip: ",-1),no=t("span",{class:"mobile-title"},"Status: ",-1),go={class:"detail trip-actions actions-container"},lo=["disabled"];function co(s,e,a,o,r,i){return g(),l("section",Xr,[t("div",Kr,c(i.timeConversion(a.trip.createdAt)),1),r.hostName?(g(),l("div",Zr,c(r.hostName),1)):p("",!0),t("div",{onClick:e[0]||(e[0]=(...n)=>i.goToStay&&i.goToStay(...n)),class:"stay stay-link detail"},[zr,v(" "+c(a.trip.stay.name),1)]),t("div",Qr,[so,v(" "+c(i.timeConversion(a.trip.startDate))+" - "+c(i.timeConversion(a.trip.endDate)),1)]),t("div",eo,c(Math.round(a.trip.totalPrice/a.trip.stay.price)),1),t("div",to,[ao,v(" "+c(a.trip.guests.adults+a.trip.guests.children),1)]),t("div",io,c(i.getFormatedPrice(a.trip.stay.price)),1),t("div",ro,[oo,v(" "+c(i.getFormatedPrice(a.trip.totalPrice)),1)]),t("div",{class:y(["detail status",a.trip.status])},[no,v(" "+c(a.trip.status),1)],2),t("div",go,[t("button",{disabled:i.isUnancelable,onClick:e[1]||(e[1]=n=>i.updateStatus("canceled"))}," Cancel ",8,lo)])])}var po=u(Yr,[["render",co]]);const mo={name:"trip-list",emits:["updateStatus"],props:{trips:{type:Array,required:!0}},methods:{updateStatus(s){this.$emit("updateStatus",s)}},components:{tripPreview:po}},uo={key:0,class:"main-layout-homepage"},_o={key:0,class:"no-orders"},ho={key:1,class:"dashboard-order-cont titles"},yo=I('<div class="dashboard-title date">Date</div><div class="dashboard-title host">Host</div><div class="dashboard-title stay">Stay</div><div class="dashboard-title trip-dates">Dates</div><div class="dashboard-title nights">Nights</div><div class="dashboard-title guests">Guests</div><div class="dashboard-title price">Price / night</div><div class="dashboard-title total">Total</div><div class="dashboard-title status">Status</div><div class="dashboard-title trip-actions">Actions</div>',10),jo=[yo];function vo(s,e,a,o,r,i){const n=m("trip-preview");return a.trips?(g(),l("section",uo,[a.trips.length?(g(),l("div",ho,jo)):(g(),l("h1",_o,"No orders to display")),(g(!0),l(k,null,C(a.trips.slice().reverse(),d=>(g(),f(n,{key:d._id,trip:d,onUpdateStatus:i.updateStatus},null,8,["trip","onUpdateStatus"]))),128))])):p("",!0)}var fo=u(mo,[["render",vo]]);const bo={name:"my-trips",data(){return{isShowingMessage:!1,message:{},loggedInUser:{}}},async created(){this.loggedInUser=this.$store.getters.getLoggedInUser;const s={userId:this.loggedInUser._id};try{await this.$store.dispatch({type:"loadOrders",filterBy:s})}catch(e){console.log("Error while loading trips: ",e)}},computed:{isLoading(){return this.$store.getters.isLoading},getTrips(){if(!!this.$store.getters.getOrders)return JSON.parse(JSON.stringify(this.$store.getters.getOrders))}},methods:{updateStatus({status:s,tripId:e}){const o=this.getTrips.find(i=>i._id===e),r=$({},o);r.status=s,this.$store.dispatch({type:"updateOrder",order:r})}},components:{tripList:fo,userMessage:Yt}},$o={key:0,class:"dashboard"},So=t("h1",{class:"main-layout-homepage title"},"My Trips",-1),wo={class:"loading-img-container"},ko={key:0,class:"loading-img",src:O,alt:"Loading.."};function Co(s,e,a,o,r,i){const n=m("trip-list");return r.loggedInUser?(g(),l("section",$o,[So,t("div",wo,[i.isLoading?(g(),l("img",ko)):p("",!0)]),i.isLoading?p("",!0):(g(),f(n,{key:0,trips:i.getTrips,onUpdateStatus:i.updateStatus},null,8,["trips","onUpdateStatus"]))])):p("",!0)}var Uo=u(bo,[["render",Co]]);const Mo={},xo={class:"magic-btn-container"},To={class:"content"},Io={class:"action-btn"},Do={class:"magic-button-avail-span"};function Ao(s,e,a,o,r,i){return g(),l("div",xo,[(g(),l(k,null,C(10,n=>t("div",{class:"cell",key:n})),64)),t("div",To,[t("button",Io,[t("span",Do,[$a(s.$slots,"default")])])])])}var Xt=u(Mo,[["render",Ao]]),qt="/assets/star-rating.d999979e.svg";const Oo={name:"footer-hero-modal",components:{magicButton:Xt},props:{stay:{type:Object,required:!0}},computed:{fixedScore(){return(this.stay.reviewScores.rating/20).toFixed(2)}}},Lo={class:"footer-hero-modal"},Fo={class:"footer-hero-modal-container"},Go={class:"footer-hero-modal-price-rating"},Po={class:"footer-hero-modal-price"},No=t("span",null,"\xA0 / night",-1),Bo={class:"footer-hero-modal-rating"},Ro=t("img",{src:qt},null,-1),Ho=v("Check availability ");function qo(s,e,a,o,r,i){const n=m("magic-button");return g(),l("section",Lo,[t("div",Fo,[t("div",Go,[t("div",Po,[t("span",null,c(s.$filters.currencyUSD(a.stay.price)),1),No]),t("div",Bo,[Ro,t("span",null,c(i.fixedScore),1)])])]),_(n,{class:"footer-check-availability-container"},{default:w(()=>[Ho]),_:1})])}var Eo=u(Oo,[["render",qo]]);const Vo={name:"images-container",props:{stayImgs:{type:Array,required:!0}},methods:{getImgUrl(s){return new URL({"../../assets/images/001.jpeg":E,"../../assets/images/002.jpeg":V,"../../assets/images/003.jpeg":J,"../../assets/images/004.jpeg":W,"../../assets/images/005.jpeg":Y,"../../assets/images/006.jpeg":X,"../../assets/images/007.jpeg":K,"../../assets/images/008.jpeg":Z,"../../assets/images/009.jpeg":z,"../../assets/images/010.jpeg":Q,"../../assets/images/011.jpeg":ss,"../../assets/images/012.jpeg":es,"../../assets/images/013.jpeg":ts,"../../assets/images/014.jpeg":as,"../../assets/images/015.jpeg":is,"../../assets/images/016.jpeg":rs,"../../assets/images/017.jpeg":os,"../../assets/images/018.jpeg":ns,"../../assets/images/019.jpeg":gs,"../../assets/images/020.jpeg":ls,"../../assets/images/021.jpeg":cs,"../../assets/images/022.jpeg":ds,"../../assets/images/023.jpeg":ps,"../../assets/images/024.jpeg":ms,"../../assets/images/025.jpeg":us,"../../assets/images/026.jpeg":_s,"../../assets/images/027.jpeg":hs,"../../assets/images/028.jpeg":ys,"../../assets/images/029.jpeg":js,"../../assets/images/030.jpeg":vs,"../../assets/images/031.jpeg":fs,"../../assets/images/032.jpeg":bs,"../../assets/images/033.jpeg":$s,"../../assets/images/034.jpeg":Ss,"../../assets/images/035.jpeg":ws,"../../assets/images/036.jpeg":ks,"../../assets/images/037.jpeg":Cs,"../../assets/images/038.jpeg":Us,"../../assets/images/039.jpeg":Ms,"../../assets/images/040.jpeg":xs,"../../assets/images/041.jpeg":Ts,"../../assets/images/042.jpeg":Is,"../../assets/images/043.jpeg":Ds,"../../assets/images/044.jpeg":As,"../../assets/images/045.jpeg":Os,"../../assets/images/046.jpeg":Ls,"../../assets/images/047.jpeg":Fs,"../../assets/images/048.jpeg":Gs,"../../assets/images/049.jpeg":Ps,"../../assets/images/050.jpeg":Ns,"../../assets/images/051.jpeg":Bs,"../../assets/images/052.jpeg":Rs,"../../assets/images/053.jpeg":Hs,"../../assets/images/054.jpeg":qs,"../../assets/images/055.jpeg":Es,"../../assets/images/056.jpeg":Vs,"../../assets/images/057.jpeg":Js,"../../assets/images/058.jpeg":Ws,"../../assets/images/059.jpeg":Ys,"../../assets/images/060.jpeg":Xs,"../../assets/images/061.jpeg":Ks,"../../assets/images/062.jpeg":Zs,"../../assets/images/063.jpeg":zs,"../../assets/images/064.jpeg":Qs,"../../assets/images/065.jpeg":se,"../../assets/images/066.jpeg":ee,"../../assets/images/067.jpeg":te,"../../assets/images/068.jpeg":ae,"../../assets/images/069.jpeg":ie,"../../assets/images/070.jpeg":re,"../../assets/images/071.jpeg":oe,"../../assets/images/072.jpeg":ne,"../../assets/images/073.jpeg":ge,"../../assets/images/074.jpeg":le,"../../assets/images/075.jpeg":ce,"../../assets/images/076.jpeg":de,"../../assets/images/077.jpeg":pe,"../../assets/images/078.jpeg":me,"../../assets/images/079.jpeg":ue,"../../assets/images/080.jpeg":_e,"../../assets/images/081.jpeg":he,"../../assets/images/082.jpeg":ye,"../../assets/images/083.jpeg":je,"../../assets/images/084.jpeg":ve,"../../assets/images/085.jpeg":fe,"../../assets/images/086.jpeg":be,"../../assets/images/087.jpeg":$e,"../../assets/images/088.jpeg":Se,"../../assets/images/089.jpeg":we,"../../assets/images/090.jpeg":ke,"../../assets/images/091.jpeg":Ce,"../../assets/images/092.jpeg":Ue,"../../assets/images/093.jpeg":Me,"../../assets/images/094.jpeg":xe,"../../assets/images/095.jpeg":Te,"../../assets/images/096.jpeg":Ie,"../../assets/images/097.jpeg":De,"../../assets/images/098.jpeg":Ae,"../../assets/images/099.jpeg":Oe,"../../assets/images/100.jpeg":Le,"../../assets/images/101.jpeg":Fe,"../../assets/images/102.jpeg":Ge,"../../assets/images/103.jpeg":Pe,"../../assets/images/104.jpeg":Ne,"../../assets/images/105.jpeg":Be,"../../assets/images/106.jpeg":Re,"../../assets/images/107.jpeg":He,"../../assets/images/108.jpeg":qe,"../../assets/images/109.jpeg":Ee,"../../assets/images/110.jpeg":Ve,"../../assets/images/111.jpeg":Je,"../../assets/images/112.jpeg":We,"../../assets/images/113.jpeg":Ye,"../../assets/images/114.jpeg":Xe,"../../assets/images/115.jpeg":Ke,"../../assets/images/116.jpeg":Ze,"../../assets/images/117.jpeg":ze,"../../assets/images/118.jpeg":Qe,"../../assets/images/119.jpeg":st,"../../assets/images/120.jpeg":et,"../../assets/images/121.jpeg":tt,"../../assets/images/122.jpeg":at,"../../assets/images/123.jpeg":it,"../../assets/images/124.jpeg":rt,"../../assets/images/125.jpeg":ot,"../../assets/images/126.jpeg":nt,"../../assets/images/127.jpeg":gt,"../../assets/images/128.jpeg":lt,"../../assets/images/129.jpeg":ct,"../../assets/images/130.jpeg":dt,"../../assets/images/131.jpeg":pt,"../../assets/images/132.jpeg":mt,"../../assets/images/133.jpeg":ut,"../../assets/images/134.jpeg":_t,"../../assets/images/135.jpeg":ht,"../../assets/images/136.jpeg":yt,"../../assets/images/137.jpeg":jt,"../../assets/images/138.jpeg":vt,"../../assets/images/139.jpeg":ft,"../../assets/images/140.jpeg":bt,"../../assets/images/141.jpeg":$t,"../../assets/images/142.jpeg":St,"../../assets/images/143.jpeg":wt,"../../assets/images/144.jpeg":kt,"../../assets/images/145.jpeg":Ct,"../../assets/images/146.jpeg":Ut,"../../assets/images/147.jpeg":Mt,"../../assets/images/148.jpeg":xt,"../../assets/images/149.jpeg":Tt,"../../assets/images/150.jpeg":It,"../../assets/images/151.jpeg":Dt,"../../assets/images/152.jpeg":At,"../../assets/images/153.jpeg":Ot,"../../assets/images/apartment.jpg":Lt,"../../assets/images/Barcelona.jpg":L,"../../assets/images/cabin.jpg":F,"../../assets/images/cabin2.jpg":Ft,"../../assets/images/condominium.jpg":Gt,"../../assets/images/homepage3.jpg":Pt,"../../assets/images/Hongkong.jpg":G,"../../assets/images/Istanbul.jpg":P,"../../assets/images/lidor.jpg":Nt,"../../assets/images/loft.jpg":Bt,"../../assets/images/London.jpg":Rt,"../../assets/images/Maui.jpg":N,"../../assets/images/Rome.jpg":Ht,"../../assets/images/Villa.jpg":B}[`../../assets/images/${s}`],self.location)}}},Jo={key:0,class:"imgs-container-grid"},Wo=["src"],Yo=["src"],Xo=["src"],Ko=["src"],Zo=["src"];function zo(s,e,a,o,r,i){return a.stayImgs?(g(),l("section",Jo,[t("img",{class:"grid-item1",src:i.getImgUrl(a.stayImgs[0])},null,8,Wo),t("img",{class:"grid-item2",src:i.getImgUrl(a.stayImgs[1])},null,8,Yo),t("img",{class:"grid-item3",src:i.getImgUrl(a.stayImgs[2])},null,8,Xo),t("img",{class:"grid-item4",src:i.getImgUrl(a.stayImgs[3])},null,8,Ko),t("img",{class:"grid-item5",src:i.getImgUrl(a.stayImgs[4])},null,8,Zo)])):p("",!0)}var Qo=u(Vo,[["render",zo]]),sn="/assets/share.3422753b.svg",en="/assets/like.74851f54.svg";const tn={name:"secondary-header",props:{stay:{type:Object,required:!0}},methods:{goToReviews(){this.$emit("goToReviews")},goToMap(){this.$emit("goToMap")}}},an={class:"secondary-header"},rn={class:"stay-name"},on={class:"below-stay-name"},nn={class:"rating-reviews-location"},gn=t("img",{class:"star-rating-svg",src:qt},null,-1),ln=t("span",null,"\xB7",-1),cn=t("span",{class:"dot-above-pictures"},"\xB7",-1),dn=I('<div class="share-save"><div class="share"><img class="share-svg" src="'+sn+'"><span>Share</span></div><div class="save-like"><img class="like-svg" src="'+en+'"><span>Save</span></div></div>',1);function pn(s,e,a,o,r,i){return g(),l("section",an,[t("div",rn,[t("h1",null,c(a.stay.name),1)]),t("div",on,[t("div",nn,[gn,t("span",null,c(a.stay.reviewScores.rating/20),1),ln,t("span",{onClick:e[0]||(e[0]=(...n)=>i.goToReviews&&i.goToReviews(...n))},c(a.stay.reviews.length)+" reviews",1),cn,t("span",{class:"location-above-pictures",onClick:e[1]||(e[1]=(...n)=>i.goToMap&&i.goToMap(...n))},c(a.stay.address.city)+", "+c(a.stay.address.country),1)]),dn])])}var mn=u(tn,[["render",pn]]),un="/assets/great-comm.5b85fba5.svg",_n="/assets/great-location.bacce6cb.svg",hn="/assets/self-checkin.0d413013.svg",na="/assets/wifi.5d57e009.svg";const yn={name:"selected-popular-amenities",props:{stay:{type:Object,required:!0}}},jn={class:"selected-popular-amenities"},vn={class:"popular-amenities"},fn=t("div",{class:"popular-amenities-svg"},[t("img",{src:un})],-1),bn={class:"popular-amenities-text"},$n=t("div",{class:"popular-amenities-title"},"Great communication",-1),Sn={class:"popular-amenities-description"},wn=I('<div class="popular-amenities"><div class="popular-amenities-svg"><img src="'+_n+'"></div><div class="popular-amenities-text"><div class="popular-amenities-title">Great location</div><div class="popular-amenities-description">100% of recent guests gave the location a 5-star rating</div></div></div><div class="popular-amenities"><div class="popular-amenities-svg"><img src="'+hn+'"></div><div class="popular-amenities-text"><div class="popular-amenities-title">Self check-in</div><div class="popular-amenities-description">Check yourself in with the lockbox</div></div></div><div class="popular-amenities"><div class="popular-amenities-svg"><img src="'+na+'"></div><div class="popular-amenities-text"><div class="popular-amenities-title">Wifi</div><div class="popular-amenities-description">Guests often search for this popular amenity</div></div></div>',3);function kn(s,e,a,o,r,i){return g(),l("section",jn,[t("div",vn,[fn,t("div",bn,[$n,t("div",Sn,"100% of recent guests rated "+c(a.stay.host.fullname)+" 5-star in communication",1)])]),wn])}var Cn=u(yn,[["render",kn]]),Un="/assets/air-conditioning.5849794e.svg",Mn="/assets/courtyard-view.5b7299e6.svg",xn="/assets/dedicated-workspace.a5b62cbf.svg",Tn="/assets/elevator.e84742a7.svg",In="/assets/free-parking.2a0276f3.svg",Dn="/assets/kitchen.3f0e0ba9.svg",An="/assets/long-term.54e294a1.svg",On="/assets/pets-allowed.f17cb476.svg",Ln="/assets/refrigerator.9c0f9c49.svg";const Fn={name:"amenities-list"},Gn={class:"main-amenities-section"},Pn=I('<div class="amenities-list-title"><h1>What this place offers</h1></div><section class="amenities-list"><div class="amenity-container"><div class="amenity-item"><img src="'+Un+'"><span>Air-conditioning</span></div><div class="amenity-item"><img src="'+Mn+'"><span>Courtyard view</span></div><div class="amenity-item"><img src="'+xn+'"><span>Dedicated workspace</span></div><div class="amenity-item"><img src="'+Tn+'"><span>Elevator</span></div><div class="amenity-item"><img src="'+In+'"><span>Free parking</span></div><div class="amenity-item"><img src="'+Dn+'"><span>Kitchen</span></div><div class="amenity-item"><img src="'+An+'"><span>Long-term stay allowed</span></div><div class="amenity-item"><img src="'+On+'"><span>Pets allowed</span></div><div class="amenity-item"><img src="'+Ln+'"><span>Refrigerator</span></div><div class="amenity-item"><img src="'+na+'"><span>Wifi</span></div></div></section>',2),Nn=[Pn];function Bn(s,e,a,o,r,i){return g(),l("section",Gn,Nn)}var Rn=u(Fn,[["render",Bn]]),Hn="/assets/image1.a7c66d5d.jpg",qn="/assets/image10.f3eb493d.jpg",En="/assets/image11.8bae3fe3.jpg",Vn="/assets/image12.d6524f8b.jpg",Jn="/assets/image13.e1ccf539.jpg",Wn="/assets/image14.d8f2b320.jpg",Yn="/assets/image15.79929dc1.jpg",Xn="/assets/image2.6cf88ec8.jpg",Kn="/assets/image3.a71ec5fa.jpg",Zn="/assets/image4.a7fae379.jpg",zn="/assets/image5.409d98e5.jpg",Qn="/assets/image6.e7f6e7ac.jpg",sg="/assets/image7.f64f5ff1.jpg",eg="/assets/image8.ec686805.jpg",tg="/assets/image9.ccabc461.jpg",ag="/assets/lidor.c37f88b3.jpg",ig="/assets/liran.73808387.jpg",rg="/assets/tal.0be301d6.jpg",og="/assets/tom.3766c07f.jpg",ga="/assets/show-more.d0d96e91.svg";const ng={name:"review-preview",props:{review:{type:Object,required:!0},idx:{type:Number,required:!0}},data(){return{isLongTxt:!1,guestsImages:["tal.jpg","tom.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg"]}},methods:{},computed:{getImageUrl(){return new URL({"../../assets/user-images/image1.jpg":Hn,"../../assets/user-images/image10.jpg":qn,"../../assets/user-images/image11.jpg":En,"../../assets/user-images/image12.jpg":Vn,"../../assets/user-images/image13.jpg":Jn,"../../assets/user-images/image14.jpg":Wn,"../../assets/user-images/image15.jpg":Yn,"../../assets/user-images/image2.jpg":Xn,"../../assets/user-images/image3.jpg":Kn,"../../assets/user-images/image4.jpg":Zn,"../../assets/user-images/image5.jpg":zn,"../../assets/user-images/image6.jpg":Qn,"../../assets/user-images/image7.jpg":sg,"../../assets/user-images/image8.jpg":eg,"../../assets/user-images/image9.jpg":tg,"../../assets/user-images/lidor.jpg":ag,"../../assets/user-images/liran.jpg":ig,"../../assets/user-images/tal.jpg":rg,"../../assets/user-images/tom.jpg":og}[`../../assets/user-images/${this.guestsImages[this.idx]}`],self.location)},formattedDate(){let s=["January","February","March","April","May","June","July","August","September","October","November","December"],e=new Date(this.review.at).getFullYear();return`${s[new Date(this.review.at).getMonth()]} ${e}`},formattedText(){return this.review.txt.length>200?(this.isLongTxt=!0,this.review.txt.slice(0,200)+"..."):this.review.txt}},created(){}},gg={class:"review-preview",id:"review-section"},lg={class:"review-guest-name-date"},cg=["src"],dg={class:"name-and-date"},pg={class:"review-text"},mg={key:0,class:"review-show-more"},ug=t("span",null,"Show more",-1),_g=t("img",{src:ga},null,-1),hg=[ug,_g];function yg(s,e,a,o,r,i){return g(),l("section",gg,[t("div",lg,[t("img",{src:i.getImageUrl,alt:"User picture",onerror:"this.onerror=null; this.src='https://thispersondoesnotexist.com/image'"},null,8,cg),t("div",dg,[t("span",null,c(a.review.by.fullname),1),t("span",null,c(i.formattedDate),1)])]),t("div",pg,c(i.formattedText),1),r.isLongTxt?(g(),l("div",mg,hg)):p("",!0)])}var jg=u(ng,[["render",yg]]);const vg={name:"review-list",props:{reviews:{type:Array,required:!0}},data(){return{}},components:{reviewPreview:jg},computed:{}},fg={key:0,class:"review-list"},bg={class:"reviews-list-ul"};function $g(s,e,a,o,r,i){const n=m("review-preview");return a.reviews?(g(),l("section",fg,[t("ul",bg,[(g(!0),l(k,null,C(a.reviews,(d,h)=>(g(),l("li",{key:d._id},[_(n,{idx:h,review:d},null,8,["idx","review"])]))),128))])])):p("",!0)}var Sg=u(vg,[["render",$g]]);const wg={props:{reviewScores:{type:Object,required:!0}}},kg={key:0,class:"score-scales"},Cg={class:"scores-mini-container"},Ug={class:"reviews-scores"},Mg=t("span",null,"Cleaniness",-1),xg={class:"bar-and-score"},Tg={class:"scale-threshold"},Ig={class:"score-number"},Dg={class:"reviews-scores"},Ag=t("span",null,"Communication",-1),Og={class:"bar-and-score"},Lg={class:"scale-threshold"},Fg={class:"score-number"},Gg={class:"reviews-scores"},Pg=t("span",null,"Check-in",-1),Ng={class:"bar-and-score"},Bg={class:"scale-threshold"},Rg={class:"score-number"},Hg={class:"scores-mini-container"},qg={class:"reviews-scores"},Eg=t("span",null,"Accuracy",-1),Vg={class:"bar-and-score"},Jg={class:"scale-threshold"},Wg={class:"score-number"},Yg={class:"reviews-scores"},Xg=t("span",null,"Location",-1),Kg={class:"bar-and-score"},Zg={class:"scale-threshold"},zg={class:"score-number"},Qg={class:"reviews-scores"},sl=t("span",null,"Value",-1),el={class:"bar-and-score"},tl={class:"scale-threshold"},al={class:"score-number"};function il(s,e,a,o,r,i){return a.reviewScores?(g(),l("section",kg,[t("div",Cg,[t("div",Ug,[Mg,t("div",xg,[t("div",Tg,[t("div",{style:T(`width:${a.reviewScores.cleanliness*9}px;`)},null,4)]),t("div",Ig,c((a.reviewScores.cleanliness/2).toFixed(1)),1)])]),t("div",Dg,[Ag,t("div",Og,[t("div",Lg,[t("div",{style:T(`width:${a.reviewScores.communication*9}px;`)},null,4)]),t("div",Fg,c((a.reviewScores.communication/2).toFixed(1)),1)])]),t("div",Gg,[Pg,t("div",Ng,[t("div",Bg,[t("div",{style:T(`width:${a.reviewScores.checkin*9}px;`)},null,4)]),t("div",Rg,c((a.reviewScores.checkin/2).toFixed(1)),1)])])]),t("div",Hg,[t("div",qg,[Eg,t("div",Vg,[t("div",Jg,[t("div",{style:T(`width:${a.reviewScores.accuracy*9}px;`)},null,4)]),t("div",Wg,c((a.reviewScores.accuracy/2).toFixed(1)),1)])]),t("div",Yg,[Xg,t("div",Kg,[t("div",Zg,[t("div",{style:T(`width:${a.reviewScores.location*9}px;`)},null,4)]),t("div",zg,c((a.reviewScores.location/2).toFixed(1)),1)])]),t("div",Qg,[sl,t("div",el,[t("div",tl,[t("div",{style:T(`width:${a.reviewScores.value*9}px;`)},null,4)]),t("div",al,c((a.reviewScores.value/2).toFixed(1)),1)])])])])):p("",!0)}var rl=u(wg,[["render",il]]);const ol={name:"reviews-section",props:{stay:{type:Object,required:!0}},components:{reviewList:Sg,scoreScales:rl},data(){return{}},computed:{getReviewsForDisplay(){return this.stay.reviews.length>6?this.stay.reviews.slice(0,6):this.stay.reviews.slice()}}},nl={key:0,class:"reviews-section",ref:"reviews-section"},gl={class:"reviews-and-rating"},ll=t("img",{src:qt},null,-1);function cl(s,e,a,o,r,i){const n=m("score-scales"),d=m("review-list");return a.stay?(g(),l("section",nl,[t("section",gl,[t("div",null,[ll,t("span",null,c(a.stay.reviewScores.rating/20)+" \xB7 "+c(a.stay.reviews.length)+" reviews",1)]),_(n,{reviewScores:a.stay.reviewScores},null,8,["reviewScores"])]),_(d,{reviews:i.getReviewsForDisplay},null,8,["reviews"])],512)):p("",!0)}var dl=u(ol,[["render",cl]]);const pl={props:{guests:{type:Object,required:!0},capacity:{type:Number,required:!0}},name:"header-user-menu",data(){return{guestSelected:null,newModalClass:"guests-modal-in-stay-details",capacityAlert:!1,adultAlert:!1}},created(){this.guests.adults+this.guests.children>this.capacity?(this.capacityAlert=!0,setTimeout(()=>{this.capacityAlert=!1},3500),this.guestSelected={adults:this.capacity,children:0},this.$emit("onSelectGuests",$({},this.guestSelected))):this.guestSelected=$({},this.guests)},methods:{closeGuestsModal(){this.guestSelected=$({},this.guests),this.$emit("closeGuestsModal")},changeCount(s,e){const a=this.guestSelected.adults,o=this.guestSelected.children;if(s==="adults"&&a===1&&e===-1){this.capacityAlert=!1,this.adultAlert=!0,setTimeout(()=>{this.adultAlert=!1},2500);return}if(!(s==="children"&&o===0&&e===-1)){if(a+o===this.capacity&&e===1){this.adultAlert=!1,this.capacityAlert=!0,setTimeout(()=>{this.capacityAlert=!1},2500);return}this.guestSelected[s]+=e,this.$emit("onSelectGuests",$({},this.guestSelected))}},onSelectGuests(){this.$emit("closeGuestsModal")}}},ml={class:"details-select-guests-modal"},ul=t("p",{class:"details-guests-modal-title"},"Select guests",-1),_l={key:0,class:"no-alert"},hl={key:1,class:"input-alert"},yl={key:2,class:"input-alert"},jl={class:"details-guests-type-container"},vl=t("span",{class:"details-guests-type"},"Adults",-1),fl={class:"details-guests-counter"},bl={class:"details-guests-number"},$l={class:"details-guests-type-container"},Sl=t("span",{class:"details-guests-type"},"Children",-1),wl={class:"details-guests-counter"},kl={class:"details-guests-number"},Cl={class:"details-guests-btns-container"};function Ul(s,e,a,o,r,i){return g(),l("section",ml,[ul,!r.capacityAlert&&!r.adultAlert?(g(),l("p",_l,"hey")):p("",!0),r.capacityAlert?(g(),l("p",hl," Please select up to "+c(a.capacity)+" guests ",1)):p("",!0),r.adultAlert?(g(),l("p",yl,"Please select at least 1 adult")):p("",!0),t("div",jl,[vl,t("div",fl,[t("span",{class:"material-icons details-guest-count-icon",onClick:e[0]||(e[0]=n=>i.changeCount("adults",-1))}," remove "),t("span",bl,c(r.guestSelected.adults),1),t("span",{class:"material-icons details-guest-count-icon",onClick:e[1]||(e[1]=n=>i.changeCount("adults",1))}," add ")])]),t("div",$l,[Sl,t("div",wl,[t("span",{class:"material-icons details-guest-count-icon",onClick:e[2]||(e[2]=n=>i.changeCount("children",-1))}," remove "),t("span",kl,c(r.guestSelected.children),1),t("span",{class:"material-icons details-guest-count-icon",onClick:e[3]||(e[3]=n=>i.changeCount("children",1))}," add ")])]),t("div",Cl,[t("div",{class:"guest-modal-btn",onClick:e[4]||(e[4]=(...n)=>i.onSelectGuests&&i.onSelectGuests(...n))},"Close")])])}var Ml=u(pl,[["render",Ul]]);const xl={name:"hero-modal",props:{stay:{type:Object,required:!0},guestsFromStore:{type:Object,required:!0}},data(){return{dates:null,isSelectingGuests:!1,isSelectingDates:!1,total:""}},components:{detailsSelectGuestsModal:Ml,magicButton:Xt},created(){this.dates=this.getDates;const s=this.guestsFromStore;s.adults+s.children||this.onSelectGuests({adults:1,children:0})},methods:{onCheckAvailability(){this.$emit("onCheckAvailability")},formatedDate(s){if(!this.dates)return"Add dates";const e=new Date(this.dates[s]);return`${e.getDate()<10?"0"+e.getDate():e.getDate()}/${e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1}/${e.getFullYear().toString().substring(2)}`},onSelectGuests(s){this.$store.commit({type:"setGuests",guests:s})},closeGuestsModal(){this.isSelectingGuests=!1}},computed:{getCheckDetails(){const s=this.dates,e=this.stay.price,a=Math.round((s[1]-s[0])/(24*60*60*1e3)),o=e*a;return this.total=`$${o}`,this.$store.commit({type:"setTotalPrice",totalPrice:o}),`$${e} x ${a} nights`},isDatesSet(){return!!this.dates},getGuestsForDisplay(){const{adults:s}=this.guestsFromStore,{children:e}=this.guestsFromStore;return e+s?e?e===1?s===1?"1 adult, 1 child":`${s} adults, 1 child`:s===1?`1 adult, ${e} children`:`${s} adults, ${e} children`:s===1?"1 adult":`${s} adults`:"Add guests"},getLocation(){return this.$store.getters.getLocation},getDates(){return this.$store.getters.getDates},fixedScore(){return(this.stay.reviewScores.rating/20).toFixed(2)}},watch:{dates(){this.$store.commit({type:"setDates",dates:this.dates})}}},Tl={class:"hero-modal-wrapper"},Il={class:"hero-modal-header"},Dl={class:"hero-modal-price"},Al=t("span",null,"\xA0 / night",-1),Ol={class:"hero-modal-rating-reviews"},Ll=t("span",null,[t("img",{src:qt})],-1),Fl={class:"hero-modal-selection"},Gl={class:"hero-modal-check-container"},Pl=t("div",null,"CHECK-IN",-1),Nl=t("div",null,"CHECK-OUT",-1),Bl={class:"block"},Rl=t("span",{class:"demonstration"},"Default",-1),Hl=t("label",{for:"hero-modal-guest-picker"},"GUESTS",-1),ql=v("Check availability "),El={key:0,class:"summary-details-container"},Vl=t("p",{class:"no-charge"},"You won't be charged yet",-1),Jl={class:"total-price-details"},Wl={class:"total-price-item"},Yl=t("div",{class:"total-price-details"},[t("span",{class:"total-price-item"},"Service fee"),t("span",null,"$0")],-1),Xl={class:"total-price-details total"},Kl=t("span",{class:"total-price-item"},"Total",-1);function Zl(s,e,a,o,r,i){const n=m("details-select-guests-modal"),d=m("el-date-picker"),h=m("magic-button");return g(),l("section",{class:y(["hero-modal",{heroWithDates:!i.isDatesSet}])},[t("section",Tl,[r.isSelectingGuests?(g(),l("div",{key:0,class:"outsideDetailsGuests",onClick:e[0]||(e[0]=j=>r.isSelectingGuests=!1)})):p("",!0),t("section",{class:y(["hero-modal-container",{showSummary:!i.isDatesSet}])},[r.isSelectingGuests?(g(),f(n,{key:0,guests:a.guestsFromStore,capacity:a.stay.capacity,onCloseGuestsModal:i.closeGuestsModal,onOnSelectGuests:i.onSelectGuests},null,8,["guests","capacity","onCloseGuestsModal","onOnSelectGuests"])):p("",!0),t("section",Il,[t("div",Dl,[t("span",null,c(s.$filters.currencyUSD(a.stay.price)),1),Al]),t("div",Ol,[Ll,t("span",null,c(i.fixedScore)+" \xB7",1),t("span",null,c(a.stay.reviews.length)+" reviews",1)])]),t("section",Fl,[t("div",Gl,[t("div",{class:"hero-modal-check-in",onClick:e[1]||(e[1]=j=>r.isSelectingDates=!r.isSelectingDates)},[Pl,t("div",null,c(i.formatedDate(0)),1)]),t("div",{class:"hero-modal-check-out",onClick:e[2]||(e[2]=j=>r.isSelectingDates=!r.isSelectingDates)},[Nl,t("div",null,c(i.formatedDate(1)),1)]),t("div",Bl,[Rl,_(d,{ref:"modal-date-picker",modelValue:r.dates,"onUpdate:modelValue":e[3]||(e[3]=j=>r.dates=j),type:"daterange","start-placeholder":"CHECK-IN","end-placeholder":"CHECKOUT",class:"date-picker","value-format":"x"},null,8,["modelValue"])])]),t("div",{class:"hero-modal-guests",onClick:e[4]||(e[4]=j=>r.isSelectingGuests=!0)},[Hl,t("div",null,c(i.getGuestsForDisplay),1)]),_(h,{onClick:i.onCheckAvailability,class:"check-availability-container"},{default:w(()=>[ql]),_:1},8,["onClick"]),i.isDatesSet?(g(),l("div",El,[Vl,t("div",Jl,[t("span",Wl,c(i.getCheckDetails),1),t("span",null,c(r.total),1)]),Yl,t("div",Xl,[Kl,t("span",null,c(r.total),1)])])):p("",!0)])],2)])],2)}var zl=u(xl,[["render",Zl]]);const Ql={props:{address:{type:Object,required:!0}},name:"App",data(){return{center:{lat:32.091996,lng:34.959813}}},created(){this.center.lat=this.address.location.lan,this.center.lng=this.address.location.lat}},sc={class:"map-address"};function ec(s,e,a,o,r,i){const n=m("GMapMarker"),d=m("GMapMap");return g(),l("section",null,[t("h1",sc,c(a.address.street),1),r.center?(g(),f(d,{key:0,center:r.center,zoom:15,"map-type-id":"terrain"},{default:w(()=>[_(n,{position:r.center},null,8,["position"])]),_:1},8,["center"])):p("",!0)])}var tc=u(Ql,[["render",ec]]);const ac={name:"order-alert-modal",props:{alertModalMessage:{type:String,reqired:!0}},data(){return{}},methods:{closeModal(){this.$emit("closeModal")}},closeSignUp(){},cleanData(){}},ic={class:"order-alert-modal"},rc=t("p",{class:"sign-up-title"},"Please note",-1),oc={class:"sign-up-welcome"};function nc(s,e,a,o,r,i){return g(),l("section",ic,[rc,t("h1",oc,c(a.alertModalMessage),1),t("div",{class:"sign-up-continue",onClick:e[0]||(e[0]=(...n)=>i.closeModal&&i.closeModal(...n))},"Close")])}var gc=u(ac,[["render",nc]]);const lc={name:"order-alert-modal",props:{alertModalMessage:{type:String,reqired:!0}},data(){return{}},methods:{login(){this.$emit("login")},async demo(){const s={username:"guest",password:"Leo"};await this.$store.dispatch({type:"login",user:s}),this.$emit("demo")},closeModal(){this.$emit("closeModal")}},closeSignUp(){},cleanData(){}},cc={class:"login-alert-modal"},dc=t("p",{class:"sign-up-title"},"Please note",-1),pc=t("h1",{class:"sign-up-welcome"},"Log in to proceed",-1),mc={class:"modal-btns-container"};function uc(s,e,a,o,r,i){return g(),l("section",cc,[t("span",{class:"material-icons close-sign-up",onClick:e[0]||(e[0]=(...n)=>i.closeModal&&i.closeModal(...n))}," close "),dc,pc,t("div",mc,[t("div",{class:"sign-up-continue",onClick:e[1]||(e[1]=(...n)=>i.login&&i.login(...n))},"Log in"),t("div",{class:"sign-up-continue",onClick:e[2]||(e[2]=(...n)=>i.demo&&i.demo(...n))},"Guest user")])])}var _c=u(lc,[["render",uc]]);const hc={name:"order-confirmation-modal",components:{magicButton:Xt},props:{stay:{type:Object,reqired:!0},dates:{type:Array,reqired:!0},guests:{type:Object,reqired:!0},user:{type:Object,reqired:!0}},data(){return{isConfirmed:!1}},methods:{async confirm(){this.isConfirmed=!0;const s=this.getTimeStampDate(0),e=this.getTimeStampDate(1),a=this.getTotalPrice,o={startDate:s,endDate:e,guests:this.guests,status:"pending",totalPrice:a,hostId:this.stay.host._id,stay:{name:this.stay.name,price:this.stay.price,_id:this.stay._id},buyer:{_id:this.user._id,fullname:this.user.fullname}};this.$emit("addOrder",o)},getTimeStampDate(s){return JSON.parse(JSON.stringify(this.dates))[s]},getFormatedDate(s){const e=JSON.parse(JSON.stringify(this.dates)),a=new Date(e[s]);return`${a.getDate()<10?"0"+a.getDate():a.getDate()}/${a.getMonth()<9?"0"+(a.getMonth()+1):a.getMonth()+1}/${a.getFullYear().toString().substring(2)}`},goToMyTrips(){this.isConfirmed=!1,this.$emit("closeModal"),this.$emit("goToMyTrips")},closeModal(){this.isConfirmed=!1,this.$emit("closeModal")},closeModalAndClean(){this.$store.commit({type:"clearOrderingDetails"}),this.isConfirmed=!1,this.$emit("closeModal"),this.$router.push("/")}},computed:{getCheckDetails(){const s=this.dates,e=this.stay.price,a=Math.round((s[1]-s[0])/(24*60*60*1e3)),o=e*a;return this.total=`$${o}`,this.$store.commit({type:"setTotalPrice",totalPrice:o}),`$${e} x ${a} nights`},getImageUrl(){return new URL({"../../assets/images/001.jpeg":E,"../../assets/images/002.jpeg":V,"../../assets/images/003.jpeg":J,"../../assets/images/004.jpeg":W,"../../assets/images/005.jpeg":Y,"../../assets/images/006.jpeg":X,"../../assets/images/007.jpeg":K,"../../assets/images/008.jpeg":Z,"../../assets/images/009.jpeg":z,"../../assets/images/010.jpeg":Q,"../../assets/images/011.jpeg":ss,"../../assets/images/012.jpeg":es,"../../assets/images/013.jpeg":ts,"../../assets/images/014.jpeg":as,"../../assets/images/015.jpeg":is,"../../assets/images/016.jpeg":rs,"../../assets/images/017.jpeg":os,"../../assets/images/018.jpeg":ns,"../../assets/images/019.jpeg":gs,"../../assets/images/020.jpeg":ls,"../../assets/images/021.jpeg":cs,"../../assets/images/022.jpeg":ds,"../../assets/images/023.jpeg":ps,"../../assets/images/024.jpeg":ms,"../../assets/images/025.jpeg":us,"../../assets/images/026.jpeg":_s,"../../assets/images/027.jpeg":hs,"../../assets/images/028.jpeg":ys,"../../assets/images/029.jpeg":js,"../../assets/images/030.jpeg":vs,"../../assets/images/031.jpeg":fs,"../../assets/images/032.jpeg":bs,"../../assets/images/033.jpeg":$s,"../../assets/images/034.jpeg":Ss,"../../assets/images/035.jpeg":ws,"../../assets/images/036.jpeg":ks,"../../assets/images/037.jpeg":Cs,"../../assets/images/038.jpeg":Us,"../../assets/images/039.jpeg":Ms,"../../assets/images/040.jpeg":xs,"../../assets/images/041.jpeg":Ts,"../../assets/images/042.jpeg":Is,"../../assets/images/043.jpeg":Ds,"../../assets/images/044.jpeg":As,"../../assets/images/045.jpeg":Os,"../../assets/images/046.jpeg":Ls,"../../assets/images/047.jpeg":Fs,"../../assets/images/048.jpeg":Gs,"../../assets/images/049.jpeg":Ps,"../../assets/images/050.jpeg":Ns,"../../assets/images/051.jpeg":Bs,"../../assets/images/052.jpeg":Rs,"../../assets/images/053.jpeg":Hs,"../../assets/images/054.jpeg":qs,"../../assets/images/055.jpeg":Es,"../../assets/images/056.jpeg":Vs,"../../assets/images/057.jpeg":Js,"../../assets/images/058.jpeg":Ws,"../../assets/images/059.jpeg":Ys,"../../assets/images/060.jpeg":Xs,"../../assets/images/061.jpeg":Ks,"../../assets/images/062.jpeg":Zs,"../../assets/images/063.jpeg":zs,"../../assets/images/064.jpeg":Qs,"../../assets/images/065.jpeg":se,"../../assets/images/066.jpeg":ee,"../../assets/images/067.jpeg":te,"../../assets/images/068.jpeg":ae,"../../assets/images/069.jpeg":ie,"../../assets/images/070.jpeg":re,"../../assets/images/071.jpeg":oe,"../../assets/images/072.jpeg":ne,"../../assets/images/073.jpeg":ge,"../../assets/images/074.jpeg":le,"../../assets/images/075.jpeg":ce,"../../assets/images/076.jpeg":de,"../../assets/images/077.jpeg":pe,"../../assets/images/078.jpeg":me,"../../assets/images/079.jpeg":ue,"../../assets/images/080.jpeg":_e,"../../assets/images/081.jpeg":he,"../../assets/images/082.jpeg":ye,"../../assets/images/083.jpeg":je,"../../assets/images/084.jpeg":ve,"../../assets/images/085.jpeg":fe,"../../assets/images/086.jpeg":be,"../../assets/images/087.jpeg":$e,"../../assets/images/088.jpeg":Se,"../../assets/images/089.jpeg":we,"../../assets/images/090.jpeg":ke,"../../assets/images/091.jpeg":Ce,"../../assets/images/092.jpeg":Ue,"../../assets/images/093.jpeg":Me,"../../assets/images/094.jpeg":xe,"../../assets/images/095.jpeg":Te,"../../assets/images/096.jpeg":Ie,"../../assets/images/097.jpeg":De,"../../assets/images/098.jpeg":Ae,"../../assets/images/099.jpeg":Oe,"../../assets/images/100.jpeg":Le,"../../assets/images/101.jpeg":Fe,"../../assets/images/102.jpeg":Ge,"../../assets/images/103.jpeg":Pe,"../../assets/images/104.jpeg":Ne,"../../assets/images/105.jpeg":Be,"../../assets/images/106.jpeg":Re,"../../assets/images/107.jpeg":He,"../../assets/images/108.jpeg":qe,"../../assets/images/109.jpeg":Ee,"../../assets/images/110.jpeg":Ve,"../../assets/images/111.jpeg":Je,"../../assets/images/112.jpeg":We,"../../assets/images/113.jpeg":Ye,"../../assets/images/114.jpeg":Xe,"../../assets/images/115.jpeg":Ke,"../../assets/images/116.jpeg":Ze,"../../assets/images/117.jpeg":ze,"../../assets/images/118.jpeg":Qe,"../../assets/images/119.jpeg":st,"../../assets/images/120.jpeg":et,"../../assets/images/121.jpeg":tt,"../../assets/images/122.jpeg":at,"../../assets/images/123.jpeg":it,"../../assets/images/124.jpeg":rt,"../../assets/images/125.jpeg":ot,"../../assets/images/126.jpeg":nt,"../../assets/images/127.jpeg":gt,"../../assets/images/128.jpeg":lt,"../../assets/images/129.jpeg":ct,"../../assets/images/130.jpeg":dt,"../../assets/images/131.jpeg":pt,"../../assets/images/132.jpeg":mt,"../../assets/images/133.jpeg":ut,"../../assets/images/134.jpeg":_t,"../../assets/images/135.jpeg":ht,"../../assets/images/136.jpeg":yt,"../../assets/images/137.jpeg":jt,"../../assets/images/138.jpeg":vt,"../../assets/images/139.jpeg":ft,"../../assets/images/140.jpeg":bt,"../../assets/images/141.jpeg":$t,"../../assets/images/142.jpeg":St,"../../assets/images/143.jpeg":wt,"../../assets/images/144.jpeg":kt,"../../assets/images/145.jpeg":Ct,"../../assets/images/146.jpeg":Ut,"../../assets/images/147.jpeg":Mt,"../../assets/images/148.jpeg":xt,"../../assets/images/149.jpeg":Tt,"../../assets/images/150.jpeg":It,"../../assets/images/151.jpeg":Dt,"../../assets/images/152.jpeg":At,"../../assets/images/153.jpeg":Ot,"../../assets/images/apartment.jpg":Lt,"../../assets/images/Barcelona.jpg":L,"../../assets/images/cabin.jpg":F,"../../assets/images/cabin2.jpg":Ft,"../../assets/images/condominium.jpg":Gt,"../../assets/images/homepage3.jpg":Pt,"../../assets/images/Hongkong.jpg":G,"../../assets/images/Istanbul.jpg":P,"../../assets/images/lidor.jpg":Nt,"../../assets/images/loft.jpg":Bt,"../../assets/images/London.jpg":Rt,"../../assets/images/Maui.jpg":N,"../../assets/images/Rome.jpg":Ht,"../../assets/images/Villa.jpg":B}[`../../assets/images/${this.stay.imgUrls[0]}`],self.location)},displayConfirmation(){return!!(this.stay&&this.dates&&this.user)},getTotalPrice(){return this.$store.getters.getTotalPrice},getUserFirstName(){return this.user.fullname.split(" ")[0]},getGuestsForDisplay(){const{adults:s}=this.guests,{children:e}=this.guests;return e+s?e?e===1?s===1?"1 adult, 1 child":`${s} adults, 1 child`:s===1?`1 adult, ${e} children`:`${s} adults, ${e} children`:s===1?"1 adult":`${s} adults`:"Add guests"},getLocation(){return this.$store.getters.getLocation},getDates(){return this.$store.getters.getDates}}},yc={key:0,class:"order-confirmation-modal"},jc={class:"confirmation-details"},vc={key:0,class:"confirm-title-container"},fc=t("p",{class:"confirm-title"},"One last step",-1),bc={class:"confirm-text"},$c=t("h1",{class:"confirm-text"}," In order to complete your reservation, please confirm your trip details. ",-1),Sc={key:1,class:"confirm-title-container"},wc=t("div",{class:"confirm-secondary-title flex align-center"},[t("img",{class:"success-sign confirm-title",src:oa,alt:"success sign"}),t("h1",{class:"confirm-title"},"Reserved successfully")],-1),kc={class:"confirm-text follow-your-trip"},Cc=v(" You can follow the order status in "),Uc=v(" page "),Mc={class:"reservation-details-container"},xc={class:"trip-details-container flex flex-column"},Tc=t("h1",{class:"reservation-details-title"},"Reservation details",-1),Ic=t("span",{class:"mini-trip-title"},"Trip dates:",-1),Dc={class:"mini-trip-detail"},Ac=t("span",{class:"mini-trip-title"},"Guests:",-1),Oc={class:"mini-trip-detail"},Lc={class:"price-details-container flex flex-column"},Fc=t("h1",{class:"mini-trip-title"},"Price Details",-1),Gc={class:"price-per-night flex space-between"},Pc={class:"mini-trip-detail"},Nc={class:"mini-trip-detail"},Bc=t("div",{class:"service flex space-between"},[t("h1",{class:"mini-trip-detail"},"Service fee"),t("h1",{class:"mini-trip-detail"},"$0")],-1),Rc={class:"total-price flex space-between"},Hc=t("h1",{class:"mini-trip-detail"},"Total",-1),qc={class:"mini-trip-detail"},Ec={class:"order-stay-details flex flex-column"},Vc=["src"],Jc={class:"stay-detail"},Wc={class:"stay-detail"},Yc={class:"modal-btns-container"},Xc=v("Confirm ");function Kc(s,e,a,o,r,i){const n=m("magic-button");return i.displayConfirmation?(g(),l("section",yc,[t("div",jc,[r.isConfirmed?p("",!0):(g(),l("div",vc,[fc,t("h1",bc,"Dear "+c(i.getUserFirstName)+",",1),$c])),r.isConfirmed?(g(),l("div",Sc,[t("div",null,[wc,t("h1",kc,[Cc,t("span",{onClick:e[0]||(e[0]=(...d)=>i.goToMyTrips&&i.goToMyTrips(...d))},"My trips"),Uc])])])):p("",!0),t("div",Mc,[t("div",xc,[Tc,Ic,t("h1",Dc,c(i.getFormatedDate(0))+" - "+c(i.getFormatedDate(1)),1),Ac,t("h1",Oc,c(i.getGuestsForDisplay),1),t("div",Lc,[Fc,t("div",Gc,[t("h1",Pc,c(i.getCheckDetails),1),t("h1",Nc,"$"+c(i.getTotalPrice),1)]),Bc,t("div",Rc,[Hc,t("h1",qc,"$"+c(i.getTotalPrice),1)])])]),t("div",Ec,[t("img",{class:"order-stay-image",src:i.getImageUrl,alt:"host"},null,8,Vc),t("h1",Jc,c(a.stay.name),1),t("h1",Wc,c(a.stay.address.street),1)])]),t("div",Yc,[r.isConfirmed?p("",!0):(g(),f(n,{key:0,class:"sign-up-continue confirm",onClick:i.confirm},{default:w(()=>[Xc]),_:1},8,["onClick"])),r.isConfirmed?p("",!0):(g(),l("div",{key:1,class:"sign-up-continue go-back",onClick:e[1]||(e[1]=(...d)=>i.closeModal&&i.closeModal(...d))}," Back ")),r.isConfirmed?(g(),l("div",{key:2,class:"sign-up-continue go-back",onClick:e[2]||(e[2]=(...d)=>i.closeModalAndClean&&i.closeModalAndClean(...d))}," Close ")):p("",!0)])])])):p("",!0)}var Zc=u(hc,[["render",Kc]]),zc="/assets/back-home.29252606.svg",Qc="/assets/liran2.5b1bb8a5.jpg";const sd={name:"stay-details",components:{imagesContainer:Qo,SecondaryHeader:mn,SelectedPopularAmenities:Cn,AmenitiesList:Rn,reviewsSection:dl,mapSection:tc,heroModal:zl,footerHeroModal:Eo,orderAlertModal:gc,loginAlertModal:_c,orderConfirmationModal:Zc},data(){return{isMobile:!1,stay:null,isOrderAlert:!1,isLoginAlert:!1,alertModalMessage:"",currOrder:null,isOrdering:!1,isConfirm:!1}},async created(){const s=this.$route.params.stayId;this.stay=await this.$store.dispatch({type:"getStayById",stayId:s})},methods:{addOrder(s){M.emit("new order",s),this.$store.dispatch({type:"addOrder",order:s})},loginToProceed(){this.isLoginAlert=!1,this.$store.commit({type:"openSignUpModal"})},demoToProceed(){this.isLoginAlert=!1,this.isOrdering=!0},closeLoginModal(){this.isLoginAlert=!1},closeAlertModal(){this.isOrderAlert=!1},goToMyTrips(){this.isOrdering=!1,this.$router.push("/mytrips")},closeConfirmationModal(){this.isOrdering=!1},openAlertModal(s){this.alertModalMessage=s,this.isOrderAlert=!1},onCheckAvailability(){this.isOrdering=!0;const s=this.getDates,e=this.getGuests;if(!s){this.$refs["hero-modal"].$refs["modal-date-picker"].focus(),this.isOrdering=!1;return}if(e.adults+e.children>this.stay.capacity){this.alertModalMessage=`Select up to ${this.stay.capacity} to proceed`,this.isOrdering=!1,this.isOrderAlert=!0;return}if(s[0]===s[1]){this.alertModalMessage="Reservation must be for at least one night",this.isOrdering=!1,this.isOrderAlert=!0;return}if(!this.$store.getters.getLoggedInUser){this.isLoginAlert=!0;return}},goToReviews(){let e=this.$refs["reviews-section"].$el.offsetTop;window.scrollTo({top:e-10,left:0,behavior:"smooth"})},goToMap(){let e=this.$refs["map-section"].$el.offsetTop;window.scrollTo({top:e-10,left:0,behavior:"smooth"})}},computed:{getDates(){return this.$store.getters.getDates},getGuests(){return this.$store.getters.getGuests},isLoggedIn(){return!!this.$store.getters.getLoggedInUser},getLoggedInUser(){return this.$store.getters.getLoggedInUser}},unmounted(){this.isOrdering=!1}},ed={key:0,class:"stay-details-main-layout main-layout"},td={class:"stay-details-page"},ad={key:1,class:"stay-details"},id={class:"mobile-secondary-header"},rd={class:"back-home"},od=t("img",{src:zc},null,-1),nd=v("Back"),gd={class:"secondary-header-and-images-container"},ld={class:"hero-modal-and-general-info"},cd={class:"general-info"},dd={class:"type-host-and-stay-properties"},pd={class:"type-host-and-stay-properties-text"},md={class:"stay-type-host-name"},ud={class:"stay-properties"},_d=t("img",{src:Qc,alt:"Host picture",onerror:"this.onerror=null; this.src='https://thispersondoesnotexist.com/image'"},null,-1),hd={class:"section-stay-summary"},yd={class:"stay-summary"},jd=t("div",{class:"summary-show-more"},[t("span",null,"Show more"),t("img",{src:ga})],-1),vd={key:2,class:"order-alert-overlay"};function fd(s,e,a,o,r,i){const n=m("footer-hero-modal"),d=m("router-link"),h=m("secondary-header"),j=m("images-container"),Jt=m("selected-popular-amenities"),Wt=m("amenities-list"),da=m("hero-modal"),pa=m("reviews-section"),ma=m("map-section"),ua=m("order-alert-modal"),_a=m("login-alert-modal"),ha=m("order-confirmation-modal");return r.stay?(g(),l("section",ed,[t("section",td,[r.stay?(g(),f(n,{key:0,stay:r.stay},null,8,["stay"])):p("",!0),r.stay?(g(),l("section",ad,[t("section",id,[t("div",rd,[od,_(d,{to:"/stay"},{default:w(()=>[nd]),_:1})])]),t("section",gd,[_(h,{onGoToReviews:i.goToReviews,onGoToMap:i.goToMap,stay:r.stay},null,8,["onGoToReviews","onGoToMap","stay"]),_(j,{stayImgs:r.stay.imgUrls},null,8,["stayImgs"])]),t("section",ld,[t("section",cd,[t("section",dd,[t("section",pd,[t("h2",md,c(r.stay.propertyType)+" hosted by "+c(r.stay.host.fullname),1),t("ul",ud,[t("li",null,c(r.stay.capacity)+" guests",1),t("li",null,c(r.stay.bedrooms)+" bedroom",1),t("li",null,c(r.stay.beds)+" bed",1),t("li",null,c(r.stay.bathrooms)+" baths",1)])]),_d]),_(Jt,{stay:r.stay},null,8,["stay"]),t("section",hd,[t("p",yd,c(r.stay.summary),1),jd]),_(Wt)]),_(da,{ref:"hero-modal",stay:r.stay,guestsFromStore:i.getGuests,onOnCheckAvailability:i.onCheckAvailability},null,8,["stay","guestsFromStore","onOnCheckAvailability"])]),_(pa,{stay:r.stay,ref:"reviews-section"},null,8,["stay"]),_(ma,{address:r.stay.address,ref:"map-section"},null,8,["address"]),r.isOrderAlert?(g(),f(ua,{key:0,onCloseModal:i.closeAlertModal,alertModalMessage:r.alertModalMessage},null,8,["onCloseModal","alertModalMessage"])):p("",!0),r.isLoginAlert?(g(),f(_a,{key:1,onCloseModal:i.closeLoginModal,onLogin:i.loginToProceed,onDemo:i.demoToProceed},null,8,["onCloseModal","onLogin","onDemo"])):p("",!0),_(ha,{class:y({showConfirm:r.isOrdering&&i.isLoggedIn}),stay:r.stay,dates:i.getDates,guests:i.getGuests,user:i.getLoggedInUser,onCloseModal:i.closeConfirmationModal,onGoToMyTrips:i.goToMyTrips,onAddOrder:i.addOrder},null,8,["class","stay","dates","guests","user","onCloseModal","onGoToMyTrips","onAddOrder"]),r.isOrderAlert||r.isLoginAlert||r.isOrdering&&i.isLoggedIn?(g(),l("div",vd)):p("",!0)])):p("",!0)])])):p("",!0)}var bd=u(sd,[["render",fd]]);const $d={name:"order-preview",emits:["updateStatus"],props:{order:{type:Object,required:!0}},methods:{goToStay(){this.$router.push(`/stay/${this.trip.stay._id}`)},getFormatedPrice(s){var e=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0});return e.format(s)},updateStatus(s){this.$emit("updateStatus",{status:s,orderId:this.order._id})},timeConversion(s){let e=new Date(s).getDate();e=e<10?"0"+e:e;let a=new Date(s).getMonth()+1;a=a<10?"0"+a:a;let o=new Date(s).getFullYear().toString().substring(2)+"";return`${e}/${a}/${o}`}},computed:{isUndisable(){this.order.startDate;const s=Date.now(),e=1e3*60*60*24;returnstartDate-s<e||this.order.status},isUnrejectable(){const s=this.order.startDate,e=Date.now(),a=1e3*60*60*24;return s-e<a||this.order.status==="rejected"||this.order.status==="canceled"},isUnapprovable(){const s=this.order.startDate,e=Date.now(),a=1e3*60*60*24;return s-e<a||this.order.status==="approved"||this.order.status==="canceled"},formattedText(){return this.order.stay.name.length>15?this.order.stay.name.slice(0,15)+"...":this.order.stay.name}}},Sd={class:"dashboard-order-cont"},wd={class:"date"},kd={class:"booker"},Cd=t("span",{class:"mobile-title"},"Stay: ",-1),Ud={class:"detail trip-dates"},Md=t("span",{class:"mobile-title"},"Dates: ",-1),xd={class:"nights"},Td={class:"detail guests"},Id=t("span",{class:"mobile-title"},"Guests: ",-1),Dd={class:"price"},Ad={class:"detail total"},Od=t("span",{class:"mobile-title"},"Total order: ",-1),Ld=t("span",{class:"mobile-title"},"Status: ",-1),Fd={class:"detail actions actions-container"},Gd=["disabled"],Pd=["disabled"];function Nd(s,e,a,o,r,i){return g(),l("section",Sd,[t("div",wd,c(i.timeConversion(a.order.createdAt)),1),t("div",kd,c(a.order.buyer.fullname),1),t("div",{onClick:e[0]||(e[0]=(...n)=>i.goToStay&&i.goToStay(...n)),class:"detail stay"},[Cd,v(" "+c(a.order.stay.name),1)]),t("div",Ud,[Md,v(" "+c(i.timeConversion(a.order.startDate))+" - "+c(i.timeConversion(a.order.endDate)),1)]),t("div",xd,c(Math.round(a.order.totalPrice/a.order.stay.price)),1),t("div",Td,[Id,v(" "+c(a.order.guests.adults+a.order.guests.children),1)]),t("div",Dd,c(i.getFormatedPrice(a.order.stay.price)),1),t("div",Ad,[Od,v(" "+c(i.getFormatedPrice(a.order.totalPrice)),1)]),t("div",{class:y(["detail status",a.order.status])},[Ld,v(c(a.order.status),1)],2),t("div",Fd,[t("button",{disabled:i.isUnapprovable,class:"reject-btn",onClick:e[1]||(e[1]=n=>i.updateStatus("approved"))}," Approve ",8,Gd),t("button",{disabled:i.isUnrejectable,class:"approve-btn",onClick:e[2]||(e[2]=n=>i.updateStatus("rejected"))}," Reject ",8,Pd)])])}var Bd=u($d,[["render",Nd]]);const Rd={name:"order-list",emits:["updateStatus"],props:{orders:{type:Array,required:!0}},methods:{updateStatus(s){this.$emit("updateStatus",s)}},components:{orderPreview:Bd}},Hd={key:0,class:"main-layout-homepage"},qd=I('<div class="dashboard-order-cont titles"><div class="dashboard-title date">Date</div><div class="dashboard-title booker">Booker</div><div class="dashboard-title stay">Stay</div><div class="dashboard-title trip-dates">Dates</div><div class="dashboard-title nights">Nights</div><div class="dashboard-title guests">Guests</div><div class="dashboard-title price">Price / night</div><div class="dashboard-title total">Total</div><div class="dashboard-title status">Status</div><div class="dashboard-title actions">Actions</div></div>',1);function Ed(s,e,a,o,r,i){const n=m("order-preview");return a.orders.length?(g(),l("section",Hd,[qd,(g(!0),l(k,null,C(a.orders.slice().reverse(),d=>(g(),f(n,{key:d._id,order:d,onUpdateStatus:i.updateStatus},null,8,["order","onUpdateStatus"]))),128))])):p("",!0)}var Vd=u(Rd,[["render",Ed]]);aa.title=!1;Sa.register(...wa);const Jd={name:"Home",props:{data:{type:Object,requires:!0}},components:{PieChart:aa},data(){return{}},computed:{myStyles(){return{position:"relative",color:"blue"}}}},Wd={style:{"{responsive":"true"}};function Yd(s,e,a,o,r,i){const n=m("PieChart");return g(),l("div",Wd,[_(n,{styles:i.myStyles,class:"nights-pie",chartData:a.data},null,8,["styles","chartData"])])}var Xd=u(Jd,[["render",Yd]]);const Kd={props:{orders:{type:Array,required:!0}},data(){return{options:{chart:{id:"vuechart-example",height:"400px"},fill:{colors:["#ff385c","#d90865","#d90865"]},plotOptions:{bar:{columnWidth:"70%",distributed:!1,columnColors:["black"]}},xaxis:{categories:["Jan","Feb","March","April"],labels:{style:{colors:["#222222"],fontSize:"13px"}}}},series:null}},created(){const s=[{name:"revenue",data:[0,0,0,0]}];this.orders.filter(a=>a.status==="approved").forEach(a=>{const o=new Date(a.createdAt).getMonth();o<4&&(s[0].data[o]+=a.totalPrice)}),this.series=s}};function Zd(s,e,a,o,r,i){const n=m("apexchart");return r.series?(g(),f(n,{key:0,width:"330",height:"170",type:"bar",options:r.options,series:r.series},null,8,["options","series"])):p("",!0)}var zd=u(Kd,[["render",Zd]]);const Qd={name:"order-list",emits:["updateStatus"],props:{orders:{type:Array,required:!0}},data(){return{testData:null,totalRevenue:0}},created(){const s=this.orders.filter(r=>r.status==="approved"),e=s.reduce((r,i)=>r+i.totalPrice,0);this.totalRevenue=e;let a={labels:["1-3 nights","4-6 nights","+7 nights"],datasets:[{data:[],backgroundColor:["#b40000","#0000db","#338300"]}]},o=s.filter(r=>r.totalPrice/r.stay.price<=3).length;a.datasets[0].data.push(o),o=s.filter(r=>{const i=r.totalPrice/r.stay.price;return i>=4&&i<=6}).length,a.datasets[0].data.push(o),o=s.filter(r=>r.totalPrice/r.stay.price>=7).length,a.datasets[0].data.push(o),this.testData=a},computed:{pendingCount(){return this.orders.filter(e=>e.status==="pending").length},totalPriceAverage(){const s=this.orders.filter(a=>a.status==="approved"),e=this.totalRevenue;return this.getFormatedPrice(e/s.length)},cancelations(){const s=this.orders;return(s.filter(a=>a.status==="canceled").length/s.length*100).toFixed(1)+"%"},formattedRevenue(){return this.getFormatedPrice(this.totalRevenue)},thisYearRenevue(){const s=this.orders.filter(o=>o.status==="approved"),e=new Date().getFullYear(),a=s.filter(o=>new Date(o.createdAt).getFullYear()===e).reduce((o,r)=>o+r.totalPrice,0);return this.getFormatedPrice(a)},thisMonthRenevue(){const s=this.orders.filter(o=>o.status==="approved"),e=new Date().getMonth()+1,a=s.filter(o=>new Date(o.createdAt).getMonth()+1===e).reduce((o,r)=>o+r.totalPrice,0);return this.getFormatedPrice(a)}},methods:{getFormatedPrice(s){var e=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0});return e.format(s)}},components:{awesomeChart:Xd,barChart:zd}},sp={class:"main-layout-homepage"},ep={key:0,class:"dashboard-stats"},tp={class:"cards-container"},ap={class:"bar-container"},ip=t("h1",null,"Revenue per month",-1),rp={class:"stats-card revenue"},op=t("h1",null,"Total revenue",-1),np={class:"details"},gp={class:"rev-stat"},lp=t("span",{class:"stat-head"},"This month",-1),cp={class:"rev-stat"},dp=t("span",{class:"stat-head"},"This year",-1),pp={class:"rev-stat"},mp=t("span",{class:"stat-head"},"Total income",-1),up={class:"cards-container"},_p={class:"stats-card management"},hp=t("h1",null,"Orders management",-1),yp={class:"details"},jp={class:"rev-stat"},vp=t("span",{class:"stat-head"},"Cancelations",-1),fp={class:"canceled-stat"},bp={class:"rev-stat"},$p=t("span",{class:"stat-head"},"Average order revenue",-1),Sp={class:"total-stat"},wp={class:"rev-stat"},kp=t("span",{class:"stat-head"},"Pending now",-1),Cp={class:"pending-stat"},Up={class:"pie-container"},Mp=t("h1",null,"Orders segmentation by nights",-1),xp={key:1,class:"no-orders"};function Tp(s,e,a,o,r,i){const n=m("bar-chart"),d=m("awesome-chart");return g(),l("section",sp,[a.orders.length?(g(),l("section",ep,[t("div",tp,[t("div",ap,[ip,_(n,{orders:a.orders},null,8,["orders"])]),t("div",rp,[op,t("div",np,[t("div",gp,[lp,t("span",null,c(i.thisMonthRenevue),1)]),t("div",cp,[dp,t("span",null,c(i.thisYearRenevue),1)]),t("div",pp,[mp,t("span",null,c(i.formattedRevenue),1)])])])]),t("div",up,[t("div",_p,[hp,t("div",yp,[t("div",jp,[vp,t("span",fp,c(i.cancelations),1)]),t("div",bp,[$p,t("span",Sp,c(i.totalPriceAverage),1)]),t("div",wp,[kp,t("span",Cp,c(i.pendingCount)+" orders",1)])])]),t("div",Up,[Mp,r.testData?(g(),f(d,{key:0,data:r.testData},null,8,["data"])):p("",!0)])])])):(g(),l("h1",xp,"No orders to display"))])}var Ip=u(Qd,[["render",Tp]]);const Dp={name:"dashboard",data(){return{isShowingMessage:!1,message:{},loggedInUser:{}}},async created(){this.loggedInUser=this.$store.getters.getLoggedInUser;const s={hostId:this.loggedInUser._id};try{await this.$store.dispatch({type:"loadOrders",filterBy:s})}catch(e){console.log("Error while loading orders: ",e)}},computed:{isLoading(){return this.$store.getters.isLoading},getOrders(){return this.$store.getters.getOrders}},methods:{async updateStatus({status:s,orderId:e}){const a=this.getOrders.find(r=>r._id===e),o=JSON.parse(JSON.stringify(a));o.status=s,await this.$store.dispatch({type:"updateOrder",order:o}),M.emit("update status",o)}},components:{orderList:Vd,dashboardStats:Ip,userMessage:Yt}},Ap={class:"dashboard main-layout-height"},Op=t("h1",{class:"main-layout-homepage title"},"My Dashboard",-1),Lp={class:"loading-img-container"},Fp={key:0,class:"loading-img",src:O,alt:"Loading.."};function Gp(s,e,a,o,r,i){const n=m("dashboard-stats"),d=m("order-list");return g(),l("section",Ap,[Op,t("div",Lp,[i.isLoading?(g(),l("img",Fp)):p("",!0)]),i.isLoading?p("",!0):(g(),f(n,{key:0,orders:i.getOrders},null,8,["orders"])),i.isLoading?p("",!0):(g(),f(d,{key:1,orders:i.getOrders,onUpdateStatus:i.updateStatus},null,8,["orders","onUpdateStatus"]))])}var Pp=u(Dp,[["render",Gp]]),Np="/assets/empty-like.6b08c87c.svg",Bp="/assets/full-like.2b81a368.svg";const Rp={props:{stay:{type:Object,required:!0}},data(){return{isLiked:!1}},methods:{likeCliked(){this.isLiked=!this.isLiked},stayClicked(){this.$router.push(`/stay/${this.stay._id}`)},getStayRate(s){return(s.reviewScores.rating/20).toFixed(2)},getReviewCount(s){return s.reviews.length+" reviews"},getImgUrl(s){return new URL({"../assets/images/001.jpeg":E,"../assets/images/002.jpeg":V,"../assets/images/003.jpeg":J,"../assets/images/004.jpeg":W,"../assets/images/005.jpeg":Y,"../assets/images/006.jpeg":X,"../assets/images/007.jpeg":K,"../assets/images/008.jpeg":Z,"../assets/images/009.jpeg":z,"../assets/images/010.jpeg":Q,"../assets/images/011.jpeg":ss,"../assets/images/012.jpeg":es,"../assets/images/013.jpeg":ts,"../assets/images/014.jpeg":as,"../assets/images/015.jpeg":is,"../assets/images/016.jpeg":rs,"../assets/images/017.jpeg":os,"../assets/images/018.jpeg":ns,"../assets/images/019.jpeg":gs,"../assets/images/020.jpeg":ls,"../assets/images/021.jpeg":cs,"../assets/images/022.jpeg":ds,"../assets/images/023.jpeg":ps,"../assets/images/024.jpeg":ms,"../assets/images/025.jpeg":us,"../assets/images/026.jpeg":_s,"../assets/images/027.jpeg":hs,"../assets/images/028.jpeg":ys,"../assets/images/029.jpeg":js,"../assets/images/030.jpeg":vs,"../assets/images/031.jpeg":fs,"../assets/images/032.jpeg":bs,"../assets/images/033.jpeg":$s,"../assets/images/034.jpeg":Ss,"../assets/images/035.jpeg":ws,"../assets/images/036.jpeg":ks,"../assets/images/037.jpeg":Cs,"../assets/images/038.jpeg":Us,"../assets/images/039.jpeg":Ms,"../assets/images/040.jpeg":xs,"../assets/images/041.jpeg":Ts,"../assets/images/042.jpeg":Is,"../assets/images/043.jpeg":Ds,"../assets/images/044.jpeg":As,"../assets/images/045.jpeg":Os,"../assets/images/046.jpeg":Ls,"../assets/images/047.jpeg":Fs,"../assets/images/048.jpeg":Gs,"../assets/images/049.jpeg":Ps,"../assets/images/050.jpeg":Ns,"../assets/images/051.jpeg":Bs,"../assets/images/052.jpeg":Rs,"../assets/images/053.jpeg":Hs,"../assets/images/054.jpeg":qs,"../assets/images/055.jpeg":Es,"../assets/images/056.jpeg":Vs,"../assets/images/057.jpeg":Js,"../assets/images/058.jpeg":Ws,"../assets/images/059.jpeg":Ys,"../assets/images/060.jpeg":Xs,"../assets/images/061.jpeg":Ks,"../assets/images/062.jpeg":Zs,"../assets/images/063.jpeg":zs,"../assets/images/064.jpeg":Qs,"../assets/images/065.jpeg":se,"../assets/images/066.jpeg":ee,"../assets/images/067.jpeg":te,"../assets/images/068.jpeg":ae,"../assets/images/069.jpeg":ie,"../assets/images/070.jpeg":re,"../assets/images/071.jpeg":oe,"../assets/images/072.jpeg":ne,"../assets/images/073.jpeg":ge,"../assets/images/074.jpeg":le,"../assets/images/075.jpeg":ce,"../assets/images/076.jpeg":de,"../assets/images/077.jpeg":pe,"../assets/images/078.jpeg":me,"../assets/images/079.jpeg":ue,"../assets/images/080.jpeg":_e,"../assets/images/081.jpeg":he,"../assets/images/082.jpeg":ye,"../assets/images/083.jpeg":je,"../assets/images/084.jpeg":ve,"../assets/images/085.jpeg":fe,"../assets/images/086.jpeg":be,"../assets/images/087.jpeg":$e,"../assets/images/088.jpeg":Se,"../assets/images/089.jpeg":we,"../assets/images/090.jpeg":ke,"../assets/images/091.jpeg":Ce,"../assets/images/092.jpeg":Ue,"../assets/images/093.jpeg":Me,"../assets/images/094.jpeg":xe,"../assets/images/095.jpeg":Te,"../assets/images/096.jpeg":Ie,"../assets/images/097.jpeg":De,"../assets/images/098.jpeg":Ae,"../assets/images/099.jpeg":Oe,"../assets/images/100.jpeg":Le,"../assets/images/101.jpeg":Fe,"../assets/images/102.jpeg":Ge,"../assets/images/103.jpeg":Pe,"../assets/images/104.jpeg":Ne,"../assets/images/105.jpeg":Be,"../assets/images/106.jpeg":Re,"../assets/images/107.jpeg":He,"../assets/images/108.jpeg":qe,"../assets/images/109.jpeg":Ee,"../assets/images/110.jpeg":Ve,"../assets/images/111.jpeg":Je,"../assets/images/112.jpeg":We,"../assets/images/113.jpeg":Ye,"../assets/images/114.jpeg":Xe,"../assets/images/115.jpeg":Ke,"../assets/images/116.jpeg":Ze,"../assets/images/117.jpeg":ze,"../assets/images/118.jpeg":Qe,"../assets/images/119.jpeg":st,"../assets/images/120.jpeg":et,"../assets/images/121.jpeg":tt,"../assets/images/122.jpeg":at,"../assets/images/123.jpeg":it,"../assets/images/124.jpeg":rt,"../assets/images/125.jpeg":ot,"../assets/images/126.jpeg":nt,"../assets/images/127.jpeg":gt,"../assets/images/128.jpeg":lt,"../assets/images/129.jpeg":ct,"../assets/images/130.jpeg":dt,"../assets/images/131.jpeg":pt,"../assets/images/132.jpeg":mt,"../assets/images/133.jpeg":ut,"../assets/images/134.jpeg":_t,"../assets/images/135.jpeg":ht,"../assets/images/136.jpeg":yt,"../assets/images/137.jpeg":jt,"../assets/images/138.jpeg":vt,"../assets/images/139.jpeg":ft,"../assets/images/140.jpeg":bt,"../assets/images/141.jpeg":$t,"../assets/images/142.jpeg":St,"../assets/images/143.jpeg":wt,"../assets/images/144.jpeg":kt,"../assets/images/145.jpeg":Ct,"../assets/images/146.jpeg":Ut,"../assets/images/147.jpeg":Mt,"../assets/images/148.jpeg":xt,"../assets/images/149.jpeg":Tt,"../assets/images/150.jpeg":It,"../assets/images/151.jpeg":Dt,"../assets/images/152.jpeg":At,"../assets/images/153.jpeg":Ot,"../assets/images/apartment.jpg":Lt,"../assets/images/Barcelona.jpg":L,"../assets/images/cabin.jpg":F,"../assets/images/cabin2.jpg":Ft,"../assets/images/condominium.jpg":Gt,"../assets/images/homepage3.jpg":Pt,"../assets/images/Hongkong.jpg":G,"../assets/images/Istanbul.jpg":P,"../assets/images/lidor.jpg":Nt,"../assets/images/loft.jpg":Bt,"../assets/images/London.jpg":Rt,"../assets/images/Maui.jpg":N,"../assets/images/Rome.jpg":Ht,"../assets/images/Villa.jpg":B}[`../assets/images/${s}`],self.location)}},computed:{}},Hp={class:"carousele"},qp={class:"block"},Ep=["src"],Vp=t("div",{class:"like"},null,-1),Jp={class:"card-preview-line"},Wp=t("span",{class:"material-icons-outlined star"},"star",-1),Yp={class:"card-rate"},Xp={class:"reviews-count"},Kp={class:"card-preview-line"},Zp=t("span",{class:"preview-dot"},"\xB7",-1),zp={class:"card-preview-price"},Qp=t("span",null," / night",-1);function sm(s,e,a,o,r,i){const n=m("el-carousel-item"),d=m("el-carousel");return a.stay?(g(),l("li",{key:0,class:"card",onClick:e[2]||(e[2]=(...h)=>i.stayClicked&&i.stayClicked(...h))},[t("div",null,[t("div",Hp,[t("div",qp,[_(d,{autoplay:!1},{default:w(()=>[(g(!0),l(k,null,C(a.stay.imgUrls,h=>(g(),f(n,{key:h},{default:w(()=>[r.isLiked?p("",!0):(g(),l("img",{key:0,class:"like-img",src:Np,alt:"like",onClick:e[0]||(e[0]=q((...j)=>i.likeCliked&&i.likeCliked(...j),["stop"]))})),r.isLiked?(g(),l("img",{key:1,class:"like-img",src:Bp,alt:"like",onClick:e[1]||(e[1]=q((...j)=>i.likeCliked&&i.likeCliked(...j),["stop"]))})):p("",!0),t("img",{class:"card-img",src:i.getImgUrl(h)},null,8,Ep)]),_:2},1024))),128))]),_:1})])]),Vp]),t("p",Jp,[Wp,t("span",Yp,c(i.getStayRate(a.stay)),1),t("span",Xp,"("+c(i.getReviewCount(a.stay))+")",1)]),t("p",Kp,[t("span",null,c(a.stay.propertyType),1),Zp,t("span",null,c(a.stay.address.city),1)]),t("p",null,c(a.stay.name),1),t("p",null,[t("span",zp,c(s.$filters.currencyUSD(a.stay.price)),1),Qp])])):p("",!0)}var em=u(Rp,[["render",sm]]);const tm={props:{stays:{type:Array,required:!0},city:{type:String,required:!0}},data(){return{}},components:{stayPreview:em},computed:{isLoading(){return this.$store.getters.isLoading},getStaysPreviewTitle(){if(this.city){let e=this.city.split("").map((a,o)=>o?a.toLowerCase():a.toUpperCase()).join("");return`${this.stays.length} stays in ${e}`}return`${this.stays.length} stays`}},methods:{}},am={key:0,class:"stay-list-container"},im={class:"loading-img-container"},rm={key:0,class:"loading-img",src:O,alt:"Loading.."},om={key:0,class:"stays-count"},nm={key:1,class:"card-cont"},gm={key:2,class:"no-results"};function lm(s,e,a,o,r,i){const n=m("stay-preview");return a.stays?(g(),l("section",am,[t("div",im,[i.isLoading?(g(),l("img",rm)):p("",!0)]),a.stays.length&&!i.isLoading?(g(),l("p",om,c(i.getStaysPreviewTitle),1)):p("",!0),a.stays.length&&!i.isLoading?(g(),l("ul",nm,[(g(!0),l(k,null,C(a.stays,d=>(g(),f(n,{key:d._id,stay:d},null,8,["stay"]))),128))])):p("",!0),!a.stays.length&&!i.isLoading?(g(),l("h1",gm,"No results")):p("",!0)])):p("",!0)}var cm=u(tm,[["render",lm]]);const dm={props:{stays:{type:Array,required:!0},filterByCity:{type:String},filerByType:{type:Array}},data(){return{typeFromParams:{Apartment:!1,Loft:!1,Villa:!1,Cabin:!1},isPriceFiltering:!1,isTypeFiltering:!1,isTypeFromHomepage:!1,min:1,max:1800,isAmenityInFilter:{"Pets allowed":!1,Wifi:!1,"Smoking allowed":!1,"Air conditioning":!1,"Cable TV":!1},isTypeSelected:!1,isPriceSelected:!1,filterBy:{price:[1,1800],type:[],city:"",amenities:[],guests:null},options:[{title:"Apartment",description:"Have an entire place to yourself"},{title:"Loft",description:"Enjoy a space with elevated area"},{title:"Villa",description:"Have an impressive house to rest in"},{title:"Cabin",description:"Enjoy an adventure in a remote location"}]}},created(){const s=this.$store.getters.getFilterFromStore;this.filterBy=s,this.filterByCity&&(this.filterBy.city=this.filterByCity),this.filerByType&&(this.filterBy.type=this.filerByType,this.typeFromParams[this.filterBy.type[0]]=!0),this.setFilter()},components:{},methods:{toggleType(s){if(!this.isTypeFromHomepage){if(!this.filterBy.type.includes(s))this.filterBy.type.push(s);else{const e=this.filterBy.type.findIndex(a=>a===s);this.filterBy.type.splice(e,1)}this.isTypeSelected=!!this.filterBy.type.length,this.setTypeFilter()}},togglePriceModal(){this.isPriceFiltering=!this.isPriceFiltering,this.isPriceFiltering&&(this.isTypeFiltering=!1)},toggleTypeModal(){this.isTypeFiltering=!this.isTypeFiltering,this.isTypeFiltering&&(this.isPriceFiltering=!1)},setTypeFilter(){this.min=1,this.max=1800,this.setFilter()},setFilter(){const s=JSON.parse(JSON.stringify(this.filterBy));this.$emit("setFilter",s)},toggleAmenity(s){if(this.filterBy.amenities.includes(s)){const e=this.filterBy.amenities.findIndex(a=>a===s);this.filterBy.amenities.splice(e,1)}else this.filterBy.amenities.push(s);this.isAmenityInFilter[s]=!this.isAmenityInFilter[s],this.setFilter()}},computed:{priceSelected(){return this.filterBy.price[0]>1||this.filterBy.price[1]<1800},getPriceModalText(){return`$${this.filterBy.price[0]} - $${this.filterBy.price[1]}`},getTypeMenuTitle(){return this.filterBy.type.length?(this.isTypeSelected=!0,`${this.filterBy.type}`):(this.isTypeSelected=!1,"Type of place")}}},pm={class:"explore-filter"},mm={class:"price-and-type-filters-cont"},um=t("span",{class:"type-span"},"Price",-1),_m={key:0,class:"material-icons-outlined"},hm={key:1,class:"material-icons"},ym={key:0,class:"modal price-modal"},jm=t("span",{class:"type-span"},"Type of place",-1),vm={key:0,class:"material-icons-outlined"},fm={key:1,class:"material-icons"},bm={class:"modal-container"},$m={class:"line-container"},Sm=["onUpdate:modelValue","onInput"],wm=t("span",{class:"checkmark"},null,-1),km={class:"line-text flex flex-column"},Cm={class:"type-modal-type-title"},Um={class:"type-modal-description"},Mm={class:"amenities-container"},xm={class:"amenity-mini-container"},Tm={class:"amenity-mini-container"};function Im(s,e,a,o,r,i){const n=m("el-slider");return g(),l("div",pm,[t("div",mm,[t("div",{class:y(["explore-filter-item select-type-cont select-price flex align-center",{typeSelected:i.priceSelected}])},[t("span",{onClick:e[0]||(e[0]=(...d)=>i.togglePriceModal&&i.togglePriceModal(...d)),class:"flex align-center"},[um,r.isPriceFiltering?p("",!0):(g(),l("span",_m," arrow_drop_down ")),r.isPriceFiltering?(g(),l("span",hm," arrow_drop_up ")):p("",!0)]),r.isPriceFiltering?(g(),l("div",ym,[t("span",null,c(i.getPriceModalText),1),_(n,{class:"price-range",modelValue:r.filterBy.price,"onUpdate:modelValue":e[1]||(e[1]=d=>r.filterBy.price=d),onInput:i.setFilter,min:r.min,max:r.max,"show-input":!0,range:""},null,8,["modelValue","onInput","min","max"])])):p("",!0)],2),t("div",{class:y(["explore-filter-item select-type-cont",{typeSelected:r.isTypeSelected}])},[t("span",{class:"flex align-center",onClick:e[2]||(e[2]=(...d)=>i.toggleTypeModal&&i.toggleTypeModal(...d))},[jm,r.isTypeFiltering?p("",!0):(g(),l("span",vm," arrow_drop_down ")),r.isTypeFiltering?(g(),l("span",fm," arrow_drop_up ")):p("",!0)]),t("div",{class:y([{showTypeFilter:r.isTypeFiltering},"modal type-modal"])},[t("div",bm,[(g(!0),l(k,null,C(r.options,d=>(g(),l("div",{key:d,class:"type-modal-line"},[t("label",$m,[U(t("input",{"onUpdate:modelValue":h=>r.typeFromParams[d.title]=h,type:"checkbox",onInput:h=>i.toggleType(d.title)},null,40,Sm),[[ka,r.typeFromParams[d.title]]]),wm,t("div",km,[t("span",Cm,c(d.title),1),t("span",Um,c(d.description),1)])])]))),128))]),t("div",{class:"type-modal-btn btn-close",onClick:e[3]||(e[3]=(...d)=>i.toggleTypeModal&&i.toggleTypeModal(...d))}," Close ")],2)],2)]),t("div",Mm,[t("div",xm,[t("span",{class:y(["amenity wifi",{amenitySelected:r.isAmenityInFilter.Wifi}]),title:"free WiFi connection",onClick:e[4]||(e[4]=d=>i.toggleAmenity("Wifi"))}," WiFi ",2),t("span",{class:y(["amenity",{amenitySelected:r.isAmenityInFilter["Pets allowed"]}]),title:"Pets alowed",onClick:e[5]||(e[5]=d=>i.toggleAmenity("Pets allowed"))}," Pets allowed ",2),t("span",{class:y(["amenity",{amenitySelected:r.isAmenityInFilter["Air conditioning"]}]),title:"Air conditioner",onClick:e[6]||(e[6]=d=>i.toggleAmenity("Air conditioning"))}," A/C ",2)]),t("div",Tm,[t("span",{class:y(["amenity smoking",{amenitySelected:r.isAmenityInFilter["Smoking allowed"]}]),title:"Smoking allowed",onClick:e[7]||(e[7]=d=>i.toggleAmenity("Smoking allowed"))}," Smoking allowed ",2),t("span",{class:y(["amenity",{amenitySelected:r.isAmenityInFilter["Cable TV"]}]),title:"Cable TV",onClick:e[8]||(e[8]=d=>i.toggleAmenity("Cable TV"))}," Cable TV ",2)])])])}var Dm=u(dm,[["render",Im]]);const Am={name:"stay-app",data(){return{filterBy:{price:[1,1800],type:[],city:"",amenities:[],guests:0}}},created(){const s=this.$store.getters.getGuestsNumber;if(console.log("page created"),this.filterBy.guests=s,this.$route.query.destination){let a=this.$route.query.destination.split("?")[0];this.filterBy.city=a||""}const e=this.$route.query.type;e&&this.filterBy.type.push(e),this.setFilter(this.filterBy)},computed:{getCityFilter(){return this.$store.getters.getCityFilter},getTypeFilter(){return this.$store.getters.getTypeFilter},staysForDisplay(){return this.$store.getters.getStays}},methods:{setFilter(s){this.$store.commit({type:"setFilter",filterBy:s}),this.$store.dispatch({type:"loadStays"})}},components:{stayList:cm,exploreFilter:Dm}},Om={key:0,class:"main-layout-height app-page stay-app-layout"};function Lm(s,e,a,o,r,i){const n=m("explore-filter"),d=m("stay-list");return i.staysForDisplay?(g(),l("section",Om,[_(n,{stays:i.staysForDisplay,filerByType:i.getTypeFilter,filterByCity:i.getCityFilter,onSetFilter:i.setFilter},null,8,["stays","filerByType","filterByCity","onSetFilter"]),_(d,{stays:i.staysForDisplay,city:i.getCityFilter},null,8,["stays","city"])])):p("",!0)}var Fm=u(Am,[["render",Lm]]);const la=Ca({history:Ua(),scrollBehavior(s,e,a){return{top:0}},routes:[{name:"home-page",path:"/",component:Pr},{name:"about-page",path:"/about",component:Wr},{name:"stay-app",path:"/stay",component:Fm},{name:"stay-details",path:"/stay/:stayId",component:bd},{name:"dashboard",path:"/dashboard",component:Pp},{name:"my-trips",path:"/mytrips",component:Uo}]}),Gm={query:D,get:Pm,post:Nm,put:Rm,remove:Hm,postMany:Bm};function D(s){var e=JSON.parse(localStorage.getItem(s))||[];return Promise.resolve(e)}function Pm(s,e){return D(s).then(a=>a.find(o=>o._id===e))}function Nm(s,e){return e._id=qm(),D(s).then(a=>(a.push(e),Et(s,a),e))}function Bm(s,e){return D(s).then(a=>(a.push(...e),Et(s,a),a))}function Rm(s,e){return D(s).then(a=>{const o=a.findIndex(r=>r._id===e._id);return a.splice(o,1,e),Et(s,a),e})}function Hm(s,e){return D(s).then(a=>{const o=a.findIndex(r=>r._id===e);a.splice(o,1),Et(s,a)})}function Et(s,e){localStorage.setItem(s,JSON.stringify(e))}function qm(s=8){for(var e="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<s;o++)e+=a.charAt(Math.floor(Math.random()*a.length));return e}const Em="/api/";var Vm=Ma.create({withCredentials:!0});const b={get(s,e){return R(s,"GET",e)},post(s,e){return R(s,"POST",e)},put(s,e){return R(s,"PUT",e)},delete(s,e){return R(s,"DELETE",e)}};async function R(s,e="GET",a=null){try{return(await Vm({url:`${Em}${s}`,method:e,data:a,params:e==="GET"?a:null})).data}catch(o){throw console.log(`Had Issues ${e}ing to the backend, endpoint: ${s}, with data:`,a),console.dir(o),o.response&&o.response.status===401&&(window.location.assign("/#/login"),la.push("/login")),o}}const ta={query:Jm,getById:Wm,save:Xm,remove:Ym};async function Jm(s=null){return await b.get("stay",s)}async function Wm(s){return await b.get(`stay/${s}`)}async function Ym(s){return await b.delete(`stay/${s}`)}async function Xm(s){return toy._id?await b.put(`stay/${s._id}`,s):await b.post("stay",s)}var Km={state:{stays:[],filterBy:{price:[1,1800],type:[],city:"",amenities:[],guests:0}},getters:{getFilterFromStore(s){return JSON.parse(JSON.stringify(s.filterBy))},getStays(s){return JSON.parse(JSON.stringify(s.stays))},getGuestsNumber(s){return s.filterBy.guests},getCityFilter(s){return s.filterBy.city},getTypeFilter(s){return s.filterBy.type},getTopRatedStays(s){if(!s.stays.length)return;let e=JSON.parse(JSON.stringify(s.stays));return e=e.filter(a=>!!a.reviewScores.rating),e.splice(4),e},getStaysForDisplay(s){let e=JSON.parse(JSON.stringify(s.stays));if(!!e.length)return e}},mutations:{setGuestsFilter(s,{guests:e}){s.filterBy.guests=e},setCityFilter(s,{city:e}){s.filterBy.city=e},setTypeFilter(s,{stayType:e}){s.filterBy.type.push(e)},setFilter(s,{filterBy:e}){s.filterBy=e},setStays(s,{stays:e}){s.stays=e}},actions:{async getStayById(s,{stayId:e}){try{return await ta.getById(e)}catch{}},async loadStays({commit:s,state:e}){s({type:"setIsLoading",isLoading:!0});try{const a=await ta.query(e.filterBy);s({type:"setStays",stays:a})}catch(a){console.log("Error while loading stays: ",a)}finally{s({type:"setIsLoading",isLoading:!1})}},filter({commit:s,dispatch:e},{filterBy:a}){s({type:"setFilter",filterBy:a}),e({type:"loadStays"})}}};const Zm="user_db",Kt="loggedinUser",S={login:zm,logout:iu,signup:au,getLoggedinUser:ca,getUsers:tu,getById:su,update:eu,saveUser:Qm};window.userService=S;async function zm(s){try{const e=await b.post("auth/login",s);if(e)return Zt(e)}catch{console.log("Error while trying to login")}}async function Qm(s){return await b.post("user",s)}async function su(s){return await b.get(`user/${s}`)}async function eu(s){return s=await b.put(`user/${s._id}`,s),ca()._id===s._id&&Zt(s),s}async function tu(){let s=await Gm.query(Zm);return(!s||!s.length)&&(s=await _createUsers()),s}async function au(s){const e=await b.post("auth/signup",s);return Zt(e)}async function iu(){sessionStorage.removeItem(Kt)}function Zt(s){return sessionStorage.setItem(Kt,JSON.stringify(s)),s}function ca(){return JSON.parse(sessionStorage.getItem(Kt)||"null")}var ru={state:{users:null,loggedInUser:null,isSignUpModal:!1,isNewUser:!1},getters:{isNewUser(s){return s.isNewUser},getUsers(s){return JSON.parse(JSON.stringify(s.users))},isSignUpModal(s){return s.isSignUpModal},getLoggedInUser(s){return s.loggedInUser}},mutations:{openSignUpModal(s,{isNew:e}){s.isNewUser=e,s.isSignUpModal=!0},toggleNewUser(s){s.isNewUser=!s.isNewUser},setIsNewUser(s,{isNew:e}){s.isNewUser=e||!1},closeSignUpModal(s){s.isSignUpModal=!1},setLoggedinUser(s,{loggedInUser:e}){s.loggedInUser=e},setUsers(s,{users:e}){s.users=e},saveUser(s,{user:e}){const a=s.users.findIndex(o=>o._id===e._id);a!==-1?s.users.splice(a,1,e):s.users.unshift(e)}},actions:{async login({commit:s,dispatch:e},{user:a}){try{const o=await S.login(a);s({type:"setLoggedinUser",loggedInUser:o}),socketService.emit("logged in",o._id);const r={hostId:o._id};s({type:"resetIsHostLoaded"}),await e({type:"loadOrders",filterBy:r})}catch(o){throw console.log("Error while trying to log in",o),console.log(o),new Error("Somethig went wrong. Try again")}},async logout({commit:s,dispatch:e}){await S.logout(),s({type:"setLoggedinUser",loggedInUser:null}),s({type:"setOrders",orders:null}),s({type:"resetIsHostLoaded"}),socketService.emit("log out")},async signUp({commit:s,dispatch:e},{user:a}){try{const o=await S.signup(a);s({type:"setLoggedinUser",loggedInUser:o}),s({type:"resetIsHostLoaded"})}catch(o){console.log("Can't sign up:",o)}},async getUserById(s,{userId:e}){return await S.getById(e)},async loadUsers({commit:s,state:e}){const a=await S.getUsers();s({type:"setUsers",users:a})},async saveUser({commit:s,dispatch:e},{user:a}){await S.saveUser(a),s({type:"saveUser",user:a}),e({type:"loadUsers"})},getUserFromSession({commit:s}){const e=S.getLoggedinUser();s({type:"setLoggedinUser",loggedInUser:e})}}};const Vt="order",A={query:ou,addOrder:gu,removeOrder:cu,updateOrder:lu,getById:nu};async function ou(s={}){return await b.get(Vt,s)}async function nu(s){return await b.get(`order/${s}`)}async function gu(s){return await b.post(Vt,s)}async function lu(s){return await b.put(`${Vt}/${s._id}`,s)}async function cu(s){return await b.delete(`${Vt}/${s}`,s)}var du={state:{location:"",dates:null,guests:{adults:0,children:0},orders:[],hostOrders:[],isHostOrdersLoaded:!1,total:0},getters:{getHostOrders(s){return s.hostOrders},getOrders(s){return s.orders},getTotalPrice(s){return s.total},getLocation(s){return s.location},getDates(s){return s.dates},getGuests(s){return $({},s.guests)}},mutations:{clearOrdersFromStore(s){s.orders=[]},setTotalPrice(s,{totalPrice:e}){s.total=e},setLocation(s,{location:e}){s.location=e},setDates(s,{dates:e}){s.dates=e},setGuests(s,{guests:e}){s.guests=e},resetIsHostLoaded(s){s.isHostOrdersLoaded=!1},setHostOrders(s,{orders:e}){s.isHostOrdersLoaded||(s.isHostOrdersLoaded=!0,s.hostOrders=e)},setOrders(s,{orders:e}){s.orders=e},addOrder(s,{order:e}){s.orders.push(e)},updateOrder(s,{order:e}){const a=s.orders.findIndex(o=>o._id===e._id);s.orders.splice(a,1,e)},removeOrder(s,{orderId:e}){const a=s.orders.findIndex(o=>o._id===e);s.orders.splice(a,1)},clearOrderingDetails(s){s.location="",s.dates=null,s.guests={adults:0,children:0},s.total=0}},actions:{async loadOrders({commit:s},{filterBy:e}){s({type:"setIsLoading",isLoading:!0});try{const a=await A.query(e);s({type:"setOrders",orders:a}),s({type:"setHostOrders",orders:a})}catch(a){console.log("err :>> ",a)}finally{s({type:"setIsLoading",isLoading:!1})}},async loadOrdersWithSocket({commit:s},{filterBy:e}){try{const a=await A.query(e);return s({type:"setOrders",orders:a}),a}catch(a){console.log("err :>> ",a)}},async addOrder({commit:s},{order:e}){try{const a=await A.addOrder(e);s({type:"addOrder",order:a})}catch(a){console.log("err :>> ",a)}},async updateOrder({commit:s},{order:e}){try{const a=await A.updateOrder(e);s({type:"updateOrder",order:a})}catch(a){console.log("err :>> ",a)}},async removeOrder({commit:s},{orderId:e}){try{await A.removeOrder(e),s({type:"removeOrder",orderId:e})}catch(a){console.log("err :>> ",a)}}}};const pu=xa({strict:!0,state:{isLoading:!1,orderStatus:"",isShowingMessage:!1,message:{}},getters:{getMessage(s){return s.message},isLoading(s){return s.isLoading},isShowingMessage(s){return s.isShowingMessage}},mutations:{showMessage(s,{message:e}){s.message=e,s.isShowingMessage=!0},hideMessage(s){s.isShowingMessage=!1},setOrderStatus(s,{status:e}){s.orderStatus=e},setIsLoading(s,{isLoading:e}){s.isLoading=e}},actions:{},modules:{stayStore:Km,userStore:ru,orderStore:du}});const x=Ta(fr);x.config.globalProperties.$filters={currencyUSD(s){return"$"+s},getDateForDisplay(s){const e=new Date,a=new Date(s),o=e.getDay(),r=a.getDay(),i=e-a,n=a.getHours(),d=a.getMinutes();return i<1e3*60?`${(i/1e3).toFixed(0)} seconds ago `:i<1e3*60*60?`${(i/(1e3*60)).toFixed(0)} minutes ago `:i<1e3*60*60*24&&o===r?`Today, ${n<10?"0"+n:n}:${d<10?"0"+d:d} `:i<1e3*60*60*24*2&&(Math.abs(o-r)===1||Math.abs(o-r)===6)?`Yesterday, ${n<10?"0"+n:n}:${d<10?"0"+d:d} `:`${a.getDate()<10?"0"+a.getDate():a.getDate()}/${a.getMonth()<9?"0"+(a.getMonth()+1):a.getMonth()+1},  ${n<10?"0"+n:n}:${d<10?"0"+d:d} `}};x.use(la);x.use(pu);x.use(Ia);x.use(Da,{load:{key:"AIzaSyAcZWoRl-gITKbAK7tl0NjQ8nJkMb5tF40"}});x.use(Aa);x.mount("#app");
