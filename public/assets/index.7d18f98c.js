var ma=Object.defineProperty;var Kt=Object.getOwnPropertySymbols;var ha=Object.prototype.hasOwnProperty,ya=Object.prototype.propertyIsEnumerable;var zt=(e,s,a)=>s in e?ma(e,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[s]=a,b=(e,s)=>{for(var a in s||(s={}))ha.call(s,a)&&zt(e,a,s[a]);if(Kt)for(var a of Kt(s))ya.call(s,a)&&zt(e,a,s[a]);return e};import{_,o as l,c,a as t,t as g,r as u,w as T,v as J,b as h,d as v,e as p,f as A,n as y,g as va,h as Qt,i as U,j as D,F as $,k as w,l as k,m as M,p as fa,P as ea,C as ja,q as ba,s as Sa,u as $a,x as wa,y as ka,z as Ca,A as Ma,B as xa,D as Ta,V as Ua}from"./vendor.29e2c682.js";const Da=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function a(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=a(r);fetch(r.href,i)}};Da();const Ia={props:{guests:{type:Object,required:!0}},data(){return{guestSelected:null}},created(){this.guestSelected=b({},this.guests)},methods:{closeGuestsModal(){this.guestSelected=b({},this.guests),this.$emit("closeGuestsModal")},changeCount(e,s){e==="adults"&&this.guestSelected.adults===0&&s===-1||e==="children"&&this.guestSelected.children===0&&s===-1||(e==="children"&&s===1&&this.guestSelected.adults===0&&(this.guestSelected.adults=1),!(e==="adults"&&this.guestSelected.adults===1&&s===-1&&this.guestSelected.children>0)&&(this.guestSelected[e]+=s,this.$emit("onSelectGuests",b({},this.guestSelected))))},onSelectGuests(){this.$emit("closeGuestsModal")}}},Fa={class:"select-guests-modal"},Oa=t("p",{class:"guests-modal-title"},"Select guests",-1),Aa={class:"guests-type-container"},La=t("span",{class:"guests-type"},"Adults",-1),Pa={class:"guests-counter"},Ga={class:"guests-number"},Ba={class:"guests-type-container"},Ra=t("span",{class:"guests-type"},"Children",-1),Na={class:"guests-counter"},qa={class:"guests-number"},Ha={class:"guests-btns-container"};function Ea(e,s,a,n,r,i){return l(),c("section",Fa,[Oa,t("div",Aa,[La,t("div",Pa,[t("span",{class:"material-icons guest-count-icon",onClick:s[0]||(s[0]=o=>i.changeCount("adults",-1))}," remove "),t("span",Ga,g(r.guestSelected.adults),1),t("span",{class:"material-icons guest-count-icon",onClick:s[1]||(s[1]=o=>i.changeCount("adults",1))}," add ")])]),t("div",Ba,[Ra,t("div",Na,[t("span",{class:"material-icons guest-count-icon",onClick:s[2]||(s[2]=o=>i.changeCount("children",-1))}," remove "),t("span",qa,g(r.guestSelected.children),1),t("span",{class:"material-icons guest-count-icon",onClick:s[3]||(s[3]=o=>i.changeCount("children",1))}," add ")])]),t("div",Ha,[t("div",{class:"guest-modal-btn",onClick:s[4]||(s[4]=(...o)=>i.onSelectGuests&&i.onSelectGuests(...o))},"OK")])])}var Va=_(Ia,[["render",Ea]]),sa="/assets/search.c73f10dd.svg";const Ja={name:"main-search",props:{savedLocation:{type:String},savedDates:{type:Object},savedGuests:{type:Object}},data(){return{headerObserver:null,stickyNav:!1,isSelectingGuests:!1,location:"",dates:null,guests:{adults:0,children:0},isSearchOpen:!1}},components:{selectGuestsModal:Va},mounted(){window.addEventListener("click",this.clickCheck)},created(){this.location=this.savedLocation,this.dates=this.savedDates,this.guests=this.savedGuests},methods:{formatedDate(e){if(!this.dates)return"Add dates";const s=new Date(this.dates[e]);return`${s.getDate()<10?"0"+s.getDate():s.getDate()}/${s.getMonth()<9?"0"+(s.getMonth()+1):s.getMonth()+1}/${s.getFullYear().toString().substring(2)}`},closeGuestsModal(){this.isSelectingGuests=!1},onSelectGuests(e){this.guests=e},onSearch(){if(!this.location&&!this.dates&&this.guests.adults===0)this.isSearchOpen=!0,this.$refs["location-input"].focus();else{let e="/stay";const s=this.location,a=this.guests.adults+this.guests.children;this.$store.commit({type:"setGuestsFilter",guests:a}),s&&(e+=`?destination=${s}`),this.$store.commit({type:"setCityFilter",city:s}),this.$router.push(`${e}`),this.isSearchOpen=!1}},clickCheck(e){const s=e.target.className,a=e.target.localName;s==="search-btn"||s==="input"||s==="label"||s==="date-picker-container"||s==="guests-input"||s===""||a==="input"||(this.isSearchOpen=!1)}},computed:{getMainSearchText(){return this.$route.query.destination?this.$route.query.destination:"Where are you going?"},getGuestsNumber(){const e=this.guests.adults+this.guests.children;return e?e===1?"1 guest":`${e} guests`:"Add guests"},toggleSearchBtnClass(){return{"opened-search-icon":this.isSearchOpen,"search-icon":!this.isSearchOpen}}},watch:{dates(){this.$emit("mainSearchClosed",this.location,this.dates)},guests(){this.$emit("mainSearchClosed",this.location,this.dates,this.guests)}},unmounted(){this.$emit("mainSearchClosed",this.location,this.dates,this.guests),window.removeEventListener("click",this.clickCheck)}},Wa={class:"main-search-section"},Ya={class:"header-input location-input-top flex flex-column"},Ka=t("label",{for:"location-input",class:"label location-input"},"Location",-1),za=["placeholder"],Qa=t("span",{class:"search-space"},null,-1),Za={class:"date-picker-container header-input flex"},Xa=t("div",{class:"label check-in-label"},"Check in",-1),ei={class:"input add-dates"},si=t("span",{class:"search-space"},null,-1),ti={class:"header-input date-input check-out-top flex flex-column"},ai=t("div",{class:"label check-out-label"},"Check out",-1),ii={class:"block date-picker"},ri=t("span",{class:"search-space"},null,-1),oi={class:"header-input guestsInput flex"},ni={class:"guests-input-container flex flex-column"},li=t("label",{for:"guestsInput",class:"label"},"Guests",-1),gi=t("img",{src:sa,class:"search-btn",alt:"search icon"},null,-1),ci=t("h3",null,"Search",-1),di=[gi,ci];function pi(e,s,a,n,r,i){const o=u("el-date-picker"),d=u("select-guests-modal");return l(),c("section",Wa,[t("form",{onSubmit:s[5]||(s[5]=A(()=>{},["prevent"])),class:"main-search-container flex align-center btn"},[t("div",Ya,[Ka,T(t("input",{class:"input",ref:"location-input",type:"text","onUpdate:modelValue":s[0]||(s[0]=m=>r.location=m),id:"location-input",name:"location-input",placeholder:i.getMainSearchText,autocomplete:"off",spellcheck:"false"},null,8,za),[[J,r.location]])]),Qa,t("div",Za,[t("div",{onClick:s[1]||(s[1]=m=>e.$refs.focus()),class:"date-input check-in-top flex flex-column"},[Xa,t("div",ei,g(i.formatedDate(0)),1)]),si,t("div",ti,[ai,t("div",{class:"input add-dates",contenteditable:"true",ref:"div"},g(i.formatedDate(1)),513)]),t("div",ii,[h(o,{modelValue:r.dates,"onUpdate:modelValue":s[2]||(s[2]=m=>r.dates=m),type:"daterange","range-separator":"|","start-placeholder":"Add dates","end-placeholder":"Add dates",clearable:!0,"value-format":"x"},null,8,["modelValue"])])]),ri,t("div",oi,[t("div",ni,[li,t("div",{class:"input guests-input",onClick:s[3]||(s[3]=m=>r.isSelectingGuests=!r.isSelectingGuests),placeholder:"Add guests"},g(i.getGuestsNumber),1)]),r.isSelectingGuests?(l(),v(d,{key:0,guests:r.guests,onCloseGuestsModal:i.closeGuestsModal,onOnSelectGuests:i.onSelectGuests},null,8,["guests","onCloseGuestsModal","onOnSelectGuests"])):p("",!0),t("button",{onClick:s[4]||(s[4]=A((...m)=>i.onSearch&&i.onSearch(...m),["prevent"])),class:y(["search-icon",i.toggleSearchBtnClass])},di,2)])],32)])}var ui=_(Ja,[["render",pi]]);const _i={name:"header-user-menu",data(){return{user:null}},methods:{logout(){this.$emit("logout")},signUp(){this.$emit("openSignUp")},goToAboutPage(){this.$router.push("/about")},goToMyTrips(){this.$emit("goToMyTrips")},goToDashBoardPage(){this.$emit("goToDashboard")},goToExplorePage(){this.$emit("goToExplore")}},computed:{isLoggedIn(){return!!this.$store.getters.getLoggedInUser},isHosting(){const e=this.$store.getters.getOrders;return e?!!e.length:!1}}},mi={class:"header-user-menu"},hi=t("hr",null,null,-1),yi={key:5},vi=t("p",null,"Help",-1);function fi(e,s,a,n,r,i){return l(),c("section",mi,[i.isLoggedIn?p("",!0):(l(),c("p",{key:0,class:"sign-up-option",onClick:s[0]||(s[0]=(...o)=>i.signUp&&i.signUp(...o))},"Sign up")),i.isLoggedIn?p("",!0):(l(),c("p",{key:1,onClick:s[1]||(s[1]=(...o)=>i.signUp&&i.signUp(...o))},"Log in")),i.isLoggedIn?(l(),c("p",{key:2,onClick:s[2]||(s[2]=(...o)=>i.logout&&i.logout(...o))},"Log out")):p("",!0),hi,t("p",{onClick:s[3]||(s[3]=(...o)=>i.goToExplorePage&&i.goToExplorePage(...o)),class:"user-menu-explore"},"Explore"),i.isLoggedIn?(l(),c("p",{key:3,onClick:s[4]||(s[4]=(...o)=>i.goToMyTrips&&i.goToMyTrips(...o))},"My trips")):p("",!0),i.isLoggedIn&&i.isHosting?(l(),c("p",{key:4,onClick:s[5]||(s[5]=(...o)=>i.goToDashBoardPage&&i.goToDashBoardPage(...o))},"Dashboard")):p("",!0),i.isHosting?p("",!0):(l(),c("p",yi,"Host your home")),vi,t("p",{onClick:s[6]||(s[6]=(...o)=>i.goToAboutPage&&i.goToAboutPage(...o))},"About")])}var ji=_(_i,[["render",fi]]);const bi={name:"header-user-menu",data(){return{username:"",password:"",isUsernameAlert:!1,isInputAlert:!1,isInvalidAlert:!1}},methods:{async submitSignUp(){if(!this.password||!this.username){this.isInputAlert=!0,this.isUsernameAlert=!1,this.isInvalidAlert=!1;return}const e={username:this.username,password:this.password};try{await this.$store.dispatch({type:"login",user:e}),this.cleanData(),this.$emit("closeSignUp")}catch(s){throw console.error("Error while trying to log in:",s),this.isInputAlert=!1,this.isUsernameAlert=!1,this.isInvalidAlert=!0,this.cleanData(),s}},closeSignUp(){this.cleanData(),this.$emit("closeSignUp")},cleanData(){this.isInputAlert=!1,this.isUsernameAlert=!1,this.isInvalidAlert=!1,this.username="",this.password=""}}},Si=t("p",{class:"sign-up-title"},"Log in or sign up",-1),$i=t("h1",{class:"sign-up-welcome"},"Welcome to RestInn",-1),wi={key:0,class:"input-alert"},ki={key:1,class:"input-alert"},Ci={key:2,class:"input-alert"},Mi={key:3,class:"no-alert"},xi={class:"sign-up-inputs-container"};function Ti(e,s,a,n,r,i){return l(),c("section",{class:"sign-up-modal",onKeyup:s[4]||(s[4]=va((...o)=>i.submitSignUp&&i.submitSignUp(...o),["enter"]))},[t("span",{class:"material-icons close-sign-up",onClick:s[0]||(s[0]=(...o)=>i.closeSignUp&&i.closeSignUp(...o))}," close "),Si,$i,r.isInputAlert?(l(),c("p",wi," Please enter username and password ")):p("",!0),r.isUsernameAlert?(l(),c("p",ki," Please enter a valid username address ")):p("",!0),r.isInvalidAlert?(l(),c("p",Ci," Invalid username or password ")):p("",!0),!r.isInputAlert&&!r.isUsernameAlert&&!r.isInvalidAlert?(l(),c("p",Mi," . ")):p("",!0),t("div",xi,[T(t("input",{ref:"username",class:"sign-up-input",type:"text","onUpdate:modelValue":s[1]||(s[1]=o=>r.username=o),placeholder:"username"},null,512),[[J,r.username]]),T(t("input",{class:"sign-up-input",type:"password","onUpdate:modelValue":s[2]||(s[2]=o=>r.password=o),placeholder:"Password"},null,512),[[J,r.password]])]),t("div",{class:"sign-up-continue",onClick:s[3]||(s[3]=(...o)=>i.submitSignUp&&i.submitSignUp(...o))},"Continue")],32)}var ta=_(bi,[["render",Ti]]),Ui="/assets/menu_black_24dp.c4cfbab0.svg",Di="/assets/user-avatar.16ee6c53.svg";const Ii={name:"app-header",props:{headerStatus:{type:String,default:"top"}},data(){return{isShowingHamburger:!1,isSignUp:!1,scrollLoc:0,scrollStatus:"up",isFullSearch:!0,showMainSearch:!0,headerClass:"",isSearch:!0,layout:"main-layout-homepage"}},created(){document.addEventListener("scroll",this.updateScroll)},methods:{goToMyTrips(){this.isShowingHamburger=!1,this.$router.push("/mytrips")},goToDashboard(){this.isShowingHamburger=!1,this.$router.push("/dashboard")},goToExplore(){this.isShowingHamburger=!1,this.$router.push("/stay")},updateScroll(){window.scrollY<=20?this.scrollStatus="up":this.scrollStatus="down",this.setHeaderClass()},logout(){this.$store.dispatch({type:"logout"}),this.isShowingHamburger=!1,this.$router.push("/")},openSignUp(){this.$store.commit({type:"openSignUpModal"}),this.isShowingHamburger=!1},mainSearchClosed(e,s,a){this.$store.commit({type:"setLocation",location:e}),this.$store.commit({type:"setDates",dates:s}),this.$store.commit({type:"setGuests",guests:a})},toggleShowMainSearch(){this.showMainSearch=!this.showMainSearch},goHome(){this.$router.push("/")},setHeaderClass(){this.$route.path==="/"?(this.layout="main-layout-homepage",this.isSearch=!0,this.scrollStatus==="up"?(this.showMainSearch=!0,this.headerClass="full-search-home"):(this.showMainSearch=!1,this.headerClass="small-search")):this.$route.params.stayId?(this.layout="main-layout",this.isSearch=!0,this.showMainSearch=!1,this.headerClass="small-search"):this.$route.path==="/stay"?(this.layout="main-layout-homepage",this.isSearch=!0,this.showMainSearch=!1,this.headerClass="small-search"):this.$route.path==="/dashboard"?(this.layout="main-layout-homepage",this.isSearch=!1,this.headerClass="on-dashboard",this.showMainSearch=!1):(this.layout="main-layout-homepage",this.isSearch=!1,this.headerClass="small-search")}},computed:{isLoggedIn(){return!!this.$store.getters.getLoggedInUser},homepageClass(){let e="";return this.scrollLoc>20&&(e+="scrolled "),this.$route.path==="/"&&(e+="homepage"),e},getSearchText(){return this.$route.query.destination?this.$route.query.destination:"Start your search"},getDates(){return this.$store.getters.getDates},getGuests(){return this.$store.getters.getGuests},getLocation(){return this.$route.query.destination?this.$route.query.destination:""}},watch:{$route(){this.updateScroll()}},components:{mainSearch:ui,headerUserMenu:ji,signUp:ta}},Fi={class:"main-header-section"},Oi={class:"logo-nav-container flex space-between"},Ai=t("i",{class:"fa-brands fa-airbnb"},null,-1),Li=t("h1",{class:"logo-txt"},"RestInn",-1),Pi=[Ai,Li],Gi=t("div",{class:"search-icon-small"},[t("img",{src:sa,alt:"search Icon"})],-1),Bi={class:"main-header-nav flex align-center"},Ri=D("Explore"),Ni=D("Become a host"),qi=t("img",{class:"hamburger-img",src:Ui,alt:"menu-icon"},null,-1),Hi={key:0,class:"hamburger-avatar",src:Di,alt:"user avatar"},Ei={key:1,class:"hamburger-avatar user-avater-image",src:"https://thispersondoesnotexist.com/image",alt:"user avatar"},Vi={class:"main-search-bar flex justify-center align-center"};function Ji(e,s,a,n,r,i){const o=u("router-link"),d=u("header-user-menu"),m=u("main-search");return l(),c("section",Fi,[t("header",{class:y(["main-header-container flex flex-column align-center",{[r.headerClass]:!0,[r.layout]:!0}])},[t("div",Oi,[t("div",{class:"logo flex align-center",onClick:s[0]||(s[0]=(...j)=>i.goHome&&i.goHome(...j))},Pi),T(t("div",{onClick:s[1]||(s[1]=(...j)=>i.toggleShowMainSearch&&i.toggleShowMainSearch(...j)),class:"mini-search inline-flex justify-center align-center space-between"},[t("div",null,g(i.getSearchText),1),Gi],512),[[Qt,!r.showMainSearch&&r.isSearch]]),t("nav",Bi,[h(o,{to:"/stay"},{default:U(()=>[Ri]),_:1}),h(o,{to:"/host",class:"be-host-nav"},{default:U(()=>[Ni]),_:1}),t("div",{class:"hamburger-user-menu btn flex space-between",onClick:s[2]||(s[2]=j=>r.isShowingHamburger=!0)},[qi,i.isLoggedIn?(l(),c("img",Ei)):(l(),c("img",Hi))]),h(d,{class:y({showHamburger:r.isShowingHamburger}),onGoToDashboard:i.goToDashboard,onGoToMyTrips:i.goToMyTrips,onOpenSignUp:i.openSignUp,onLogout:i.logout,onGoToExplore:i.goToExplore},null,8,["class","onGoToDashboard","onGoToMyTrips","onOpenSignUp","onLogout","onGoToExplore"])]),r.isShowingHamburger?(l(),c("div",{key:0,class:"outsideUserMenu",onClick:s[3]||(s[3]=j=>r.isShowingHamburger=!1)})):p("",!0)]),T(t("div",Vi,[h(m,{onMainSearchClosed:i.mainSearchClosed,savedLocation:i.getLocation,savedDates:i.getDates,savedGuests:i.getGuests},null,8,["onMainSearchClosed","savedLocation","savedDates","savedGuests"])],512),[[Qt,r.showMainSearch&&r.isSearch]])],2)])}var Wi=_(Ii,[["render",Ji]]);const Yi={name:"app-footer"},Ki={class:"footer flex justify-center aline-center"},zi=t("div",{class:"rights"},[t("p",null,"\xA9 2022 RestInn")],-1),Qi=[zi];function Zi(e,s,a,n,r,i){return l(),c("section",Ki,Qi)}var Zt=_(Yi,[["render",Zi]]);const Xi={name:"app",components:{appHeader:Wi,appFooter:Zt,AppFooter:Zt,signUp:ta},data(){return{headerStatus:"top",scrollY:0}},async created(){const e={price:[1,4e3],type:[],city:"",amenities:[],guests:0};this.$store.dispatch({type:"getUserFromSession"});const s=this.$store.getters.getLoggedInUser;if(s){const a={hostId:s._id};try{await this.$store.dispatch({type:"loadOrders",filterBy:a})}catch(n){console.log("Error while loading orders: ",n)}}await this.$store.dispatch({type:"loadStays",filterBy:e})},computed:{isSignUp(){const e=this.$store.getters.isSignUpModal;return e&&this.$refs.signup.$refs.username.focus(),e}},methods:{closeSignUp(){this.$store.commit({type:"closeSignUpModal"})}}},er={class:"app-container"},sr={class:"main-app-container flex flex-column app-container"};function tr(e,s,a,n,r,i){const o=u("sign-up"),d=u("app-header"),m=u("router-view"),j=u("app-footer");return l(),c("section",er,[h(o,{class:y({showSignUp:i.isSignUp}),onCloseSignUp:i.closeSignUp,ref:"signup"},null,8,["class","onCloseSignUp"]),i.isSignUp?(l(),c("div",{key:0,class:"outsideUserMenu",onClick:s[0]||(s[0]=(...V)=>i.closeSignUp&&i.closeSignUp(...V))})):p("",!0),t("div",sr,[h(d),h(m,{class:"main-layout-height"}),h(j)])])}var ar=_(Xi,[["render",tr]]),W="/assets/001.56009581.jpeg",Y="/assets/002.aba6c90a.jpeg",K="/assets/003.bf107555.jpeg",z="/assets/004.039dd32e.jpeg",Q="/assets/005.c309e5f6.jpeg",Z="/assets/006.257c0112.jpeg",X="/assets/007.42af7aac.jpeg",ee="/assets/008.8f6d2ead.jpeg",se="/assets/009.fdc070ea.jpeg",te="/assets/010.4fde52d4.jpeg",ae="/assets/011.b763f7c0.jpeg",ie="/assets/012.3e4eac6a.jpeg",re="/assets/013.0a610e0c.jpeg",oe="/assets/014.8293a76a.jpeg",ne="/assets/015.741f77ae.jpeg",le="/assets/016.788b9ce3.jpeg",ge="/assets/017.c386887d.jpeg",ce="/assets/018.94a5ebb5.jpeg",de="/assets/019.8e96c025.jpeg",pe="/assets/020.c365da97.jpeg",ue="/assets/021.75d3ef8f.jpeg",_e="/assets/022.ca8c152d.jpeg",me="/assets/023.91d92ad5.jpeg",he="/assets/024.1b11a4c3.jpeg",ye="/assets/025.85878dc3.jpeg",ve="/assets/026.2441e7a7.jpeg",fe="/assets/027.67531186.jpeg",je="/assets/028.e3b6c229.jpeg",be="/assets/029.61f958f9.jpeg",Se="/assets/030.eccf344d.jpeg",$e="/assets/031.e8e70263.jpeg",we="/assets/032.26553dbf.jpeg",ke="/assets/033.827159be.jpeg",Ce="/assets/034.e211fe64.jpeg",Me="/assets/035.a354b153.jpeg",xe="/assets/036.4c31a8ee.jpeg",Te="/assets/037.3a21df06.jpeg",Ue="/assets/038.b9f57513.jpeg",De="/assets/039.d9834aac.jpeg",Ie="/assets/040.f17f240d.jpeg",Fe="/assets/041.17aefa50.jpeg",Oe="/assets/042.1316ceec.jpeg",Ae="/assets/043.abf0b02a.jpeg",Le="/assets/044.f314352d.jpeg",Pe="/assets/045.f7eba795.jpeg",Ge="/assets/046.22584889.jpeg",Be="/assets/047.06d66353.jpeg",Re="/assets/048.72f9ff3b.jpeg",Ne="/assets/049.03c73890.jpeg",qe="/assets/050.a7e3a529.jpeg",He="/assets/051.8f7ade7f.jpeg",Ee="/assets/052.6b836ec7.jpeg",Ve="/assets/053.28d6cf2e.jpeg",Je="/assets/054.e770010e.jpeg",We="/assets/055.dd3648e0.jpeg",Ye="/assets/056.75d33de2.jpeg",Ke="/assets/057.05d01841.jpeg",ze="/assets/058.dd93f7d9.jpeg",Qe="/assets/059.7132f238.jpeg",Ze="/assets/060.6cbc3759.jpeg",Xe="/assets/061.5d90b098.jpeg",es="/assets/062.3da3d121.jpeg",ss="/assets/063.15db22a3.jpeg",ts="/assets/064.7a790972.jpeg",as="/assets/065.f2153245.jpeg",is="/assets/066.8ebb4e14.jpeg",rs="/assets/067.4afb1c56.jpeg",os="/assets/068.b61f37e3.jpeg",ns="/assets/069.65ad9632.jpeg",ls="/assets/070.822f9f43.jpeg",gs="/assets/071.ec43d03f.jpeg",cs="/assets/072.5ba20ef5.jpeg",ds="/assets/073.41404185.jpeg",ps="/assets/074.37848ba0.jpeg",us="/assets/075.e518f478.jpeg",_s="/assets/076.82301c95.jpeg",ms="/assets/077.06eacf7f.jpeg",hs="/assets/078.22e2c94d.jpeg",ys="/assets/079.52cbb3f7.jpeg",vs="/assets/080.44213bbf.jpeg",fs="/assets/081.1e480430.jpeg",js="/assets/082.4107e8dc.jpeg",bs="/assets/083.88f36eef.jpeg",Ss="/assets/084.d6cb4ebb.jpeg",$s="/assets/085.43eb74d7.jpeg",ws="/assets/086.76b0f28c.jpeg",ks="/assets/087.f20ac33f.jpeg",Cs="/assets/088.e63dc5b0.jpeg",Ms="/assets/089.b3938fed.jpeg",xs="/assets/090.a288cec8.jpeg",Ts="/assets/091.bfe8c696.jpeg",Us="/assets/092.a8dccdca.jpeg",Ds="/assets/093.94e94eef.jpeg",Is="/assets/094.c6c2978a.jpeg",Fs="/assets/095.9d5fd11e.jpeg",Os="/assets/096.e758c6c6.jpeg",As="/assets/097.2a2d2114.jpeg",Ls="/assets/098.cd04c448.jpeg",Ps="/assets/099.efe7d930.jpeg",Gs="/assets/100.88d126bd.jpeg",Bs="/assets/101.2111e16d.jpeg",Rs="/assets/102.892fdbaa.jpeg",Ns="/assets/103.3adf4193.jpeg",qs="/assets/104.3c0251cc.jpeg",Hs="/assets/105.df4c5253.jpeg",Es="/assets/106.8ab22027.jpeg",Vs="/assets/107.0a79e202.jpeg",Js="/assets/108.2f48ba34.jpeg",Ws="/assets/109.0716c9e6.jpeg",Ys="/assets/110.e06f1955.jpeg",Ks="/assets/111.d12c9b1f.jpeg",zs="/assets/112.d7035de7.jpeg",Qs="/assets/113.4f0e4b81.jpeg",Zs="/assets/114.580202aa.jpeg",Xs="/assets/115.a156f0a3.jpeg",et="/assets/116.19cb7a53.jpeg",st="/assets/117.bc48baa3.jpeg",tt="/assets/118.fd0d4056.jpeg",at="/assets/119.5bf7fa0f.jpeg",it="/assets/120.054b2482.jpeg",rt="/assets/121.d365d6fa.jpeg",ot="/assets/122.09277c65.jpeg",nt="/assets/123.a1689260.jpeg",lt="/assets/124.16e98d1a.jpeg",gt="/assets/125.7551a255.jpeg",ct="/assets/126.cf133469.jpeg",dt="/assets/127.7da97c41.jpeg",pt="/assets/128.a1d9aef5.jpeg",ut="/assets/129.7b322acd.jpeg",_t="/assets/130.331b5ecb.jpeg",mt="/assets/131.39b1b425.jpeg",ht="/assets/132.f54aad0e.jpeg",yt="/assets/133.33964f83.jpeg",vt="/assets/134.2bf21739.jpeg",ft="/assets/135.67cf5f1c.jpeg",jt="/assets/136.28cc4430.jpeg",bt="/assets/137.e0e00252.jpeg",St="/assets/138.07811788.jpeg",$t="/assets/139.617fcc6c.jpeg",wt="/assets/140.7da3b280.jpeg",kt="/assets/141.84d5af48.jpeg",Ct="/assets/142.a72e34b6.jpeg",Mt="/assets/143.e672b28f.jpeg",xt="/assets/144.1e5c762e.jpeg",Tt="/assets/145.45c0988b.jpeg",Ut="/assets/146.44ab1efc.jpeg",Dt="/assets/147.2f7f2484.jpeg",It="/assets/148.f7af6f32.jpeg",Ft="/assets/149.f7009809.jpeg",Ot="/assets/150.e4278011.jpeg",At="/assets/151.34184565.jpeg",Lt="/assets/152.2227af41.jpeg",Pt="/assets/153.89baf4c6.jpeg",Gt="/assets/apartment.fce16713.jpg",L="/assets/Barcelona.3ab4f5ce.jpg",P="/assets/cabin.ec34f670.jpg",Bt="/assets/cabin2.cc6a43f7.jpg",Rt="/assets/condominium.e3b1df7c.jpg",Nt="/assets/homepage3.a967e08d.jpg",G="/assets/Hongkong.d6d3fe60.jpg",B="/assets/Istanbul.6e7791b6.jpg",qt="/assets/lidor.c37f88b3.jpg",Ht="/assets/loft.b77149f6.jpg",Et="/assets/London.94748fea.jpg",R="/assets/Maui.c68c1a4e.jpg",Vt="/assets/Rome.30211508.jpg",N="/assets/Villa.19dda960.jpg",ir="/assets/apartment.fce16713.jpg",rr="/assets/loft.b77149f6.jpg";const or={name:"home-page",data(){return{}},components:{},created(){},methods:{getImgUrl(e){return new URL({"../assets/images/001.jpeg":W,"../assets/images/002.jpeg":Y,"../assets/images/003.jpeg":K,"../assets/images/004.jpeg":z,"../assets/images/005.jpeg":Q,"../assets/images/006.jpeg":Z,"../assets/images/007.jpeg":X,"../assets/images/008.jpeg":ee,"../assets/images/009.jpeg":se,"../assets/images/010.jpeg":te,"../assets/images/011.jpeg":ae,"../assets/images/012.jpeg":ie,"../assets/images/013.jpeg":re,"../assets/images/014.jpeg":oe,"../assets/images/015.jpeg":ne,"../assets/images/016.jpeg":le,"../assets/images/017.jpeg":ge,"../assets/images/018.jpeg":ce,"../assets/images/019.jpeg":de,"../assets/images/020.jpeg":pe,"../assets/images/021.jpeg":ue,"../assets/images/022.jpeg":_e,"../assets/images/023.jpeg":me,"../assets/images/024.jpeg":he,"../assets/images/025.jpeg":ye,"../assets/images/026.jpeg":ve,"../assets/images/027.jpeg":fe,"../assets/images/028.jpeg":je,"../assets/images/029.jpeg":be,"../assets/images/030.jpeg":Se,"../assets/images/031.jpeg":$e,"../assets/images/032.jpeg":we,"../assets/images/033.jpeg":ke,"../assets/images/034.jpeg":Ce,"../assets/images/035.jpeg":Me,"../assets/images/036.jpeg":xe,"../assets/images/037.jpeg":Te,"../assets/images/038.jpeg":Ue,"../assets/images/039.jpeg":De,"../assets/images/040.jpeg":Ie,"../assets/images/041.jpeg":Fe,"../assets/images/042.jpeg":Oe,"../assets/images/043.jpeg":Ae,"../assets/images/044.jpeg":Le,"../assets/images/045.jpeg":Pe,"../assets/images/046.jpeg":Ge,"../assets/images/047.jpeg":Be,"../assets/images/048.jpeg":Re,"../assets/images/049.jpeg":Ne,"../assets/images/050.jpeg":qe,"../assets/images/051.jpeg":He,"../assets/images/052.jpeg":Ee,"../assets/images/053.jpeg":Ve,"../assets/images/054.jpeg":Je,"../assets/images/055.jpeg":We,"../assets/images/056.jpeg":Ye,"../assets/images/057.jpeg":Ke,"../assets/images/058.jpeg":ze,"../assets/images/059.jpeg":Qe,"../assets/images/060.jpeg":Ze,"../assets/images/061.jpeg":Xe,"../assets/images/062.jpeg":es,"../assets/images/063.jpeg":ss,"../assets/images/064.jpeg":ts,"../assets/images/065.jpeg":as,"../assets/images/066.jpeg":is,"../assets/images/067.jpeg":rs,"../assets/images/068.jpeg":os,"../assets/images/069.jpeg":ns,"../assets/images/070.jpeg":ls,"../assets/images/071.jpeg":gs,"../assets/images/072.jpeg":cs,"../assets/images/073.jpeg":ds,"../assets/images/074.jpeg":ps,"../assets/images/075.jpeg":us,"../assets/images/076.jpeg":_s,"../assets/images/077.jpeg":ms,"../assets/images/078.jpeg":hs,"../assets/images/079.jpeg":ys,"../assets/images/080.jpeg":vs,"../assets/images/081.jpeg":fs,"../assets/images/082.jpeg":js,"../assets/images/083.jpeg":bs,"../assets/images/084.jpeg":Ss,"../assets/images/085.jpeg":$s,"../assets/images/086.jpeg":ws,"../assets/images/087.jpeg":ks,"../assets/images/088.jpeg":Cs,"../assets/images/089.jpeg":Ms,"../assets/images/090.jpeg":xs,"../assets/images/091.jpeg":Ts,"../assets/images/092.jpeg":Us,"../assets/images/093.jpeg":Ds,"../assets/images/094.jpeg":Is,"../assets/images/095.jpeg":Fs,"../assets/images/096.jpeg":Os,"../assets/images/097.jpeg":As,"../assets/images/098.jpeg":Ls,"../assets/images/099.jpeg":Ps,"../assets/images/100.jpeg":Gs,"../assets/images/101.jpeg":Bs,"../assets/images/102.jpeg":Rs,"../assets/images/103.jpeg":Ns,"../assets/images/104.jpeg":qs,"../assets/images/105.jpeg":Hs,"../assets/images/106.jpeg":Es,"../assets/images/107.jpeg":Vs,"../assets/images/108.jpeg":Js,"../assets/images/109.jpeg":Ws,"../assets/images/110.jpeg":Ys,"../assets/images/111.jpeg":Ks,"../assets/images/112.jpeg":zs,"../assets/images/113.jpeg":Qs,"../assets/images/114.jpeg":Zs,"../assets/images/115.jpeg":Xs,"../assets/images/116.jpeg":et,"../assets/images/117.jpeg":st,"../assets/images/118.jpeg":tt,"../assets/images/119.jpeg":at,"../assets/images/120.jpeg":it,"../assets/images/121.jpeg":rt,"../assets/images/122.jpeg":ot,"../assets/images/123.jpeg":nt,"../assets/images/124.jpeg":lt,"../assets/images/125.jpeg":gt,"../assets/images/126.jpeg":ct,"../assets/images/127.jpeg":dt,"../assets/images/128.jpeg":pt,"../assets/images/129.jpeg":ut,"../assets/images/130.jpeg":_t,"../assets/images/131.jpeg":mt,"../assets/images/132.jpeg":ht,"../assets/images/133.jpeg":yt,"../assets/images/134.jpeg":vt,"../assets/images/135.jpeg":ft,"../assets/images/136.jpeg":jt,"../assets/images/137.jpeg":bt,"../assets/images/138.jpeg":St,"../assets/images/139.jpeg":$t,"../assets/images/140.jpeg":wt,"../assets/images/141.jpeg":kt,"../assets/images/142.jpeg":Ct,"../assets/images/143.jpeg":Mt,"../assets/images/144.jpeg":xt,"../assets/images/145.jpeg":Tt,"../assets/images/146.jpeg":Ut,"../assets/images/147.jpeg":Dt,"../assets/images/148.jpeg":It,"../assets/images/149.jpeg":Ft,"../assets/images/150.jpeg":Ot,"../assets/images/151.jpeg":At,"../assets/images/152.jpeg":Lt,"../assets/images/153.jpeg":Pt,"../assets/images/apartment.jpg":Gt,"../assets/images/Barcelona.jpg":L,"../assets/images/cabin.jpg":P,"../assets/images/cabin2.jpg":Bt,"../assets/images/condominium.jpg":Rt,"../assets/images/homepage3.jpg":Nt,"../assets/images/Hongkong.jpg":G,"../assets/images/Istanbul.jpg":B,"../assets/images/lidor.jpg":qt,"../assets/images/loft.jpg":Ht,"../assets/images/London.jpg":Et,"../assets/images/Maui.jpg":R,"../assets/images/Rome.jpg":Vt,"../assets/images/Villa.jpg":N}[`../assets/images/${e}`],self.location)},onCloseModal(){let e=document.getElementById("id01");window.onclick=function(s){s.target==e&&(e.style.display="none")}},getStayRate(e){if(!!e)return(e.reviewScores.rating/20).toFixed(2)},getReviewCount(e){return e.reviews.length+" reviews"}},computed:{topRatedStays(){return this.$store.getters.getTopRatedStays},stays(){return this.$store.getters.getStays}},unmounted(){}},nr={key:0,class:"home-page-container"},lr=t("div",{class:"main-hero-img"},[t("div",{class:"tag-line-container"},[t("h1",{class:"tag tag-line1"},"Choose your Inn."),t("h1",{class:"tag tag-line2"},"We'll do the rest.")])],-1),gr={class:"main-layout-homepage"},cr=k('<h1 class="destinations-header">Popular destinations</h1><div class="destinations-container"><a href="#/stay?destination=Barcelona"><img src="'+L+'" alt="Barcelona"><h3>Barcelona</h3></a><a href="#/stay?destination=Hong%20Kong"><img src="'+G+'" alt="Hongkong"><h3>Hong Kong</h3></a><a href="#/stay?destination=Maui"><img src="'+R+'" alt="Maui"><h3>Maui</h3></a><a href="#/stay?destination=Istanbul"><img src="'+B+'" alt="Istanbul"><h3>Istanbul</h3></a></div><h1 class="destinations-header">Select by type</h1><div class="destinations-container"><a href="#/stay?type=Cabin"><img src="'+P+'" alt="Cabin"><h3>Cabin</h3></a><a href="#/stay?type=Apartment"><img src="'+ir+'" alt="Apartment"><h3>Apartment</h3></a><a href="#/stay?type=Loft"><img src="'+rr+'" alt="Loft"><h3>Loft</h3></a><a href="#/stay?type=Villa"><img src="'+N+'" alt="Villa"><h3>Villa</h3></a></div><h1 class="destinations-header">Top rated stays</h1>',5),dr={key:0,class:"destinations-container"},pr=["href"],ur=["src"],_r={class:"card-preview-line"},mr=t("span",{class:"material-icons-outlined star"},"star",-1),hr={class:"card-rate"},yr={class:"reviews-count"};function vr(e,s,a,n,r,i){return i.stays?(l(),c("section",nr,[lr,t("div",gr,[cr,i.topRatedStays?(l(),c("div",dr,[(l(!0),c($,null,w(i.topRatedStays,o=>(l(),c("a",{href:"/#/stay/"+o._id,key:o._id},[t("img",{src:i.getImgUrl(o.imgUrls[0]),alt:"StayImage"},null,8,ur),t("p",_r,[mr,t("span",hr,g(i.getStayRate(o)),1),t("span",yr,"("+g(i.getReviewCount(o))+")",1)]),t("h4",null,g(o.name),1)],8,pr))),128))])):p("",!0)])])):p("",!0)}var fr=_(or,[["render",vr]]);const jr={},br={class:"about-page main-layout-height flex direction-column"},Sr={class:"lidor-container"},$r=t("i",{class:"fa-brands fa-airbnb logo-pink-i"},null,-1),wr=t("h1",{class:"logo-restiin"},"RestInn",-1),kr=[$r,wr],Cr=t("div",{class:"tag-line-about"},[t("h1",{class:"tag tag-line3"},"Join Our Family,"),t("h1",{class:"tag tag-line4"},"Become a Host")],-1);function Mr(e,s,a,n,r,i){return l(),c("section",br,[t("div",Sr,[t("div",{class:"logo-pink flex align-center",onClick:s[0]||(s[0]=(...o)=>e.goHome&&e.goHome(...o))},kr),Cr])])}var xr=_(jr,[["render",Mr]]),Tr="/assets/image1.1ff43743.jpg",Ur="/assets/restinn-host-video.893e22fb.mp4";const Dr={methods:{getImgUrl(e){return new URL("/assets/restinn-logo-with-slogan.006331ea.jpeg",self.location)},videoLoadedFunction(){setTimeout(()=>{},500)}}},Ir={class:"host-page"},Fr={class:"host-page-text-and-video"},Or=k('<section class="host-page-text"><div class="logo-pink"><i class="fa-brands fa-airbnb logo-pink-i"></i><h1 class="logo-restinn">RestInn</h1></div><div class="tag-line-about"><h1 class="tag tag-line3">Choose your inn,</h1><h1 class="tag tag-line4">We&#39;ll do the rest</h1></div></section>',1),Ar={class:"host-page-video"},Lr=t("source",{src:Ur,type:"video/mp4"},null,-1),Pr=D("Sorry, your browser doesn't support embedded videos. "),Gr=[Lr,Pr];function Br(e,s,a,n,r,i){return l(),c("section",Ir,[t("section",Fr,[Or,t("section",Ar,[t("video",{class:"host-video",autoplay:"",muted:"",preload:"none",poster:Tr,onCanplay:s[0]||(s[0]=(...o)=>i.videoLoadedFunction&&i.videoLoadedFunction(...o))},Gr,32)])])])}var Rr=_(Dr,[["render",Br]]);const Nr={name:"trip-preview",emits:["updateStatus"],props:{trip:{type:Object,required:!0}},data(){return{hostName:""}},async created(){const e=await this.$store.dispatch({type:"getUserById",userId:this.trip.hostId});this.hostName=e.fullname},methods:{goToStay(){this.$router.push(`/stay/${this.trip.stay._id}`)},getFormatedPrice(e){var s=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0});return s.format(e)},updateStatus(e){const s=this.trip._id;this.$emit("updateStatus",{status:e,tripId:s})},timeConversion(e){let s=new Date(e).getDate();s=s<10?"0"+s:s;let a=new Date(e).getMonth()+1;a=a<10?"0"+a:a;let n=new Date(e).getFullYear().toString().substring(2)+"";return`${s}/${a}/${n}`}},computed:{isUnancelable(){const e=this.trip.startDate,s=Date.now(),a=1e3*60*60*72;return e-s<a||this.trip.status==="canceled"||this.trip.status==="rejected"},formattedText(){return this.trip.stay.name.length>15?this.trip.stay.name.slice(0,15)+"...":this.trip.stay.name}}},qr={key:0,class:"dashboard-order-cont"},Hr={class:"date"},Er={key:0,class:"host"},Vr={class:"trip-dates"},Jr={class:"nights"},Wr={class:"guests"},Yr={class:"price"},Kr={class:"total"},zr={class:"trip-actions actions-container"},Qr=["disabled"];function Zr(e,s,a,n,r,i){return a.trip?(l(),c("section",qr,[t("div",Hr,g(i.timeConversion(a.trip.createdAt)),1),r.hostName?(l(),c("div",Er,g(r.hostName),1)):p("",!0),t("div",{onClick:s[0]||(s[0]=(...o)=>i.goToStay&&i.goToStay(...o)),class:"stay stay-link"},g(i.formattedText),1),t("div",Vr,g(i.timeConversion(a.trip.startDate))+" - "+g(i.timeConversion(a.trip.endDate)),1),t("div",Jr,g(Math.round(a.trip.totalPrice/a.trip.stay.price)),1),t("div",Wr,g(a.trip.guests.adults+a.trip.guests.children),1),t("div",Yr,g(i.getFormatedPrice(a.trip.stay.price))+" / n",1),t("div",Kr,g(i.getFormatedPrice(a.trip.totalPrice)),1),t("div",{class:y(["status",a.trip.status])},g(a.trip.status),3),t("div",zr,[t("button",{disabled:i.isUnancelable,onClick:s[1]||(s[1]=o=>i.updateStatus("canceled"))}," Cancel ",8,Qr)])])):p("",!0)}var Xr=_(Nr,[["render",Zr]]);const eo={name:"trip-list",emits:["updateStatus"],props:{trips:{type:Array,required:!0}},methods:{updateStatus(e){this.$emit("updateStatus",e)}},components:{tripPreview:Xr}},so={key:0,class:"dash-board main-layout-homepage"},to=k('<div class="dashboard-order-cont"><div class="dashboard-title date">Date</div><div class="dashboard-title host">Host</div><div class="dashboard-title stay">Stay</div><div class="dashboard-title trip-dates">Dates</div><div class="dashboard-title nights">Nights</div><div class="dashboard-title guests">Guests</div><div class="dashboard-title price">Price</div><div class="dashboard-title total">Total</div><div class="dashboard-title status">Status</div><div class="dashboard-title trip-actions">Actions</div></div>',1);function ao(e,s,a,n,r,i){const o=u("trip-preview");return a.trips?(l(),c("section",so,[to,(l(!0),c($,null,w(a.trips.slice().reverse(),d=>(l(),v(o,{key:d._id,trip:d,onUpdateStatus:i.updateStatus},null,8,["trip","onUpdateStatus"]))),128))])):p("",!0)}var io=_(eo,[["render",ao]]);const ro={props:{message:{type:Object,required:!0}},data(){return{}},methods:{goToPage(){this.message.from==="host"?this.$router.push("/my-trips"):this.$router.push("/dashboard")}}},oo={class:"user-msg"};function no(e,s,a,n,r,i){return l(),c("section",oo,[t("h1",{onClick:s[0]||(s[0]=(...o)=>i.goToPage&&i.goToPage(...o))},g(a.message.text),1)])}var aa=_(ro,[["render",no]]),Jt="/assets/loading.3a1c7134.gif";const lo={name:"my-trips",data(){return{isShowingMessage:!1,message:{},loggedInUser:{}}},async created(){this.loggedInUser=this.$store.getters.getLoggedInUser,socketService.emit("enter my-trips",this.loggedInUser._id),socketService.on("status updated",this.statusUpdated),this.$store.commit({type:"clearOrdersFromStore"});const e={userId:this.loggedInUser._id};try{console.log("loadind orders from server to store.."),await this.$store.dispatch({type:"loadOrders",filterBy:e}),console.log("Got orders!")}catch(s){console.log("Error while loading trips: ",s)}},computed:{isLoading(){return this.$store.getters.isLoading},getTrips(){if(console.log("Getting orders from store"),!!this.$store.getters.getOrders)return JSON.parse(JSON.stringify(this.$store.getters.getOrders))}},methods:{showMessage(e){this.message=e,this.isShowingMessage=!0,setTimeout(()=>{this.isShowingMessage=!1},4500)},updateStatus({status:e,tripId:s}){const n=this.getTrips.find(i=>i._id===s),r=b({},n);r.status=e,this.$store.dispatch({type:"updateOrder",order:r})},async statusUpdated(e){var n;this.loggedInUser=this.$store.getters.getLoggedInUser;const s={userId:(n=this.loggedInUser)==null?void 0:n._id};try{await this.$store.dispatch({type:"loadOrdersWithSocket",filterBy:s})}catch(r){console.log("Error while loading orders: ",r)}console.log(e.status);const a={text:`Your order has been ${e.status}`,from:"host"};this.showMessage(a)}},components:{tripList:io,userMessage:aa}},go={key:0,class:"dashboard"},co={key:0,class:"loading-img",src:Jt,alt:"Loading.."},po=t("h1",{class:"main-layout-homepage title"},"My trips",-1);function uo(e,s,a,n,r,i){const o=u("user-message"),d=u("trip-list");return r.loggedInUser?(l(),c("section",go,[h(o,{class:y({showUserMessage:r.isShowingMessage}),message:r.message},null,8,["class","message"]),i.isLoading?(l(),c("img",co)):p("",!0),po,i.isLoading?p("",!0):(l(),v(d,{key:1,trips:i.getTrips,onUpdateStatus:i.updateStatus},null,8,["trips","onUpdateStatus"]))])):p("",!0)}var _o=_(lo,[["render",uo]]),q="/assets/star-rating.d999979e.svg";const mo={name:"footer-hero-modal",props:{stay:{type:Object,required:!0}},computed:{fixedScore(){return(this.stay.reviewScores.rating/20).toFixed(2)}}},ho={class:"footer-hero-modal"},yo={class:"footer-hero-modal-container"},vo={class:"footer-hero-modal-price-rating"},fo={class:"footer-hero-modal-price"},jo=t("span",null,"\xA0 / night",-1),bo={class:"footer-hero-modal-rating"},So=t("img",{src:q},null,-1),$o=t("div",{class:"footer-check-availability-container"},[t("span",{class:"check-availability-span"},"Check availability")],-1);function wo(e,s,a,n,r,i){return l(),c("section",ho,[t("div",yo,[t("div",vo,[t("div",fo,[t("span",null,g(e.$filters.currencyUSD(a.stay.price)),1),jo]),t("div",bo,[So,t("span",null,g(i.fixedScore),1)])])]),$o])}var ko=_(mo,[["render",wo]]);const Co={name:"images-container",props:{stayImgs:{type:Array,required:!0}},methods:{getImgUrl(e){return new URL({"../../assets/images/001.jpeg":W,"../../assets/images/002.jpeg":Y,"../../assets/images/003.jpeg":K,"../../assets/images/004.jpeg":z,"../../assets/images/005.jpeg":Q,"../../assets/images/006.jpeg":Z,"../../assets/images/007.jpeg":X,"../../assets/images/008.jpeg":ee,"../../assets/images/009.jpeg":se,"../../assets/images/010.jpeg":te,"../../assets/images/011.jpeg":ae,"../../assets/images/012.jpeg":ie,"../../assets/images/013.jpeg":re,"../../assets/images/014.jpeg":oe,"../../assets/images/015.jpeg":ne,"../../assets/images/016.jpeg":le,"../../assets/images/017.jpeg":ge,"../../assets/images/018.jpeg":ce,"../../assets/images/019.jpeg":de,"../../assets/images/020.jpeg":pe,"../../assets/images/021.jpeg":ue,"../../assets/images/022.jpeg":_e,"../../assets/images/023.jpeg":me,"../../assets/images/024.jpeg":he,"../../assets/images/025.jpeg":ye,"../../assets/images/026.jpeg":ve,"../../assets/images/027.jpeg":fe,"../../assets/images/028.jpeg":je,"../../assets/images/029.jpeg":be,"../../assets/images/030.jpeg":Se,"../../assets/images/031.jpeg":$e,"../../assets/images/032.jpeg":we,"../../assets/images/033.jpeg":ke,"../../assets/images/034.jpeg":Ce,"../../assets/images/035.jpeg":Me,"../../assets/images/036.jpeg":xe,"../../assets/images/037.jpeg":Te,"../../assets/images/038.jpeg":Ue,"../../assets/images/039.jpeg":De,"../../assets/images/040.jpeg":Ie,"../../assets/images/041.jpeg":Fe,"../../assets/images/042.jpeg":Oe,"../../assets/images/043.jpeg":Ae,"../../assets/images/044.jpeg":Le,"../../assets/images/045.jpeg":Pe,"../../assets/images/046.jpeg":Ge,"../../assets/images/047.jpeg":Be,"../../assets/images/048.jpeg":Re,"../../assets/images/049.jpeg":Ne,"../../assets/images/050.jpeg":qe,"../../assets/images/051.jpeg":He,"../../assets/images/052.jpeg":Ee,"../../assets/images/053.jpeg":Ve,"../../assets/images/054.jpeg":Je,"../../assets/images/055.jpeg":We,"../../assets/images/056.jpeg":Ye,"../../assets/images/057.jpeg":Ke,"../../assets/images/058.jpeg":ze,"../../assets/images/059.jpeg":Qe,"../../assets/images/060.jpeg":Ze,"../../assets/images/061.jpeg":Xe,"../../assets/images/062.jpeg":es,"../../assets/images/063.jpeg":ss,"../../assets/images/064.jpeg":ts,"../../assets/images/065.jpeg":as,"../../assets/images/066.jpeg":is,"../../assets/images/067.jpeg":rs,"../../assets/images/068.jpeg":os,"../../assets/images/069.jpeg":ns,"../../assets/images/070.jpeg":ls,"../../assets/images/071.jpeg":gs,"../../assets/images/072.jpeg":cs,"../../assets/images/073.jpeg":ds,"../../assets/images/074.jpeg":ps,"../../assets/images/075.jpeg":us,"../../assets/images/076.jpeg":_s,"../../assets/images/077.jpeg":ms,"../../assets/images/078.jpeg":hs,"../../assets/images/079.jpeg":ys,"../../assets/images/080.jpeg":vs,"../../assets/images/081.jpeg":fs,"../../assets/images/082.jpeg":js,"../../assets/images/083.jpeg":bs,"../../assets/images/084.jpeg":Ss,"../../assets/images/085.jpeg":$s,"../../assets/images/086.jpeg":ws,"../../assets/images/087.jpeg":ks,"../../assets/images/088.jpeg":Cs,"../../assets/images/089.jpeg":Ms,"../../assets/images/090.jpeg":xs,"../../assets/images/091.jpeg":Ts,"../../assets/images/092.jpeg":Us,"../../assets/images/093.jpeg":Ds,"../../assets/images/094.jpeg":Is,"../../assets/images/095.jpeg":Fs,"../../assets/images/096.jpeg":Os,"../../assets/images/097.jpeg":As,"../../assets/images/098.jpeg":Ls,"../../assets/images/099.jpeg":Ps,"../../assets/images/100.jpeg":Gs,"../../assets/images/101.jpeg":Bs,"../../assets/images/102.jpeg":Rs,"../../assets/images/103.jpeg":Ns,"../../assets/images/104.jpeg":qs,"../../assets/images/105.jpeg":Hs,"../../assets/images/106.jpeg":Es,"../../assets/images/107.jpeg":Vs,"../../assets/images/108.jpeg":Js,"../../assets/images/109.jpeg":Ws,"../../assets/images/110.jpeg":Ys,"../../assets/images/111.jpeg":Ks,"../../assets/images/112.jpeg":zs,"../../assets/images/113.jpeg":Qs,"../../assets/images/114.jpeg":Zs,"../../assets/images/115.jpeg":Xs,"../../assets/images/116.jpeg":et,"../../assets/images/117.jpeg":st,"../../assets/images/118.jpeg":tt,"../../assets/images/119.jpeg":at,"../../assets/images/120.jpeg":it,"../../assets/images/121.jpeg":rt,"../../assets/images/122.jpeg":ot,"../../assets/images/123.jpeg":nt,"../../assets/images/124.jpeg":lt,"../../assets/images/125.jpeg":gt,"../../assets/images/126.jpeg":ct,"../../assets/images/127.jpeg":dt,"../../assets/images/128.jpeg":pt,"../../assets/images/129.jpeg":ut,"../../assets/images/130.jpeg":_t,"../../assets/images/131.jpeg":mt,"../../assets/images/132.jpeg":ht,"../../assets/images/133.jpeg":yt,"../../assets/images/134.jpeg":vt,"../../assets/images/135.jpeg":ft,"../../assets/images/136.jpeg":jt,"../../assets/images/137.jpeg":bt,"../../assets/images/138.jpeg":St,"../../assets/images/139.jpeg":$t,"../../assets/images/140.jpeg":wt,"../../assets/images/141.jpeg":kt,"../../assets/images/142.jpeg":Ct,"../../assets/images/143.jpeg":Mt,"../../assets/images/144.jpeg":xt,"../../assets/images/145.jpeg":Tt,"../../assets/images/146.jpeg":Ut,"../../assets/images/147.jpeg":Dt,"../../assets/images/148.jpeg":It,"../../assets/images/149.jpeg":Ft,"../../assets/images/150.jpeg":Ot,"../../assets/images/151.jpeg":At,"../../assets/images/152.jpeg":Lt,"../../assets/images/153.jpeg":Pt,"../../assets/images/apartment.jpg":Gt,"../../assets/images/Barcelona.jpg":L,"../../assets/images/cabin.jpg":P,"../../assets/images/cabin2.jpg":Bt,"../../assets/images/condominium.jpg":Rt,"../../assets/images/homepage3.jpg":Nt,"../../assets/images/Hongkong.jpg":G,"../../assets/images/Istanbul.jpg":B,"../../assets/images/lidor.jpg":qt,"../../assets/images/loft.jpg":Ht,"../../assets/images/London.jpg":Et,"../../assets/images/Maui.jpg":R,"../../assets/images/Rome.jpg":Vt,"../../assets/images/Villa.jpg":N}[`../../assets/images/${e}`],self.location)}}},Mo={key:0,class:"imgs-container-grid"},xo=["src"],To=["src"],Uo=["src"],Do=["src"],Io=["src"];function Fo(e,s,a,n,r,i){return a.stayImgs?(l(),c("section",Mo,[t("img",{class:"grid-item1",src:i.getImgUrl(a.stayImgs[0])},null,8,xo),t("img",{class:"grid-item2",src:i.getImgUrl(a.stayImgs[1])},null,8,To),t("img",{class:"grid-item3",src:i.getImgUrl(a.stayImgs[2])},null,8,Uo),t("img",{class:"grid-item4",src:i.getImgUrl(a.stayImgs[3])},null,8,Do),t("img",{class:"grid-item5",src:i.getImgUrl(a.stayImgs[4])},null,8,Io)])):p("",!0)}var Oo=_(Co,[["render",Fo]]),Ao="/assets/share.3422753b.svg",Lo="/assets/like.74851f54.svg";const Po={name:"secondary-header",props:{stay:{type:Object,required:!0}},methods:{goToReviews(){this.$emit("goToReviews")},goToMap(){this.$emit("goToMap")}}},Go={class:"secondary-header"},Bo={class:"stay-name"},Ro={class:"below-stay-name"},No={class:"rating-reviews-location"},qo=t("img",{class:"star-rating-svg",src:q},null,-1),Ho=t("span",null,"\xB7",-1),Eo=t("span",{class:"dot-above-pictures"},"\xB7",-1),Vo=k('<div class="share-save"><div class="share"><img class="share-svg" src="'+Ao+'"><span>Share</span></div><div class="save-like"><img class="like-svg" src="'+Lo+'"><span>Save</span></div></div>',1);function Jo(e,s,a,n,r,i){return l(),c("section",Go,[t("div",Bo,[t("h1",null,g(a.stay.name),1)]),t("div",Ro,[t("div",No,[qo,t("span",null,g(a.stay.reviewScores.rating/20),1),Ho,t("span",{onClick:s[0]||(s[0]=(...o)=>i.goToReviews&&i.goToReviews(...o))},g(a.stay.reviews.length)+" reviews",1),Eo,t("span",{class:"location-above-pictures",onClick:s[1]||(s[1]=(...o)=>i.goToMap&&i.goToMap(...o))},g(a.stay.address.city)+", "+g(a.stay.address.country),1)]),Vo])])}var Wo=_(Po,[["render",Jo]]),Yo="/assets/great-comm.5b85fba5.svg",Ko="/assets/great-location.bacce6cb.svg",zo="/assets/self-checkin.0d413013.svg",ia="/assets/wifi.5d57e009.svg";const Qo={name:"selected-popular-amenities",props:{stay:{type:Object,required:!0}}},Zo={class:"selected-popular-amenities"},Xo={class:"popular-amenities"},en=t("div",{class:"popular-amenities-svg"},[t("img",{src:Yo})],-1),sn={class:"popular-amenities-text"},tn=t("div",{class:"popular-amenities-title"},"Great communication",-1),an={class:"popular-amenities-description"},rn=k('<div class="popular-amenities"><div class="popular-amenities-svg"><img src="'+Ko+'"></div><div class="popular-amenities-text"><div class="popular-amenities-title">Great location</div><div class="popular-amenities-description">100% of recent guests gave the location a 5-star rating</div></div></div><div class="popular-amenities"><div class="popular-amenities-svg"><img src="'+zo+'"></div><div class="popular-amenities-text"><div class="popular-amenities-title">Self check-in</div><div class="popular-amenities-description">Check yourself in with the lockbox</div></div></div><div class="popular-amenities"><div class="popular-amenities-svg"><img src="'+ia+'"></div><div class="popular-amenities-text"><div class="popular-amenities-title">Wifi</div><div class="popular-amenities-description">Guests often search for this popular amenity</div></div></div>',3);function on(e,s,a,n,r,i){return l(),c("section",Zo,[t("div",Xo,[en,t("div",sn,[tn,t("div",an,"100% of recent guests rated "+g(a.stay.host.fullname)+" 5-star in communication",1)])]),rn])}var nn=_(Qo,[["render",on]]),ln="/assets/air-conditioning.5849794e.svg",gn="/assets/courtyard-view.5b7299e6.svg",cn="/assets/dedicated-workspace.a5b62cbf.svg",dn="/assets/elevator.e84742a7.svg",pn="/assets/free-parking.2a0276f3.svg",un="/assets/kitchen.3f0e0ba9.svg",_n="/assets/long-term.54e294a1.svg",mn="/assets/pets-allowed.f17cb476.svg",hn="/assets/refrigerator.9c0f9c49.svg";const yn={name:"amenities-list"},vn={class:"main-amenities-section"},fn=k('<div class="amenities-list-title"><h1>What this place offers</h1></div><section class="amenities-list"><div class="amenity-container"><div class="amenity-item"><img src="'+ln+'"><span>Air-conditioning</span></div><div class="amenity-item"><img src="'+gn+'"><span>Courtyard view</span></div><div class="amenity-item"><img src="'+cn+'"><span>Dedicated workspace</span></div><div class="amenity-item"><img src="'+dn+'"><span>Elevator</span></div><div class="amenity-item"><img src="'+pn+'"><span>Free parking</span></div><div class="amenity-item"><img src="'+un+'"><span>Kitchen</span></div><div class="amenity-item"><img src="'+_n+'"><span>Long-term stay allowed</span></div><div class="amenity-item"><img src="'+mn+'"><span>Pets allowed</span></div><div class="amenity-item"><img src="'+hn+'"><span>Refrigerator</span></div><div class="amenity-item"><img src="'+ia+'"><span>Wifi</span></div></div></section>',2),jn=[fn];function bn(e,s,a,n,r,i){return l(),c("section",vn,jn)}var Sn=_(yn,[["render",bn]]),$n="/assets/image1.a7c66d5d.jpg",wn="/assets/image10.f3eb493d.jpg",kn="/assets/image11.8bae3fe3.jpg",Cn="/assets/image12.d6524f8b.jpg",Mn="/assets/image13.e1ccf539.jpg",xn="/assets/image14.d8f2b320.jpg",Tn="/assets/image15.79929dc1.jpg",Un="/assets/image2.6cf88ec8.jpg",Dn="/assets/image3.a71ec5fa.jpg",In="/assets/image4.a7fae379.jpg",Fn="/assets/image5.409d98e5.jpg",On="/assets/image6.e7f6e7ac.jpg",An="/assets/image7.f64f5ff1.jpg",Ln="/assets/image8.ec686805.jpg",Pn="/assets/image9.ccabc461.jpg",ra="/assets/show-more.d0d96e91.svg";const Gn={name:"review-preview",props:{review:{type:Object,required:!0}},data(){return{isLongTxt:!1,guestsImages:["image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg"]}},methods:{spliceRandomImg(e){this.guestsImages.splice(e,1)}},computed:{getRandomImg(){const e=Math.floor(Math.random()*15),s=new URL({"../../assets/user-images/image1.jpg":$n,"../../assets/user-images/image10.jpg":wn,"../../assets/user-images/image11.jpg":kn,"../../assets/user-images/image12.jpg":Cn,"../../assets/user-images/image13.jpg":Mn,"../../assets/user-images/image14.jpg":xn,"../../assets/user-images/image15.jpg":Tn,"../../assets/user-images/image2.jpg":Un,"../../assets/user-images/image3.jpg":Dn,"../../assets/user-images/image4.jpg":In,"../../assets/user-images/image5.jpg":Fn,"../../assets/user-images/image6.jpg":On,"../../assets/user-images/image7.jpg":An,"../../assets/user-images/image8.jpg":Ln,"../../assets/user-images/image9.jpg":Pn}[`../../assets/user-images/${this.guestsImages[e]}`],self.location);return this.spliceRandomImg(e),s},formattedDate(){let e=["January","February","March","April","May","June","July","August","September","October","November","December"],s=new Date(this.review.at).getFullYear();return`${e[new Date(this.review.at).getMonth()]} ${s}`},formattedText(){return this.review.txt.length>200?(this.isLongTxt=!0,this.review.txt.slice(0,200)+"..."):this.review.txt}},created(){}},Bn={class:"review-preview",id:"review-section"},Rn={class:"review-guest-name-date"},Nn=["src"],qn={class:"name-and-date"},Hn={class:"review-text"},En={key:0,class:"review-show-more"},Vn=t("span",null,"Show more",-1),Jn=t("img",{src:ra},null,-1),Wn=[Vn,Jn];function Yn(e,s,a,n,r,i){return l(),c("section",Bn,[t("div",Rn,[t("img",{src:i.getRandomImg,alt:"User picture",onerror:"this.onerror=null; this.src='https://thispersondoesnotexist.com/image'"},null,8,Nn),t("div",qn,[t("span",null,g(a.review.by.fullname),1),t("span",null,g(i.formattedDate),1)])]),t("div",Hn,g(i.formattedText),1),r.isLongTxt?(l(),c("div",En,Wn)):p("",!0)])}var Kn=_(Gn,[["render",Yn]]);const zn={name:"review-list",props:{reviews:{type:Array,required:!0}},data(){return{}},components:{reviewPreview:Kn},computed:{}},Qn={key:0,class:"review-list"},Zn={class:"reviews-list-ul"};function Xn(e,s,a,n,r,i){const o=u("review-preview");return a.reviews?(l(),c("section",Qn,[t("ul",Zn,[(l(!0),c($,null,w(a.reviews,d=>(l(),c("li",{key:d._id},[h(o,{review:d},null,8,["review"])]))),128))])])):p("",!0)}var el=_(zn,[["render",Xn]]);const sl={props:{reviewScores:{type:Object,required:!0}}},tl={key:0,class:"score-scales"},al={class:"scores-mini-container"},il={class:"reviews-scores"},rl=t("span",null,"Cleaniness",-1),ol={class:"bar-and-score"},nl={class:"scale-threshold"},ll={class:"score-number"},gl={class:"reviews-scores"},cl=t("span",null,"Communication",-1),dl={class:"bar-and-score"},pl={class:"scale-threshold"},ul={class:"score-number"},_l={class:"reviews-scores"},ml=t("span",null,"Check-in",-1),hl={class:"bar-and-score"},yl={class:"scale-threshold"},vl={class:"score-number"},fl={class:"scores-mini-container"},jl={class:"reviews-scores"},bl=t("span",null,"Accuracy",-1),Sl={class:"bar-and-score"},$l={class:"scale-threshold"},wl={class:"score-number"},kl={class:"reviews-scores"},Cl=t("span",null,"Location",-1),Ml={class:"bar-and-score"},xl={class:"scale-threshold"},Tl={class:"score-number"},Ul={class:"reviews-scores"},Dl=t("span",null,"Value",-1),Il={class:"bar-and-score"},Fl={class:"scale-threshold"},Ol={class:"score-number"};function Al(e,s,a,n,r,i){return a.reviewScores?(l(),c("section",tl,[t("div",al,[t("div",il,[rl,t("div",ol,[t("div",nl,[t("div",{style:M(`width:${a.reviewScores.cleanliness*9}px;`)},null,4)]),t("div",ll,g((a.reviewScores.cleanliness/2).toFixed(1)),1)])]),t("div",gl,[cl,t("div",dl,[t("div",pl,[t("div",{style:M(`width:${a.reviewScores.communication*9}px;`)},null,4)]),t("div",ul,g((a.reviewScores.communication/2).toFixed(1)),1)])]),t("div",_l,[ml,t("div",hl,[t("div",yl,[t("div",{style:M(`width:${a.reviewScores.checkin*9}px;`)},null,4)]),t("div",vl,g((a.reviewScores.checkin/2).toFixed(1)),1)])])]),t("div",fl,[t("div",jl,[bl,t("div",Sl,[t("div",$l,[t("div",{style:M(`width:${a.reviewScores.accuracy*9}px;`)},null,4)]),t("div",wl,g((a.reviewScores.accuracy/2).toFixed(1)),1)])]),t("div",kl,[Cl,t("div",Ml,[t("div",xl,[t("div",{style:M(`width:${a.reviewScores.location*9}px;`)},null,4)]),t("div",Tl,g((a.reviewScores.location/2).toFixed(1)),1)])]),t("div",Ul,[Dl,t("div",Il,[t("div",Fl,[t("div",{style:M(`width:${a.reviewScores.value*9}px;`)},null,4)]),t("div",Ol,g((a.reviewScores.value/2).toFixed(1)),1)])])])])):p("",!0)}var Ll=_(sl,[["render",Al]]);const Pl={name:"reviews-section",props:{stay:{type:Object,required:!0}},components:{reviewList:el,scoreScales:Ll},data(){return{}},computed:{getReviewsForDisplay(){return this.stay.reviews.length>6?this.stay.reviews.slice(0,6):this.stay.reviews.slice()}}},Gl={key:0,class:"reviews-section",ref:"reviews-section"},Bl={class:"reviews-and-rating"},Rl=t("img",{src:q},null,-1);function Nl(e,s,a,n,r,i){const o=u("score-scales"),d=u("review-list");return a.stay?(l(),c("section",Gl,[t("section",Bl,[t("div",null,[Rl,t("span",null,g(a.stay.reviewScores.rating/20)+" \xB7 "+g(a.stay.reviews.length)+" reviews",1)]),h(o,{reviewScores:a.stay.reviewScores},null,8,["reviewScores"])]),h(d,{reviews:i.getReviewsForDisplay},null,8,["reviews"])],512)):p("",!0)}var ql=_(Pl,[["render",Nl]]);const Hl={props:{guests:{type:Object,required:!0},capacity:{type:Number,required:!0}},name:"header-user-menu",data(){return{guestSelected:null,newModalClass:"guests-modal-in-stay-details",capacityAlert:!1,adultAlert:!1}},created(){this.guests.adults+this.guests.children>this.capacity?(this.capacityAlert=!0,setTimeout(()=>{this.capacityAlert=!1},3500),this.guestSelected={adults:this.capacity,children:0},this.$emit("onSelectGuests",b({},this.guestSelected))):this.guestSelected=b({},this.guests)},methods:{closeGuestsModal(){this.guestSelected=b({},this.guests),this.$emit("closeGuestsModal")},changeCount(e,s){const a=this.guestSelected.adults,n=this.guestSelected.children;if(e==="adults"&&a===1&&s===-1){this.capacityAlert=!1,this.adultAlert=!0,setTimeout(()=>{this.adultAlert=!1},2500);return}if(!(e==="children"&&n===0&&s===-1)){if(a+n===this.capacity&&s===1){this.adultAlert=!1,this.capacityAlert=!0,setTimeout(()=>{this.capacityAlert=!1},2500);return}this.guestSelected[e]+=s,this.$emit("onSelectGuests",b({},this.guestSelected))}},onSelectGuests(){this.$emit("closeGuestsModal")}}},El={class:"details-select-guests-modal"},Vl=t("p",{class:"details-guests-modal-title"},"Select guests",-1),Jl={key:0,class:"no-alert"},Wl={key:1,class:"input-alert"},Yl={key:2,class:"input-alert"},Kl={class:"details-guests-type-container"},zl=t("span",{class:"details-guests-type"},"Adults",-1),Ql={class:"details-guests-counter"},Zl={class:"details-guests-number"},Xl={class:"details-guests-type-container"},eg=t("span",{class:"details-guests-type"},"Children",-1),sg={class:"details-guests-counter"},tg={class:"details-guests-number"},ag={class:"details-guests-btns-container"};function ig(e,s,a,n,r,i){return l(),c("section",El,[Vl,!r.capacityAlert&&!r.adultAlert?(l(),c("p",Jl,"hey")):p("",!0),r.capacityAlert?(l(),c("p",Wl," Please select up to "+g(a.capacity)+" guests ",1)):p("",!0),r.adultAlert?(l(),c("p",Yl,"Please select at least 1 adult")):p("",!0),t("div",Kl,[zl,t("div",Ql,[t("span",{class:"material-icons details-guest-count-icon",onClick:s[0]||(s[0]=o=>i.changeCount("adults",-1))}," remove "),t("span",Zl,g(r.guestSelected.adults),1),t("span",{class:"material-icons details-guest-count-icon",onClick:s[1]||(s[1]=o=>i.changeCount("adults",1))}," add ")])]),t("div",Xl,[eg,t("div",sg,[t("span",{class:"material-icons details-guest-count-icon",onClick:s[2]||(s[2]=o=>i.changeCount("children",-1))}," remove "),t("span",tg,g(r.guestSelected.children),1),t("span",{class:"material-icons details-guest-count-icon",onClick:s[3]||(s[3]=o=>i.changeCount("children",1))}," add ")])]),t("div",ag,[t("div",{class:"guest-modal-btn",onClick:s[4]||(s[4]=(...o)=>i.onSelectGuests&&i.onSelectGuests(...o))},"OK")])])}var rg=_(Hl,[["render",ig]]);const og={name:"hero-modal",props:{stay:{type:Object,required:!0},guestsFromStore:{type:Object,required:!0}},data(){return{dates:null,isSelectingGuests:!1,isSelectingDates:!1,total:""}},components:{detailsSelectGuestsModal:rg},created(){this.dates=this.getDates;const e=this.guestsFromStore;e.adults+e.children||this.onSelectGuests({adults:1,children:0})},methods:{onCheckAvailability(){this.$emit("onCheckAvailability")},formatedDate(e){if(!this.dates)return"Add dates";const s=new Date(this.dates[e]);return`${s.getDate()<10?"0"+s.getDate():s.getDate()}/${s.getMonth()<9?"0"+(s.getMonth()+1):s.getMonth()+1}/${s.getFullYear().toString().substring(2)}`},onSelectGuests(e){this.$store.commit({type:"setGuests",guests:e})},closeGuestsModal(){this.isSelectingGuests=!1}},computed:{getCheckDetails(){const e=this.dates,s=this.stay.price,a=Math.round((e[1]-e[0])/(24*60*60*1e3)),n=s*a;return this.total=`$${n}`,this.$store.commit({type:"setTotalPrice",totalPrice:n}),`$${s} x ${a} nights`},isDatesSet(){return!!this.dates},getGuestsForDisplay(){const{adults:e}=this.guestsFromStore,{children:s}=this.guestsFromStore;return s+e?s?s===1?e===1?"1 adult, 1 child":`${e} adults, 1 child`:e===1?`1 adult, ${s} children`:`${e} adults, ${s} children`:e===1?"1 adult":`${e} adults`:"Add guests"},getLocation(){return this.$store.getters.getLocation},getDates(){return this.$store.getters.getDates},fixedScore(){return(this.stay.reviewScores.rating/20).toFixed(2)}},watch:{dates(){this.$store.commit({type:"setDates",dates:this.dates})}}},ng={class:"hero-modal-wrapper"},lg={class:"hero-modal-header"},gg={class:"hero-modal-price"},cg=t("span",null,"\xA0 / night",-1),dg={class:"hero-modal-rating-reviews"},pg=t("span",null,[t("img",{src:q})],-1),ug={class:"hero-modal-selection"},_g={class:"hero-modal-check-container"},mg=t("div",null,"CHECK-IN",-1),hg=t("div",null,"CHECK-OUT",-1),yg={class:"block"},vg=t("span",{class:"demonstration"},"Default",-1),fg=t("label",{for:"hero-modal-guest-picker"},"GUESTS",-1),jg=t("span",{class:"check-availability-span"},"Check availability",-1),bg=[jg],Sg={key:0,class:"summary-details-container"},$g=t("p",{class:"no-charge"},"You won't be charged yet",-1),wg={class:"total-price-details"},kg={class:"total-price-item"},Cg=t("div",{class:"total-price-details"},[t("span",{class:"total-price-item"},"Service fee"),t("span",null,"$0")],-1),Mg={class:"total-price-details total"},xg=t("span",{class:"total-price-item"},"Total",-1);function Tg(e,s,a,n,r,i){const o=u("details-select-guests-modal"),d=u("el-date-picker");return l(),c("section",{class:y(["hero-modal",{heroWithDates:!i.isDatesSet}])},[t("section",ng,[r.isSelectingGuests?(l(),c("div",{key:0,class:"outsideDetailsGuests",onClick:s[0]||(s[0]=m=>r.isSelectingGuests=!1)})):p("",!0),t("section",{class:y(["hero-modal-container",{showSummary:!i.isDatesSet}])},[r.isSelectingGuests?(l(),v(o,{key:0,guests:a.guestsFromStore,capacity:a.stay.capacity,onCloseGuestsModal:i.closeGuestsModal,onOnSelectGuests:i.onSelectGuests},null,8,["guests","capacity","onCloseGuestsModal","onOnSelectGuests"])):p("",!0),t("section",lg,[t("div",gg,[t("span",null,g(e.$filters.currencyUSD(a.stay.price)),1),cg]),t("div",dg,[pg,t("span",null,g(i.fixedScore)+" \xB7",1),t("span",null,g(a.stay.reviews.length)+" reviews",1)])]),t("section",ug,[t("div",_g,[t("div",{class:"hero-modal-check-in",onClick:s[1]||(s[1]=m=>r.isSelectingDates=!r.isSelectingDates)},[mg,t("div",null,g(i.formatedDate(0)),1)]),t("div",{class:"hero-modal-check-out",onClick:s[2]||(s[2]=m=>r.isSelectingDates=!r.isSelectingDates)},[hg,t("div",null,g(i.formatedDate(1)),1)]),t("div",yg,[vg,h(d,{ref:"modal-date-picker",modelValue:r.dates,"onUpdate:modelValue":s[3]||(s[3]=m=>r.dates=m),type:"daterange","start-placeholder":"CHECK-IN","end-placeholder":"CHECKOUT",class:"date-picker","value-format":"x"},null,8,["modelValue"])])]),t("div",{class:"hero-modal-guests",onClick:s[4]||(s[4]=m=>r.isSelectingGuests=!0)},[fg,t("div",null,g(i.getGuestsForDisplay),1)]),t("div",{class:"check-availability-container",onClick:s[5]||(s[5]=(...m)=>i.onCheckAvailability&&i.onCheckAvailability(...m))},bg),i.isDatesSet?(l(),c("div",Sg,[$g,t("div",wg,[t("span",kg,g(i.getCheckDetails),1),t("span",null,g(r.total),1)]),Cg,t("div",Mg,[xg,t("span",null,g(r.total),1)])])):p("",!0)])],2)])],2)}var Ug=_(og,[["render",Tg]]);const Dg={props:{address:{type:Object,required:!0}},name:"App",data(){return{center:{lat:32.091996,lng:34.959813}}},created(){this.center.lat=this.address.location.lan,this.center.lng=this.address.location.lat}},Ig={class:"map-address"};function Fg(e,s,a,n,r,i){const o=u("GMapMarker"),d=u("GMapMap");return l(),c("section",null,[t("h1",Ig,g(a.address.street),1),r.center?(l(),v(d,{key:0,center:r.center,zoom:15,"map-type-id":"terrain"},{default:U(()=>[h(o,{position:r.center},null,8,["position"])]),_:1},8,["center"])):p("",!0)])}var Og=_(Dg,[["render",Fg]]);const Ag={name:"order-alert-modal",props:{alertModalMessage:{type:String,reqired:!0}},data(){return{}},methods:{closeModal(){this.$emit("closeModal")}},closeSignUp(){},cleanData(){}},Lg={class:"order-alert-modal"},Pg=t("p",{class:"sign-up-title"},"Please note",-1),Gg={class:"sign-up-welcome"};function Bg(e,s,a,n,r,i){return l(),c("section",Lg,[Pg,t("h1",Gg,g(a.alertModalMessage),1),t("div",{class:"sign-up-continue",onClick:s[0]||(s[0]=(...o)=>i.closeModal&&i.closeModal(...o))},"Close")])}var Rg=_(Ag,[["render",Bg]]);const Ng={name:"order-alert-modal",props:{alertModalMessage:{type:String,reqired:!0}},data(){return{}},methods:{login(){this.$emit("login")},async demo(){const e={username:"guest",password:"Leo"};await this.$store.dispatch({type:"login",user:e}),this.$emit("demo")},closeModal(){this.$emit("closeModal")}},closeSignUp(){},cleanData(){}},qg={class:"login-alert-modal"},Hg=t("p",{class:"sign-up-title"},"Please note",-1),Eg=t("h1",{class:"sign-up-welcome"},"Log in to proceed",-1),Vg={class:"modal-btns-container"};function Jg(e,s,a,n,r,i){return l(),c("section",qg,[t("span",{class:"material-icons close-sign-up",onClick:s[0]||(s[0]=(...o)=>i.closeModal&&i.closeModal(...o))}," close "),Hg,Eg,t("div",Vg,[t("div",{class:"sign-up-continue",onClick:s[1]||(s[1]=(...o)=>i.login&&i.login(...o))},"Log in"),t("div",{class:"sign-up-continue",onClick:s[2]||(s[2]=(...o)=>i.demo&&i.demo(...o))},"Guest user")])])}var Wg=_(Ng,[["render",Jg]]);const Yg={props:{stay:{type:Object,reqired:!0},dates:{type:Array,reqired:!0},guests:{type:Object,reqired:!0},user:{type:Object,reqired:!0}},data(){return{isConfirmed:!1}},methods:{async confirm(){this.isConfirmed=!0;const e=this.getTimeStampDate(0),s=this.getTimeStampDate(1),a=this.getTotalPrice,n={startDate:e,endDate:s,guests:this.guests,status:"pending",totalPrice:a,hostId:this.stay.host._id,stay:{name:this.stay.name,price:this.stay.price,_id:this.stay._id},buyer:{_id:this.user._id,fullname:this.user.fullname}};this.$emit("addOrder",n)},getTimeStampDate(e){return JSON.parse(JSON.stringify(this.dates))[e]},getFormatedDate(e){const s=JSON.parse(JSON.stringify(this.dates)),a=new Date(s[e]);return`${a.getDate()<10?"0"+a.getDate():a.getDate()}/${a.getMonth()<9?"0"+(a.getMonth()+1):a.getMonth()+1}/${a.getFullYear().toString().substring(2)}`},goToMyTrips(){this.isConfirmed=!1,this.$emit("closeModal"),this.$emit("goToMyTrips")},closeModal(){this.isConfirmed=!1,this.$emit("closeModal")},closeModalAndClean(){this.$store.commit({type:"clearOrderingDetails"}),this.isConfirmed=!1,this.$emit("closeModal"),this.$router.push("/")}},computed:{displayConfirmation(){return!!(this.stay&&this.dates&&this.user&&!this.isConfirmed)},getTotalPrice(){return this.$store.getters.getTotalPrice},getUserFirstName(){return this.user.fullname.split(" ")[0]},getGuestsForDisplay(){const{adults:e}=this.guests,{children:s}=this.guests;return s+e?s?s===1?e===1?"1 adult, 1 child":`${e} adults, 1 child`:e===1?`1 adult, ${s} children`:`${e} adults, ${s} children`:e===1?"1 adult":`${e} adults`:"Add guests"},getLocation(){return this.$store.getters.getLocation},getDates(){return this.$store.getters.getDates}}},Kg={class:"order-confirmation-modal"},zg={class:"order-confirmation-container"},Qg={key:0,class:"confirmed-container"},Zg=t("div",{class:"confirm-secondary-title"},[t("h1",{class:"confirm-text congrats"},"Congratulations!")],-1),Xg=t("h1",{class:"confirm-text"},"Your order has been received",-1),ec=t("h1",{class:"confirm-text"},"We will let you know when the host responds",-1),sc={class:"confirm-text"},tc=D(" You can follow the order status in "),ac=D(" page "),ic={key:1,class:"confirmation-details"},rc=t("p",{class:"confirm-title"},"One last step",-1),oc={class:"confirm-secondary-title"},nc={class:"confirm-text"},lc=t("h1",{class:"confirm-text"}," In orer to complete your reservation, please confirm your trip details ",-1),gc={class:"trip-details"},cc={class:"stay-user-details"},dc={class:"confirm-text"},pc={class:"confirm-text"},uc={class:"confirm-text"},_c={class:"confirm-text"},mc={class:"confirm-text"},hc={class:"confirm-text"},yc={class:"host-details"},vc=["src"],fc={class:"host-name"},jc={class:"modal-btns-container"};function bc(e,s,a,n,r,i){return l(),c("section",Kg,[t("div",zg,[r.isConfirmed?(l(),c("div",Qg,[Zg,Xg,ec,t("h1",sc,[tc,t("span",{onClick:s[0]||(s[0]=(...o)=>i.goToMyTrips&&i.goToMyTrips(...o))},"My trips"),ac])])):p("",!0),i.displayConfirmation?(l(),c("div",ic,[rc,t("div",oc,[t("h1",nc,"Dear "+g(i.getUserFirstName)+",",1),lc]),t("div",gc,[t("div",cc,[t("h1",dc,"Stay name: "+g(a.stay.name),1),t("h1",pc,g(a.stay.address.city)+", "+g(a.stay.address.country),1),t("h1",uc,"Check in: "+g(i.getFormatedDate(0)),1),t("h1",_c," Check out: "+g(i.getFormatedDate(1)),1),t("h1",mc,g(i.getGuestsForDisplay),1),t("h1",hc,"Total: $"+g(i.getTotalPrice),1)]),t("div",yc,[t("img",{class:"host-image",src:a.stay.host.thumbnailUrl,alt:"host",onerror:"this.onerror=null; this.src='https://blog.cpanel.com/wp-content/uploads/2019/08/user-01.png'"},null,8,vc),t("h1",fc,g(a.stay.host.fullname),1)])])])):p("",!0),t("div",jc,[r.isConfirmed?p("",!0):(l(),c("div",{key:0,class:"sign-up-continue",onClick:s[1]||(s[1]=(...o)=>i.confirm&&i.confirm(...o))},"Confirm")),r.isConfirmed?p("",!0):(l(),c("div",{key:1,class:"sign-up-continue go-back",onClick:s[2]||(s[2]=(...o)=>i.closeModal&&i.closeModal(...o))},"Go back")),r.isConfirmed?(l(),c("div",{key:2,class:"sign-up-continue",onClick:s[3]||(s[3]=(...o)=>i.closeModalAndClean&&i.closeModalAndClean(...o))},"Close")):p("",!0)])])])}var Sc=_(Yg,[["render",bc]]);const $c="",x=wc();window.socketService=x;x.setup();function wc(){var e=null;return{async setup(){e=fa($c)},on(a,n){e.on(a,n),console.log(a)},off(a,n=null){!e||(n?e.off(a,n):e.removeAllListeners(a))},emit(a,n){e.emit(a,n)},terminate(){e=null}}}var kc="/assets/back-home.29252606.svg";const Cc={name:"stay-details",components:{imagesContainer:Oo,SecondaryHeader:Wo,SelectedPopularAmenities:nn,AmenitiesList:Sn,reviewsSection:ql,mapSection:Og,heroModal:Ug,footerHeroModal:ko,orderAlertModal:Rg,loginAlertModal:Wg,orderConfirmationModal:Sc},data(){return{isMobile:!1,stay:null,isOrderAlert:!1,isLoginAlert:!1,alertModalMessage:"",currOrder:null,isOrdering:!1,isConfirm:!1}},async created(){const e=this.$route.params.stayId;this.stay=await this.$store.dispatch({type:"getStayById",stayId:e})},methods:{addOrder(e){x.emit("new order",e),this.$store.dispatch({type:"addOrder",order:e})},loginToProceed(){this.isLoginAlert=!1,this.$store.commit({type:"openSignUpModal"})},demoToProceed(){this.isLoginAlert=!1,this.isOrdering=!0},closeLoginModal(){this.isLoginAlert=!1},closeAlertModal(){this.isOrderAlert=!1},goToMyTrips(){this.isOrdering=!1,this.$router.push("/mytrips")},closeConfirmationModal(){this.isOrdering=!1},openAlertModal(e){this.alertModalMessage=e,this.isOrderAlert=!1},onCheckAvailability(){this.isOrdering=!0;const e=this.getDates,s=this.getGuests;if(!e){this.$refs["hero-modal"].$refs["modal-date-picker"].focus(),this.isOrdering=!1;return}if(s.adults+s.children>this.stay.capacity){this.alertModalMessage=`Select up to ${this.stay.capacity} to proceed`,this.isOrdering=!1,this.isOrderAlert=!0;return}if(!this.$store.getters.getLoggedInUser){this.isLoginAlert=!0;return}},goToReviews(){let s=this.$refs["reviews-section"].$el.offsetTop;window.scrollTo({top:s-10,left:0,behavior:"smooth"})},goToMap(){let s=this.$refs["map-section"].$el.offsetTop;window.scrollTo({top:s-10,left:0,behavior:"smooth"})}},computed:{getDates(){return this.$store.getters.getDates},getGuests(){return this.$store.getters.getGuests},isLoggedIn(){return!!this.$store.getters.getLoggedInUser},getLoggedInUser(){return this.$store.getters.getLoggedInUser}},unmounted(){this.isOrdering=!1}},Mc={key:0,class:"stay-details-main-layout main-layout"},xc={class:"stay-details-page"},Tc={key:1,class:"stay-details"},Uc={class:"mobile-secondary-header"},Dc={class:"back-home"},Ic=t("img",{src:kc},null,-1),Fc=D("Back"),Oc={class:"secondary-header-and-images-container"},Ac={class:"hero-modal-and-general-info"},Lc={class:"general-info"},Pc={class:"type-host-and-stay-properties"},Gc={class:"type-host-and-stay-properties-text"},Bc={class:"stay-type-host-name"},Rc={class:"stay-properties"},Nc=["src"],qc={class:"section-stay-summary"},Hc={class:"stay-summary"},Ec=t("div",{class:"summary-show-more"},[t("span",null,"Show more"),t("img",{src:ra})],-1),Vc={key:2,class:"order-alert-overlay"};function Jc(e,s,a,n,r,i){const o=u("footer-hero-modal"),d=u("router-link"),m=u("secondary-header"),j=u("images-container"),V=u("selected-popular-amenities"),la=u("amenities-list"),ga=u("hero-modal"),ca=u("reviews-section"),da=u("map-section"),pa=u("order-alert-modal"),ua=u("login-alert-modal"),_a=u("order-confirmation-modal");return r.stay?(l(),c("section",Mc,[t("section",xc,[r.stay?(l(),v(o,{key:0,stay:r.stay},null,8,["stay"])):p("",!0),r.stay?(l(),c("section",Tc,[t("section",Uc,[t("div",Dc,[Ic,h(d,{to:"/stay"},{default:U(()=>[Fc]),_:1})])]),t("section",Oc,[h(m,{onGoToReviews:i.goToReviews,onGoToMap:i.goToMap,stay:r.stay},null,8,["onGoToReviews","onGoToMap","stay"]),h(j,{stayImgs:r.stay.imgUrls},null,8,["stayImgs"])]),t("section",Ac,[t("section",Lc,[t("section",Pc,[t("section",Gc,[t("h2",Bc,g(r.stay.propertyType)+" hosted by "+g(r.stay.host.fullname),1),t("ul",Rc,[t("li",null,g(r.stay.capacity)+" guests",1),t("li",null,g(r.stay.bedrooms)+" bedroom",1),t("li",null,g(r.stay.beds)+" bed",1),t("li",null,g(r.stay.bathrooms)+" baths",1)])]),t("img",{src:r.stay.host.thumbnailUrl,alt:"Host picture",onerror:"this.onerror=null; this.src='https://thispersondoesnotexist.com/image'"},null,8,Nc)]),h(V,{stay:r.stay},null,8,["stay"]),t("section",qc,[t("p",Hc,g(r.stay.summary),1),Ec]),h(la)]),h(ga,{ref:"hero-modal",stay:r.stay,guestsFromStore:i.getGuests,onOnCheckAvailability:i.onCheckAvailability},null,8,["stay","guestsFromStore","onOnCheckAvailability"])]),h(ca,{stay:r.stay,ref:"reviews-section"},null,8,["stay"]),h(da,{address:r.stay.address,ref:"map-section"},null,8,["address"]),r.isOrderAlert?(l(),v(pa,{key:0,onCloseModal:i.closeAlertModal,alertModalMessage:r.alertModalMessage},null,8,["onCloseModal","alertModalMessage"])):p("",!0),r.isLoginAlert?(l(),v(ua,{key:1,onCloseModal:i.closeLoginModal,onLogin:i.loginToProceed,onDemo:i.demoToProceed},null,8,["onCloseModal","onLogin","onDemo"])):p("",!0),h(_a,{class:y({showConfirm:r.isOrdering&&i.isLoggedIn}),stay:r.stay,dates:i.getDates,guests:i.getGuests,user:i.getLoggedInUser,onCloseModal:i.closeConfirmationModal,onGoToMyTrips:i.goToMyTrips,onAddOrder:i.addOrder},null,8,["class","stay","dates","guests","user","onCloseModal","onGoToMyTrips","onAddOrder"]),r.isOrderAlert||r.isLoginAlert||r.isOrdering&&i.isLoggedIn?(l(),c("div",Vc)):p("",!0)])):p("",!0)])])):p("",!0)}var Wc=_(Cc,[["render",Jc]]);const Yc={name:"order-preview",emits:["updateStatus"],props:{order:{type:Object,required:!0}},methods:{goToStay(){this.$router.push(`/stay/${this.trip.stay._id}`)},getFormatedPrice(e){var s=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0});return s.format(e)},updateStatus(e){this.$emit("updateStatus",{status:e,orderId:this.order._id})},timeConversion(e){let s=new Date(e).getDate();s=s<10?"0"+s:s;let a=new Date(e).getMonth()+1;a=a<10?"0"+a:a;let n=new Date(e).getFullYear().toString().substring(2)+"";return`${s}/${a}/${n}`}},computed:{isUndisable(){this.order.startDate;const e=Date.now(),s=1e3*60*60*24;returnstartDate-e<s||this.order.status},isUnrejectable(){const e=this.order.startDate,s=Date.now(),a=1e3*60*60*24;return e-s<a||this.order.status==="rejected"||this.order.status==="canceled"},isUnapprovable(){const e=this.order.startDate,s=Date.now(),a=1e3*60*60*24;return e-s<a||this.order.status==="approved"||this.order.status==="canceled"},formattedText(){return this.order.stay.name.length>15?this.order.stay.name.slice(0,15)+"...":this.order.stay.name}}},Kc={class:"dashboard-order-cont"},zc={class:"date"},Qc={class:"booker"},Zc={class:"trip-dates"},Xc={class:"nights"},ed={class:"guests"},sd={class:"price"},td={class:"total"},ad={class:"actions actions-container"},id=["disabled"],rd=["disabled"];function od(e,s,a,n,r,i){return l(),c("section",Kc,[t("div",zc,g(i.timeConversion(a.order.createdAt)),1),t("div",Qc,g(a.order.buyer.fullname),1),t("div",{onClick:s[0]||(s[0]=(...o)=>i.goToStay&&i.goToStay(...o)),class:"stay"},g(i.formattedText),1),t("div",Zc,g(i.timeConversion(a.order.startDate))+" - "+g(i.timeConversion(a.order.endDate)),1),t("div",Xc,g(Math.round(a.order.totalPrice/a.order.stay.price)),1),t("div",ed,g(a.order.guests.adults+a.order.guests.children),1),t("div",sd,g(i.getFormatedPrice(a.order.stay.price))+" / n",1),t("div",td,g(i.getFormatedPrice(a.order.totalPrice)),1),t("div",{class:y(["status",a.order.status])},g(a.order.status),3),t("div",ad,[t("button",{disabled:i.isUnrejectable,class:"approve-btn",onClick:s[1]||(s[1]=o=>i.updateStatus("rejected"))}," Reject ",8,id),t("button",{disabled:i.isUnapprovable,class:"reject-btn",onClick:s[2]||(s[2]=o=>i.updateStatus("approved"))}," Approve ",8,rd)])])}var nd=_(Yc,[["render",od]]);const ld={name:"order-list",emits:["updateStatus"],props:{orders:{type:Array,required:!0}},methods:{updateStatus(e){this.$emit("updateStatus",e)}},components:{orderPreview:nd}},gd={class:"main-layout-homepage"},cd=k('<div class="dashboard-order-cont"><div class="dashboard-title date">Date</div><div class="dashboard-title booker">Booker</div><div class="dashboard-title stay">Stay</div><div class="dashboard-title trip-dates">Dates</div><div class="dashboard-title nights">Nights</div><div class="dashboard-title guests">Guests</div><div class="dashboard-title price">Price</div><div class="dashboard-title total">Total</div><div class="dashboard-title status">Status</div><div class="dashboard-title actions">Actions</div></div>',1);function dd(e,s,a,n,r,i){const o=u("order-preview");return l(),c("section",gd,[cd,(l(!0),c($,null,w(a.orders.slice().reverse(),d=>(l(),v(o,{key:d._id,order:d,onUpdateStatus:i.updateStatus},null,8,["order","onUpdateStatus"]))),128))])}var pd=_(ld,[["render",dd]]);ea.title=!1;ja.register(...ba);const ud={name:"Home",props:{data:{type:Object,requires:!0}},components:{PieChart:ea},data(){return{}},computed:{myStyles(){return{position:"relative",color:"blue"}}}},_d={style:{"{responsive":"true"}};function md(e,s,a,n,r,i){const o=u("PieChart");return l(),c("div",_d,[h(o,{styles:i.myStyles,class:"nights-pie",chartData:a.data},null,8,["styles","chartData"])])}var hd=_(ud,[["render",md]]);const yd={props:{orders:{type:Array,required:!0}},data(){return{options:{chart:{id:"vuechart-example",height:"400px"},fill:{colors:["#ff385c","#d90865","#d90865"]},plotOptions:{bar:{columnWidth:"80%",distributed:!1,columnColors:["black"]}},xaxis:{categories:["January","February","March","April"],labels:{style:{colors:["#222222"],fontSize:"13px"}}}},series:null}},created(){const e=[{name:"revenue",data:[0,0,0,0]}];this.orders.filter(a=>a.status==="approved").forEach(a=>{const n=new Date(a.createdAt).getMonth();e[0].data[n]+=a.totalPrice}),this.series=e}};function vd(e,s,a,n,r,i){const o=u("apexchart");return r.series?(l(),v(o,{key:0,width:"280",height:"170",type:"bar",options:r.options,series:r.series},null,8,["options","series"])):p("",!0)}var fd=_(yd,[["render",vd]]);const jd={name:"order-list",emits:["updateStatus"],props:{orders:{type:Array,required:!0}},data(){return{testData:null,totalRevenue:0}},created(){const e=this.orders.filter(r=>r.status==="approved"),s=e.reduce((r,i)=>r+i.totalPrice,0);this.totalRevenue=s;let a={labels:["1-3 nights","4-6 nights","+7 nights"],datasets:[{data:[],backgroundColor:["#b40000","#0000db","#338300"]}]},n=e.filter(r=>r.totalPrice/r.stay.price<=3).length;a.datasets[0].data.push(n),n=e.filter(r=>{const i=r.totalPrice/r.stay.price;return i>=4&&i<=6}).length,a.datasets[0].data.push(n),n=e.filter(r=>r.totalPrice/r.stay.price>=7).length,a.datasets[0].data.push(n),this.testData=a},computed:{pendingCount(){return this.orders.filter(s=>s.status==="pending").length},totalPriceAverage(){const e=this.orders.filter(a=>a.status==="approved"),s=this.totalRevenue;return this.getFormatedPrice(s/e.length)},cancelations(){const e=this.orders;return(e.filter(a=>a.status==="canceled").length/e.length*100).toFixed(1)+"%"},formattedRevenue(){return this.getFormatedPrice(this.totalRevenue)},thisYearRenevue(){const e=this.orders.filter(n=>n.status==="approved"),s=new Date().getFullYear(),a=e.filter(n=>new Date(n.createdAt).getFullYear()===s).reduce((n,r)=>n+r.totalPrice,0);return this.getFormatedPrice(a)},thisMonthRenevue(){const e=this.orders.filter(n=>n.status==="approved"),s=new Date().getMonth()+1,a=e.filter(n=>new Date(n.createdAt).getMonth()+1===s).reduce((n,r)=>n+r.totalPrice,0);return this.getFormatedPrice(a)}},methods:{getFormatedPrice(e){var s=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0});return s.format(e)}},components:{awesomeChart:hd,barChart:fd}},bd={class:"dashboard-stats main-layout-homepage"},Sd={class:"charts-container"},$d={class:"bar-container"},wd={class:"pie-container"},kd={class:"stat-cards-container"},Cd={class:"stats-card"},Md=t("h1",null,"Total revenue",-1),xd={class:"details"},Td={class:"rev-stat"},Ud=t("span",{class:"stat-head"},"This month",-1),Dd={class:"rev-stat"},Id=t("span",{class:"stat-head"},"This year",-1),Fd={class:"rev-stat"},Od=t("span",{class:"stat-head"},"Total summary",-1),Ad={class:"stats-card"},Ld=t("h1",null,"Orders management",-1),Pd={class:"details"},Gd={class:"rev-stat"},Bd=t("span",{class:"stat-head"},"Cancelations",-1),Rd={class:"canceled-stat"},Nd={class:"rev-stat"},qd=t("span",{class:"stat-head"},"Total price average",-1),Hd={class:"total-stat"},Ed={class:"rev-stat"},Vd=t("span",{class:"stat-head"},"Pending now",-1),Jd={class:"pending-stat"};function Wd(e,s,a,n,r,i){const o=u("bar-chart"),d=u("awesome-chart");return l(),c("section",bd,[t("div",Sd,[t("div",$d,[h(o,{orders:a.orders},null,8,["orders"])]),t("div",wd,[r.testData?(l(),v(d,{key:0,data:r.testData},null,8,["data"])):p("",!0)])]),t("div",kd,[t("div",Cd,[Md,t("div",xd,[t("div",Td,[Ud,t("span",null,g(i.thisMonthRenevue),1)]),t("div",Dd,[Id,t("span",null,g(i.thisYearRenevue),1)]),t("div",Fd,[Od,t("span",null,g(i.formattedRevenue),1)])])]),t("div",Ad,[Ld,t("div",Pd,[t("div",Gd,[Bd,t("span",Rd,g(i.cancelations),1)]),t("div",Nd,[qd,t("span",Hd,g(i.totalPriceAverage),1)]),t("div",Ed,[Vd,t("span",Jd,g(i.pendingCount)+" orders",1)])])])])])}var Yd=_(jd,[["render",Wd]]);const Kd={name:"dashboard",data(){return{isShowingMessage:!1,message:{},loggedInUser:{}}},async created(){this.loggedInUser=this.$store.getters.getLoggedInUser,x.emit("enter dashboard",this.loggedInUser._id),x.on("added order",this.orderAdded);const e={hostId:this.loggedInUser._id};try{await this.$store.dispatch({type:"loadOrders",filterBy:e})}catch(s){console.log("Error while loading orders: ",s)}},computed:{isLoading(){return this.$store.getters.isLoading},getOrders(){return this.$store.getters.getOrders}},methods:{showMessage(e){this.message=e,this.isShowingMessage=!0,setTimeout(()=>{this.isShowingMessage=!1},4500)},updateStatus({status:e,orderId:s}){const a=this.getOrders.find(r=>r._id===s),n=JSON.parse(JSON.stringify(a));n.status=e,this.$store.dispatch({type:"updateOrder",order:n}),x.emit("update status",n)},async orderAdded(){this.loggedInUser=this.$store.getters.getLoggedInUser;const e={hostId:this.loggedInUser._id};try{await this.$store.dispatch({type:"loadOrdersWithSocket",filterBy:e})}catch(a){console.log("Error while loading orders: ",a)}const s={text:"You have a new order",from:"user"};this.showMessage(s)}},components:{orderList:pd,dashboardStats:Yd,userMessage:aa}},zd={class:"dashboard main-layout-height"},Qd={key:0,class:"loading-img",src:Jt,alt:"Loading.."},Zd=t("h1",{class:"main-layout-homepage title"},"My dashboard",-1);function Xd(e,s,a,n,r,i){const o=u("user-message"),d=u("dashboard-stats"),m=u("order-list");return l(),c("section",zd,[h(o,{class:y({showUserMessage:r.isShowingMessage}),message:r.message},null,8,["class","message"]),i.isLoading?(l(),c("img",Qd)):p("",!0),Zd,i.isLoading?p("",!0):(l(),v(d,{key:1,orders:i.getOrders},null,8,["orders"])),i.isLoading?p("",!0):(l(),v(m,{key:2,orders:i.getOrders,onUpdateStatus:i.updateStatus},null,8,["orders","onUpdateStatus"]))])}var ep=_(Kd,[["render",Xd]]),sp="/assets/empty-like.6b08c87c.svg",tp="/assets/full-like.2b81a368.svg";const ap={props:{stay:{type:Object,required:!0}},data(){return{isLiked:!1}},methods:{likeCliked(){this.isLiked=!this.isLiked},stayClicked(){this.$router.push(`/stay/${this.stay._id}`)},getStayRate(e){return(e.reviewScores.rating/20).toFixed(2)},getReviewCount(e){return e.reviews.length+" reviews"},getImgUrl(e){return new URL({"../assets/images/001.jpeg":W,"../assets/images/002.jpeg":Y,"../assets/images/003.jpeg":K,"../assets/images/004.jpeg":z,"../assets/images/005.jpeg":Q,"../assets/images/006.jpeg":Z,"../assets/images/007.jpeg":X,"../assets/images/008.jpeg":ee,"../assets/images/009.jpeg":se,"../assets/images/010.jpeg":te,"../assets/images/011.jpeg":ae,"../assets/images/012.jpeg":ie,"../assets/images/013.jpeg":re,"../assets/images/014.jpeg":oe,"../assets/images/015.jpeg":ne,"../assets/images/016.jpeg":le,"../assets/images/017.jpeg":ge,"../assets/images/018.jpeg":ce,"../assets/images/019.jpeg":de,"../assets/images/020.jpeg":pe,"../assets/images/021.jpeg":ue,"../assets/images/022.jpeg":_e,"../assets/images/023.jpeg":me,"../assets/images/024.jpeg":he,"../assets/images/025.jpeg":ye,"../assets/images/026.jpeg":ve,"../assets/images/027.jpeg":fe,"../assets/images/028.jpeg":je,"../assets/images/029.jpeg":be,"../assets/images/030.jpeg":Se,"../assets/images/031.jpeg":$e,"../assets/images/032.jpeg":we,"../assets/images/033.jpeg":ke,"../assets/images/034.jpeg":Ce,"../assets/images/035.jpeg":Me,"../assets/images/036.jpeg":xe,"../assets/images/037.jpeg":Te,"../assets/images/038.jpeg":Ue,"../assets/images/039.jpeg":De,"../assets/images/040.jpeg":Ie,"../assets/images/041.jpeg":Fe,"../assets/images/042.jpeg":Oe,"../assets/images/043.jpeg":Ae,"../assets/images/044.jpeg":Le,"../assets/images/045.jpeg":Pe,"../assets/images/046.jpeg":Ge,"../assets/images/047.jpeg":Be,"../assets/images/048.jpeg":Re,"../assets/images/049.jpeg":Ne,"../assets/images/050.jpeg":qe,"../assets/images/051.jpeg":He,"../assets/images/052.jpeg":Ee,"../assets/images/053.jpeg":Ve,"../assets/images/054.jpeg":Je,"../assets/images/055.jpeg":We,"../assets/images/056.jpeg":Ye,"../assets/images/057.jpeg":Ke,"../assets/images/058.jpeg":ze,"../assets/images/059.jpeg":Qe,"../assets/images/060.jpeg":Ze,"../assets/images/061.jpeg":Xe,"../assets/images/062.jpeg":es,"../assets/images/063.jpeg":ss,"../assets/images/064.jpeg":ts,"../assets/images/065.jpeg":as,"../assets/images/066.jpeg":is,"../assets/images/067.jpeg":rs,"../assets/images/068.jpeg":os,"../assets/images/069.jpeg":ns,"../assets/images/070.jpeg":ls,"../assets/images/071.jpeg":gs,"../assets/images/072.jpeg":cs,"../assets/images/073.jpeg":ds,"../assets/images/074.jpeg":ps,"../assets/images/075.jpeg":us,"../assets/images/076.jpeg":_s,"../assets/images/077.jpeg":ms,"../assets/images/078.jpeg":hs,"../assets/images/079.jpeg":ys,"../assets/images/080.jpeg":vs,"../assets/images/081.jpeg":fs,"../assets/images/082.jpeg":js,"../assets/images/083.jpeg":bs,"../assets/images/084.jpeg":Ss,"../assets/images/085.jpeg":$s,"../assets/images/086.jpeg":ws,"../assets/images/087.jpeg":ks,"../assets/images/088.jpeg":Cs,"../assets/images/089.jpeg":Ms,"../assets/images/090.jpeg":xs,"../assets/images/091.jpeg":Ts,"../assets/images/092.jpeg":Us,"../assets/images/093.jpeg":Ds,"../assets/images/094.jpeg":Is,"../assets/images/095.jpeg":Fs,"../assets/images/096.jpeg":Os,"../assets/images/097.jpeg":As,"../assets/images/098.jpeg":Ls,"../assets/images/099.jpeg":Ps,"../assets/images/100.jpeg":Gs,"../assets/images/101.jpeg":Bs,"../assets/images/102.jpeg":Rs,"../assets/images/103.jpeg":Ns,"../assets/images/104.jpeg":qs,"../assets/images/105.jpeg":Hs,"../assets/images/106.jpeg":Es,"../assets/images/107.jpeg":Vs,"../assets/images/108.jpeg":Js,"../assets/images/109.jpeg":Ws,"../assets/images/110.jpeg":Ys,"../assets/images/111.jpeg":Ks,"../assets/images/112.jpeg":zs,"../assets/images/113.jpeg":Qs,"../assets/images/114.jpeg":Zs,"../assets/images/115.jpeg":Xs,"../assets/images/116.jpeg":et,"../assets/images/117.jpeg":st,"../assets/images/118.jpeg":tt,"../assets/images/119.jpeg":at,"../assets/images/120.jpeg":it,"../assets/images/121.jpeg":rt,"../assets/images/122.jpeg":ot,"../assets/images/123.jpeg":nt,"../assets/images/124.jpeg":lt,"../assets/images/125.jpeg":gt,"../assets/images/126.jpeg":ct,"../assets/images/127.jpeg":dt,"../assets/images/128.jpeg":pt,"../assets/images/129.jpeg":ut,"../assets/images/130.jpeg":_t,"../assets/images/131.jpeg":mt,"../assets/images/132.jpeg":ht,"../assets/images/133.jpeg":yt,"../assets/images/134.jpeg":vt,"../assets/images/135.jpeg":ft,"../assets/images/136.jpeg":jt,"../assets/images/137.jpeg":bt,"../assets/images/138.jpeg":St,"../assets/images/139.jpeg":$t,"../assets/images/140.jpeg":wt,"../assets/images/141.jpeg":kt,"../assets/images/142.jpeg":Ct,"../assets/images/143.jpeg":Mt,"../assets/images/144.jpeg":xt,"../assets/images/145.jpeg":Tt,"../assets/images/146.jpeg":Ut,"../assets/images/147.jpeg":Dt,"../assets/images/148.jpeg":It,"../assets/images/149.jpeg":Ft,"../assets/images/150.jpeg":Ot,"../assets/images/151.jpeg":At,"../assets/images/152.jpeg":Lt,"../assets/images/153.jpeg":Pt,"../assets/images/apartment.jpg":Gt,"../assets/images/Barcelona.jpg":L,"../assets/images/cabin.jpg":P,"../assets/images/cabin2.jpg":Bt,"../assets/images/condominium.jpg":Rt,"../assets/images/homepage3.jpg":Nt,"../assets/images/Hongkong.jpg":G,"../assets/images/Istanbul.jpg":B,"../assets/images/lidor.jpg":qt,"../assets/images/loft.jpg":Ht,"../assets/images/London.jpg":Et,"../assets/images/Maui.jpg":R,"../assets/images/Rome.jpg":Vt,"../assets/images/Villa.jpg":N}[`../assets/images/${e}`],self.location)}},computed:{}},ip={class:"carousele"},rp={class:"block"},op=["src"],np=t("div",{class:"like"},null,-1),lp={class:"card-preview-line"},gp=t("span",{class:"material-icons-outlined star"},"star",-1),cp={class:"card-rate"},dp={class:"reviews-count"},pp={class:"card-preview-line"},up=t("span",{class:"preview-dot"},"\xB7",-1),_p={class:"card-preview-price"},mp=t("span",null," / night",-1);function hp(e,s,a,n,r,i){const o=u("el-carousel-item"),d=u("el-carousel");return a.stay?(l(),c("li",{key:0,class:"card",onClick:s[2]||(s[2]=(...m)=>i.stayClicked&&i.stayClicked(...m))},[t("div",null,[t("div",ip,[t("div",rp,[h(d,{autoplay:!1},{default:U(()=>[(l(!0),c($,null,w(a.stay.imgUrls,m=>(l(),v(o,{key:m},{default:U(()=>[r.isLiked?p("",!0):(l(),c("img",{key:0,class:"like-img",src:sp,alt:"like",onClick:s[0]||(s[0]=A((...j)=>i.likeCliked&&i.likeCliked(...j),["stop"]))})),r.isLiked?(l(),c("img",{key:1,class:"like-img",src:tp,alt:"like",onClick:s[1]||(s[1]=A((...j)=>i.likeCliked&&i.likeCliked(...j),["stop"]))})):p("",!0),t("img",{class:"card-img",src:i.getImgUrl(m)},null,8,op)]),_:2},1024))),128))]),_:1})])]),np]),t("p",lp,[gp,t("span",cp,g(i.getStayRate(a.stay)),1),t("span",dp,"("+g(i.getReviewCount(a.stay))+")",1)]),t("p",pp,[t("span",null,g(a.stay.propertyType),1),up,t("span",null,g(a.stay.address.city),1)]),t("p",null,g(a.stay.name),1),t("p",null,[t("span",_p,g(e.$filters.currencyUSD(a.stay.price)),1),mp])])):p("",!0)}var yp=_(ap,[["render",hp]]);const vp={props:{stays:{type:Array,required:!0},city:{type:String,required:!0}},data(){return{}},components:{stayPreview:yp},computed:{isLoading(){return this.$store.getters.isLoading},getStaysPreviewTitle(){if(this.city){let s=this.city.split("").map((a,n)=>n?a.toLowerCase():a.toUpperCase()).join("");return`${this.stays.length} stays in ${s}`}return`${this.stays.length} stays`}},methods:{}},fp={key:0,class:"stay-list-container"},jp={key:0,class:"loading-img",src:Jt,alt:"Loading.."},bp={key:1,class:"stays-count"},Sp={key:2,class:"card-cont"},$p={key:3,class:"no-results"};function wp(e,s,a,n,r,i){const o=u("stay-preview");return a.stays?(l(),c("section",fp,[i.isLoading?(l(),c("img",jp)):p("",!0),a.stays.length&&!i.isLoading?(l(),c("p",bp,g(i.getStaysPreviewTitle),1)):p("",!0),a.stays.length&&!i.isLoading?(l(),c("ul",Sp,[(l(!0),c($,null,w(a.stays,d=>(l(),v(o,{key:d._id,stay:d},null,8,["stay"]))),128))])):p("",!0),!a.stays.length&&!i.isLoading?(l(),c("h1",$p,"No results")):p("",!0)])):p("",!0)}var kp=_(vp,[["render",wp]]);const Cp={props:{stays:{type:Array,required:!0},filterByCity:{type:String},filerByType:{type:Array}},data(){return{typeFromParams:{Apartment:!1,Loft:!1,Villa:!1,Cabin:!1},isPriceFiltering:!1,isTypeFiltering:!1,isTypeFromHomepage:!1,min:1,max:1800,isAmenityInFilter:{"Pets allowed":!1,Wifi:!1,"Smoking allowed":!1,"Air conditioning":!1,"Cable TV":!1},isTypeSelected:!1,isPriceSelected:!1,filterBy:{price:[],type:[],city:"",amenities:[],guests:null},options:[{title:"Apartment",description:"Have an entire place to yourself"},{title:"Loft",description:"Enjoy a space with elevated area"},{title:"Villa",description:"Have an impressive house to rest in"},{title:"Cabin",description:"Enjoy an adventure in a remote location"}]}},created(){const e=this.$store.getters.getFilterFromStore;this.filterBy=e,this.filterByCity&&(this.filterBy.city=this.filterByCity),this.filerByType&&(this.filterBy.type=this.filerByType,this.typeFromParams[this.filterBy.type[0]]=!0),this.setFilter()},components:{},methods:{toggleType(e){if(!this.isTypeFromHomepage){if(!this.filterBy.type.includes(e))this.filterBy.type.push(e);else{const s=this.filterBy.type.findIndex(a=>a===e);this.filterBy.type.splice(s,1)}this.isTypeSelected=!!this.filterBy.type.length,this.setTypeFilter()}},togglePriceModal(){this.isPriceFiltering=!this.isPriceFiltering,this.isPriceFiltering&&(this.isTypeFiltering=!1)},toggleTypeModal(){this.isTypeFiltering=!this.isTypeFiltering,this.isTypeFiltering&&(this.isPriceFiltering=!1)},setTypeFilter(){this.min=1,this.max=1800,this.setFilter()},setFilter(){const e=JSON.parse(JSON.stringify(this.filterBy));this.$emit("setFilter",e)},toggleAmenity(e){if(this.filterBy.amenities.includes(e)){const s=this.filterBy.amenities.findIndex(a=>a===e);this.filterBy.amenities.splice(s,1)}else this.filterBy.amenities.push(e);this.isAmenityInFilter[e]=!this.isAmenityInFilter[e],this.setFilter()}},computed:{priceSelected(){return this.filterBy.price[0]>1||this.filterBy.price[1]<1800},getPriceModalText(){return`$${this.filterBy.price[0]} - $${this.filterBy.price[1]}`},getTypeMenuTitle(){return this.filterBy.type.length?(this.isTypeSelected=!0,`${this.filterBy.type}`):(this.isTypeSelected=!1,"Type of place")}}},Mp={class:"explore-filter"},xp={class:"price-and-type-filters-cont"},Tp=t("span",{class:"type-span"},"Price",-1),Up={key:0,class:"material-icons-outlined"},Dp={key:1,class:"material-icons"},Ip={key:0,class:"modal price-modal"},Fp=t("span",{class:"type-span"},"Type of place",-1),Op={key:0,class:"material-icons-outlined"},Ap={key:1,class:"material-icons"},Lp={class:"modal-container"},Pp={class:"line-container"},Gp=["onUpdate:modelValue","onInput"],Bp=t("span",{class:"checkmark"},null,-1),Rp={class:"line-text flex flex-column"},Np={class:"type-modal-type-title"},qp={class:"type-modal-description"},Hp={class:"amenities-container"},Ep={class:"amenity-mini-container"},Vp={class:"amenity-mini-container"};function Jp(e,s,a,n,r,i){const o=u("el-slider");return l(),c("div",Mp,[t("div",xp,[t("div",{class:y(["explore-filter-item select-type-cont select-price flex align-center",{typeSelected:i.priceSelected}])},[t("span",{onClick:s[0]||(s[0]=(...d)=>i.togglePriceModal&&i.togglePriceModal(...d)),class:"flex align-center"},[Tp,r.isPriceFiltering?p("",!0):(l(),c("span",Up," arrow_drop_down ")),r.isPriceFiltering?(l(),c("span",Dp," arrow_drop_up ")):p("",!0)]),r.isPriceFiltering?(l(),c("div",Ip,[t("span",null,g(i.getPriceModalText),1),h(o,{class:"price-range",modelValue:r.filterBy.price,"onUpdate:modelValue":s[1]||(s[1]=d=>r.filterBy.price=d),onInput:i.setFilter,min:r.min,max:r.max,"show-input":!0,range:""},null,8,["modelValue","onInput","min","max"])])):p("",!0)],2),t("div",{class:y(["explore-filter-item select-type-cont",{typeSelected:r.isTypeSelected}])},[t("span",{class:"flex align-center",onClick:s[2]||(s[2]=(...d)=>i.toggleTypeModal&&i.toggleTypeModal(...d))},[Fp,r.isTypeFiltering?p("",!0):(l(),c("span",Op," arrow_drop_down ")),r.isTypeFiltering?(l(),c("span",Ap," arrow_drop_up ")):p("",!0)]),t("div",{class:y([{showTypeFilter:r.isTypeFiltering},"modal type-modal"])},[t("div",Lp,[(l(!0),c($,null,w(r.options,d=>(l(),c("div",{key:d,class:"type-modal-line"},[t("label",Pp,[T(t("input",{"onUpdate:modelValue":m=>r.typeFromParams[d.title]=m,type:"checkbox",onInput:m=>i.toggleType(d.title)},null,40,Gp),[[Sa,r.typeFromParams[d.title]]]),Bp,t("div",Rp,[t("span",Np,g(d.title),1),t("span",qp,g(d.description),1)])])]))),128))]),t("div",{class:"type-modal-btn btn-close",onClick:s[3]||(s[3]=(...d)=>i.toggleTypeModal&&i.toggleTypeModal(...d))}," Close ")],2)],2)]),t("div",Hp,[t("div",Ep,[t("span",{class:y(["amenity wifi",{amenitySelected:r.isAmenityInFilter.Wifi}]),title:"free WiFi connection",onClick:s[4]||(s[4]=d=>i.toggleAmenity("Wifi"))}," WiFi ",2),t("span",{class:y(["amenity",{amenitySelected:r.isAmenityInFilter["Pets allowed"]}]),title:"Pets alowed",onClick:s[5]||(s[5]=d=>i.toggleAmenity("Pets allowed"))}," Pets allowed ",2),t("span",{class:y(["amenity",{amenitySelected:r.isAmenityInFilter["Air conditioning"]}]),title:"Air conditioner",onClick:s[6]||(s[6]=d=>i.toggleAmenity("Air conditioning"))}," A/C ",2)]),t("div",Vp,[t("span",{class:y(["amenity smoking",{amenitySelected:r.isAmenityInFilter["Smoking allowed"]}]),title:"Smoking allowed",onClick:s[7]||(s[7]=d=>i.toggleAmenity("Smoking allowed"))}," Smoking allowed ",2),t("span",{class:y(["amenity",{amenitySelected:r.isAmenityInFilter["Cable TV"]}]),title:"Cable TV",onClick:s[8]||(s[8]=d=>i.toggleAmenity("Cable TV"))}," Cable TV ",2)])])])}var Wp=_(Cp,[["render",Jp]]);const Yp={name:"stay-app",data(){return{filterBy:{price:[1,4e3],type:[],city:"",amenities:[],guests:0}}},created(){const e=this.$store.getters.getGuestsNumber;if(this.filterBy.guests=e,this.$route.query.destination){let a=this.$route.query.destination.split("?")[0];this.filterBy.city=a||""}const s=this.$route.query.type;s&&this.filterBy.type.push(s),this.setFilter(this.filterBy)},computed:{getCityFilter(){return this.$store.getters.getCityFilter},getTypeFilter(){return this.$store.getters.getTypeFilter},staysForDisplay(){return this.$store.getters.getStays}},methods:{setFilter(e){this.$store.commit({type:"setFilter",filterBy:e}),this.$store.dispatch({type:"loadStays",filterBy:e})}},components:{stayList:kp,exploreFilter:Wp}},Kp={key:0,class:"main-layout-height app-page stay-app-layout"};function zp(e,s,a,n,r,i){const o=u("explore-filter"),d=u("stay-list");return i.staysForDisplay?(l(),c("section",Kp,[h(o,{stays:i.staysForDisplay,filerByType:i.getTypeFilter,filterByCity:i.getCityFilter,onSetFilter:i.setFilter},null,8,["stays","filerByType","filterByCity","onSetFilter"]),h(d,{stays:i.staysForDisplay,city:i.getCityFilter},null,8,["stays","city"])])):p("",!0)}var Qp=_(Yp,[["render",zp]]);const oa=$a({history:wa(),scrollBehavior(e,s,a){return{top:0}},routes:[{name:"home-page",path:"/",component:fr},{name:"about-page",path:"/about",component:xr},{name:"stay-app",path:"/stay",component:Qp},{name:"stay-details",path:"/stay/:stayId",component:Wc},{name:"host-page",path:"/host",component:Rr},{name:"dashboard",path:"/dashboard",component:ep},{name:"my-trips",path:"/mytrips",component:_o}]}),Zp={query:I,get:Xp,post:eu,put:tu,remove:au,postMany:su};function I(e){var s=JSON.parse(localStorage.getItem(e))||[];return Promise.resolve(s)}function Xp(e,s){return I(e).then(a=>a.find(n=>n._id===s))}function eu(e,s){return s._id=iu(),I(e).then(a=>(a.push(s),H(e,a),s))}function su(e,s){return I(e).then(a=>(a.push(...s),H(e,a),a))}function tu(e,s){return I(e).then(a=>{const n=a.findIndex(r=>r._id===s._id);return a.splice(n,1,s),H(e,a),s})}function au(e,s){return I(e).then(a=>{const n=a.findIndex(r=>r._id===s);a.splice(n,1),H(e,a)})}function H(e,s){localStorage.setItem(e,JSON.stringify(s))}function iu(e=8){for(var s="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)s+=a.charAt(Math.floor(Math.random()*a.length));return s}const ru="/api/";var ou=ka.create({withCredentials:!0});const f={get(e,s){return O(e,"GET",s)},post(e,s){return O(e,"POST",s)},put(e,s){return O(e,"PUT",s)},delete(e,s){return O(e,"DELETE",s)}};async function O(e,s="GET",a=null){try{return(await ou({url:`${ru}${e}`,method:s,data:a,params:s==="GET"?a:null})).data}catch(n){throw console.log(`Had Issues ${s}ing to the backend, endpoint: ${e}, with data:`,a),console.dir(n),n.response&&n.response.status===401&&(window.location.assign("/#/login"),oa.push("/login")),n}}const Xt={query:nu,getById:lu,save:cu,remove:gu};async function nu(e=null){return await f.get("stay",e)}async function lu(e){return await f.get(`stay/${e}`)}async function gu(e){return await f.delete(`stay/${e}`)}async function cu(e){return toy._id?await f.put(`stay/${e._id}`,e):await f.post("stay",e)}var du={state:{stays:[],filterBy:{price:[],type:[],city:"",amenities:[],guests:0}},getters:{getFilterFromStore(e){return JSON.parse(JSON.stringify(e.filterBy))},getStays(e){return JSON.parse(JSON.stringify(e.stays))},getGuestsNumber(e){return e.filterBy.guests},getCityFilter(e){return e.filterBy.city},getTypeFilter(e){return e.filterBy.type},getTopRatedStays(e){if(!e.stays.length)return;let s=JSON.parse(JSON.stringify(e.stays));return s=s.filter(a=>!!a.reviewScores.rating),s.splice(4),s},getStaysForDisplay(e){let s=JSON.parse(JSON.stringify(e.stays));if(!!s.length)return s}},mutations:{setGuestsFilter(e,{guests:s}){e.filterBy.guests=s},setCityFilter(e,{city:s}){e.filterBy.city=s},setFilter(e,{filterBy:s}){e.filterBy=s},setStays(e,{stays:s}){e.stays=s}},actions:{async getStayById(e,{stayId:s}){try{return await Xt.getById(s)}catch{}},async loadStays({commit:e,state:s},{filterBy:a}){e({type:"setIsLoading",isLoading:!0});try{const n=await Xt.query(a);e({type:"setStays",stays:n})}catch(n){console.log("Error while loading stays: ",n)}finally{e({type:"setIsLoading",isLoading:!1})}},filter({commit:e,dispatch:s},{filterBy:a}){e({type:"setFilter",filterBy:a}),s({type:"loadStays"})}}};const pu="user_db",Wt="loggedinUser",S={login:uu,logout:vu,signup:yu,getLoggedinUser:na,getUsers:hu,getById:_u,update:mu};window.userService=S;async function uu(e){try{const s=await f.post("auth/login",e);if(s)return Yt(s)}catch{console.log("Error while trying to login")}}async function _u(e){return await f.get(`user/${e}`)}async function mu(e){return e=await f.put(`user/${e._id}`,e),na()._id===e._id&&Yt(e),e}async function hu(){let e=await Zp.query(pu);return(!e||!e.length)&&(e=await _createUsers()),e}async function yu(e){const s=await f.post("auth/signup",e);return Yt(s)}async function vu(){sessionStorage.removeItem(Wt)}function Yt(e){return sessionStorage.setItem(Wt,JSON.stringify(e)),e}function na(){return JSON.parse(sessionStorage.getItem(Wt)||"null")}var fu={state:{users:null,loggedInUser:null,isSignUpModal:!1},getters:{getUsers(e){return JSON.parse(JSON.stringify(e.users))},isSignUpModal(e){return e.isSignUpModal},getLoggedInUser(e){return e.loggedInUser}},mutations:{openSignUpModal(e){e.isSignUpModal=!0},closeSignUpModal(e){e.isSignUpModal=!1},setLoggedinUser(e,{loggedInUser:s}){e.loggedInUser=s},setUsers(e,{users:s}){e.users=s},saveUser(e,{user:s}){const a=e.users.findIndex(n=>n._id===s._id);a!==-1?e.users.splice(a,1,s):e.users.unshift(s)}},actions:{async login({commit:e,dispatch:s,getters:a},{user:n}){try{const r=await S.login(n);e({type:"setLoggedinUser",loggedInUser:r});const i={hostId:r._id};await s({type:"loadOrders",filterBy:i})}catch(r){throw console.log("Error while trying to log in",r),new Error("Somethig went wrong. Try again")}},async logout({commit:e,dispatch:s}){await S.logout(),e({type:"setLoggedinUser",loggedInUser:null}),e({type:"setOrders",orders:null})},async getUserById(e,{userId:s}){return await S.getById(s)},async loadUsers({commit:e,state:s}){const a=await S.getUsers();e({type:"setUsers",users:a})},async saveUser({commit:e,dispatch:s},{user:a}){await S.save(a),e({type:"saveUser",user:a}),s({type:"loadUsers"})},getUserFromSession({commit:e}){console.log("store getUserFromSession 1");const s=S.getLoggedinUser();e({type:"setLoggedinUser",loggedInUser:s})}}};const E="order",F={query:ju,addOrder:Su,removeOrder:wu,updateOrder:$u,getById:bu};async function ju(e={}){return await f.get(E,e)}async function bu(e){return await f.get(`order/${e}`)}async function Su(e){return await f.post(E,e)}async function $u(e){return await f.put(`${E}/${e._id}`,e)}async function wu(e){return await f.delete(`${E}/${e}`,e)}var ku={state:{location:"",dates:null,guests:{adults:0,children:0},orders:[],total:0},getters:{getOrders(e){return e.orders},getTotalPrice(e){return e.total},getLocation(e){return e.location},getDates(e){return e.dates},getGuests(e){return b({},e.guests)}},mutations:{clearOrdersFromStore(e){e.orders=[],console.log("orders cleared: ",e.orders)},setTotalPrice(e,{totalPrice:s}){e.total=s},setLocation(e,{location:s}){e.location=s},setDates(e,{dates:s}){e.dates=s},setGuests(e,{guests:s}){e.guests=s},setOrders(e,{orders:s}){e.orders=s},addOrder(e,{order:s}){e.orders.push(s)},updateOrder(e,{order:s}){const a=e.orders.findIndex(n=>n._id===s._id);e.orders.splice(a,1,s)},removeOrder(e,{orderId:s}){const a=e.orders.findIndex(n=>n._id===s);e.orders.splice(a,1)},clearOrderingDetails(e){e.location="",e.dates=null,e.guests={adults:0,children:0},e.total=0}},actions:{async loadOrders({commit:e},{filterBy:s}){e({type:"setIsLoading",isLoading:!0});try{const a=await F.query(s);e({type:"setOrders",orders:a})}catch(a){console.log("err :>> ",a)}finally{e({type:"setIsLoading",isLoading:!1})}},async loadOrdersWithSocket({commit:e},{filterBy:s}){try{const a=await F.query(s);return e({type:"setOrders",orders:a}),a}catch(a){console.log("err :>> ",a)}},async addOrder({commit:e},{order:s}){try{const a=await F.addOrder(s);e({type:"addOrder",order:a})}catch(a){console.log("err :>> ",a)}},async updateOrder({commit:e},{order:s}){try{const a=await F.updateOrder(s);e({type:"updateOrder",order:a})}catch(a){console.log("err :>> ",a)}},async removeOrder({commit:e},{orderId:s}){try{await F.removeOrder(s),e({type:"removeOrder",orderId:s})}catch(a){console.log("err :>> ",a)}}}};const Cu=Ca({strict:!0,state:{isLoading:!1},getters:{isLoading(e){return e.isLoading}},mutations:{setIsLoading(e,{isLoading:s}){e.isLoading=s}},actions:{},modules:{stayStore:du,userStore:fu,orderStore:ku}});const C=Ma(ar);C.config.globalProperties.$filters={currencyUSD(e){return"$"+e},getDateForDisplay(e){const s=new Date,a=new Date(e),n=s.getDay(),r=a.getDay(),i=s-a,o=a.getHours(),d=a.getMinutes();return i<1e3*60?`${(i/1e3).toFixed(0)} seconds ago `:i<1e3*60*60?`${(i/(1e3*60)).toFixed(0)} minutes ago `:i<1e3*60*60*24&&n===r?`Today, ${o<10?"0"+o:o}:${d<10?"0"+d:d} `:i<1e3*60*60*24*2&&(Math.abs(n-r)===1||Math.abs(n-r)===6)?`Yesterday, ${o<10?"0"+o:o}:${d<10?"0"+d:d} `:`${a.getDate()<10?"0"+a.getDate():a.getDate()}/${a.getMonth()<9?"0"+(a.getMonth()+1):a.getMonth()+1},  ${o<10?"0"+o:o}:${d<10?"0"+d:d} `}};C.use(oa);C.use(Cu);C.use(xa);C.use(Ta,{load:{key:"AIzaSyAcZWoRl-gITKbAK7tl0NjQ8nJkMb5tF40"}});C.use(Ua);C.mount("#app");
